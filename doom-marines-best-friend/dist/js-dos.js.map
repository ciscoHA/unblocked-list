{"version":3,"file":"js-dos.js","sources":["../node_modules/preact/dist/preact.module.js","../node_modules/preact/hooks/dist/hooks.module.js","../node_modules/preact/compat/dist/compat.module.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../node_modules/use-sync-external-store/shim/index.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","../node_modules/use-sync-external-store/shim/with-selector.js","../node_modules/react-redux/es/utils/batch.js","../node_modules/react-redux/es/components/Context.js","../node_modules/react-redux/es/hooks/useReduxContext.js","../node_modules/react-redux/es/hooks/useSelector.js","../node_modules/react-redux/es/utils/useSyncExternalStore.js","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/index.js","../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../node_modules/react-redux/node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-redux/es/utils/Subscription.js","../node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","../node_modules/react-redux/es/components/Provider.js","../node_modules/react-redux/es/hooks/useStore.js","../node_modules/react-redux/es/hooks/useDispatch.js","../node_modules/immer/dist/immer.esm.mjs","../node_modules/react-redux/es/index.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/redux/es/redux.js","../node_modules/redux-thunk/es/index.js","../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js","../src/host/lstorage.ts","../src/host/lcache.ts","../src/store/auth.ts","../src/i18n.ts","../src/store/storage.ts","../src/frame/editor/defaults.ts","../src/store/editor.ts","../src/store/init.ts","../src/store.tsx","../src/store/dos.ts","../src/store/ui.ts","../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../src/components/close-button.tsx","../src/v8/config.ts","../src/login/login.tsx","../src/v8/subscriptions.ts","../src/frame/account-frame.tsx","../src/frame/editor/editor-conf-frame.tsx","../node_modules/react-checkbox-tree/lib/index.browser.js","../src/v8/changes.ts","../src/load.ts","../src/host/bundle-storage.ts","../src/download-file.ts","../src/frame/editor/editor-fs-frame.tsx","../src/components/select.tsx","../src/components/dos-option-select.tsx","../src/components/lock.tsx","../src/frame/fat-drives-frame.tsx","../src/components/checkbox.tsx","../src/frame/network-frame.tsx","../src/sidebar/diskette-icon.tsx","../src/sidebar/cloud-save-button.tsx","../src/frame/quick-save-frame.tsx","../src/components/dos-option-checkbox.tsx","../src/components/slider.tsx","../src/components/dos-option-slider.tsx","../src/frame/settings-frame.tsx","../src/frame/stats-frame.tsx","../src/frame/image-rendering-frame.tsx","../src/window/prerun-window.tsx","../src/frame/prerun-frame.tsx","../src/frame/frame.tsx","../src/sidebar/account-button.tsx","../src/host/fullscreen.ts","../src/sidebar/fullscreen-button.tsx","../src/sidebar/network-button.tsx","../src/sidebar/sidebar-button.tsx","../src/window/dos/controls/mouse/pointer.ts","../src/sidebar/sidebar.tsx","../src/window/dos/controls/keys.ts","../src/window/dos/render/resize.ts","../src/window/dos/render/webgl.ts","../src/window/dos/render/canvas.ts","../src/window/dos/sound/audio-node.ts","../src/window/dos/controls/mouse/mount.ts","../src/window/dos/controls/mouse/mouse-not-locked.ts","../src/window/dos/controls/mouse/mouse-swipe.ts","../src/window/dos/controls/mouse.ts","../src/window/dos/controls/mouse/mouse-locked.ts","../src/layers/dom/helpers.ts","../src/layers/dom/layers.ts","../src/layers/controls/layers-config.ts","../src/layers/controls/button.ts","../src/layers/controls/mouse/mouse-swipe.ts","../src/layers/controls/mouse/mouse-not-locked.ts","../src/layers/controls/mouse/mouse-common.ts","../src/layers/controls/mouse/mouse-locked.ts","../node_modules/nipplejs/src/utils.js","../node_modules/nipplejs/src/super.js","../node_modules/nipplejs/src/nipple.js","../node_modules/nipplejs/src/collection.js","../node_modules/nipplejs/src/manager.js","../node_modules/nipplejs/src/index.js","../src/layers/controls/options.ts","../src/layers/controls/keyboard.ts","../src/layers/controls/legacy-layers-control.ts","../src/layers/controls/nipple.ts","../src/layers/controls/grid.ts","../src/layers/controls/layers-control.ts","../src/window/dos/dos-runtime.tsx","../src/window/dos/controls/keyboard.ts","../src/window/dos/dos-dhry2.tsx","../src/sockdrive/js/src/sockdrive/lru.ts","../src/sockdrive/js/src/sockdrive/cache.ts","../src/sockdrive/js/src/sockdrive/drive.ts","../src/ws/ws-transport-layer.ts","../src/ws/ws-sockdrive.ts","../src/window/soft-keyboard.tsx","../src/window/dos/dos-window.tsx","../src/components/error.tsx","../src/window/error-window.tsx","../src/components/loading.tsx","../src/window/loading-window.tsx","../src/window/select-window.tsx","../src/window/window.tsx","../src/ui.tsx","../src/main.tsx"],"sourcesContent":["var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function g(n){return n.children}function b(n,l){this.props=n,this.context=l}function m(n,l){if(null==l)return n.__?m(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?m(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function w(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,u,t,o,r,e,c,s,a;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,s=[],a=[],(c=t.__P)&&((o=v({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),L(c,o,r,t.__n,void 0!==c.ownerSVGElement,32&r.__u?[e]:null,s,null==e?m(r):e,!!(32&r.__u),a),o.__.__k[o.__i]=o,M(s,o,a),o.__e!=e&&k(o)),i.length>u&&i.sort(f));x.__r=0}function C(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s,b=l.length;for(u.__d=e,P(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c:g[y.__i]||c,y.__i=v,L(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&z(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=S(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_}function P(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d(null,i,null,null,i):h(i)?d(g,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=H(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o))}function S(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=S(t[i],l,u));return l}return n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e),l&&l.nextSibling}function $(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){$(n,l)}):l.push(n)),l}function H(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?D:A,o)):n.removeEventListener(l,o?D:A,o);else{if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function A(n){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l.event?l.event(n):n)}function D(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,k,w,x,P,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof A)try{if(w=u.props,x=(a=A.contextType)&&i[a.__c],P=a?x?x.props.value:a.__:i,t.__c?k=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(w,P):(u.__c=p=new b(w,P),p.constructor=A,p.render=O),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=P,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,A.getDerivedStateFromProps(w,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&w!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,P),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,P)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=w,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,P),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m)})}if(p.context=P,p.props=w,p.__P=n,p.__e=!1,$=l.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),C(n,h(T=null!=a&&a.type===g&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),k&&(p.__E=p.__=null)}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=j(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function M(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)z(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function j(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,k=t.props,w=u.props,x=u.type;if(\"svg\"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(w);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,w.is&&w),r=null,e=!1}if(null===x)k===w||e&&l.data===w||(l.data=w);else{if(r=r&&n.call(l.childNodes),k=t.props||c,!e&&null!=r)for(k={},a=0;a<l.attributes.length;a++)k[(_=l.attributes[a]).name]=_.value;for(a in k)_=k[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in w||T(l,a,null,_,o));for(a in w)_=w[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||k[a]===_||T(l,a,_,k[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),C(l,h(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==k[a])&&T(l,a,g,k[a],!1),a=\"checked\",void 0!==b&&b!==l[a]&&T(l,a,b,k[a],!1))}return l}function z(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function N(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||z(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&N(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function q(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],L(t,u=(!o&&i||t).__k=y(g,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),M(f,u,e)}function B(n,l){q(n,l,B)}function E(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function F(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=g,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,g as Fragment,E as cloneElement,F as createContext,y as createElement,_ as createRef,y as h,B as hydrate,t as isValidElement,l as options,q as render,$ as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[],t=0)),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,p as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,y as useLayoutEffect,F as useMemo,s as useReducer,_ as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function w(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(E.prototype=new n).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function N(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var k=function(n,t){return null==n?null:r(r(n).map(t))},A={map:k,forEach:k,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},O=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);O(n,t,e,r)};var T=e.unmount;function F(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return F(n,t,e)})),n}function I(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return I(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function D(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function M(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),T&&T(n)},(L.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=I(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=F(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var V=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function W(n){return this.getChildContext=function(){return n.context},n.children}function P(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(W,{context:e.context},n.__v),e.l)}function j(n,e){var r=t(P,{__v:n,i:e});return r.containerInfo=e,r}(M.prototype=new n).__a=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),V(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){V(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Z=/[A-Z0-9]/g,Y=\"undefined\"!=typeof document,$=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function q(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function G(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var J=e.event;function K(){}function Q(){return this.cancelBubble}function X(){return this.defaultPrevented}e.event=function(n){return J&&(n=J(n)),n.persist=K,n.isPropagationStopped=Q,n.isDefaultPrevented=X,n.nativeEvent=n};var nn,tn={enumerable:!1,configurable:!0,get:function(){return this.class}},en=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={};for(var o in t){var i=t[o];if(!(\"value\"===o&&\"defaultValue\"in t&&null==i||Y&&\"children\"===o&&\"noscript\"===e||\"class\"===o||\"className\"===o)){var l=o.toLowerCase();\"defaultValue\"===o&&\"value\"in t&&null==t.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":\"ondoubleclick\"===l?o=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||$(t.type)?\"onfocus\"===l?o=\"onfocusin\":\"onblur\"===l?o=\"onfocusout\":H.test(o)?o=l:-1===e.indexOf(\"-\")&&B.test(o)?o=o.replace(Z,\"-$&\").toLowerCase():null===i&&(i=void 0):l=o=\"oninput\",\"oninput\"===l&&u[o=l]&&(o=\"oninputCapture\"),u[o]=i}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",tn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=z,en&&en(n)};var rn=e.__r;e.__r=function(n){rn&&rn(n),nn=n.__c};var un=e.diffed;e.diffed=function(n){un&&un(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),nn=null};var on={ReactCurrentDispatcher:{current:{readContext:function(n){return nn.__n[n.__c].props.value}}}},ln=\"17.0.2\";function cn(n){return t.bind(null,n)}function fn(n){return!!n&&n.$$typeof===z}function an(n){return fn(n)&&n.type===u}function sn(n){return fn(n)?f.apply(null,arguments):n}function hn(n){return!!n.__k&&(o(null,n),!0)}function vn(n){return n&&(n.base||1===n.nodeType&&n)||null}var dn=function(n,t){return n(t)},pn=function(n,t){return n(t)},mn=u;function yn(n){n()}function _n(n){return n}function bn(){return[!1,yn]}var Sn=d,gn=fn;function Cn(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,En(u)&&o({h:u})},[n,e,t]),v(function(){return En(u)&&o({h:u}),n(function(){En(u)&&o({h:u})})},[n]),e}function En(n){var t,e,r=n.v,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}var wn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:Sn,useTransition:bn,useDeferredValue:_n,useSyncExternalStore:Cn,startTransition:yn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:A,render:q,hydrate:G,unmountComponentAtNode:hn,createPortal:j,createElement:t,createContext:l,createFactory:cn,cloneElement:sn,createRef:c,Fragment:u,isValidElement:fn,isElement:gn,isFragment:an,findDOMNode:vn,Component:n,PureComponent:E,memo:w,forwardRef:N,flushSync:pn,unstable_batchedUpdates:dn,StrictMode:mn,Suspense:L,SuspenseList:M,lazy:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:on};export{A as Children,E as PureComponent,mn as StrictMode,L as Suspense,M as SuspenseList,on as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sn as cloneElement,cn as createFactory,j as createPortal,wn as default,vn as findDOMNode,pn as flushSync,N as forwardRef,G as hydrate,gn as isElement,an as isFragment,fn as isValidElement,D as lazy,w as memo,q as render,yn as startTransition,hn as unmountComponentAtNode,dn as unstable_batchedUpdates,_n as useDeferredValue,Sn as useInsertionEffect,Cn as useSyncExternalStore,bn as useTransition,ln as version};\n//# sourceMappingURL=compat.module.js.map\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","// Default to a dummy \"batch\" implementation that just runs the callback\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\nlet batch = defaultNoopBatch; // Allow injecting another batching function later\n\nexport const setBatch = newBatch => batch = newBatch; // Supply a getter just to skip dealing with ESM bindings\n\nexport const getBatch = () => batch;","import * as React from 'react';\nconst ContextKey = Symbol.for(`react-redux-context`);\nconst gT = typeof globalThis !== \"undefined\" ? globalThis :\n/* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */\n{};\n\nfunction getContext() {\n  var _gT$ContextKey;\n\n  if (!React.createContext) return {};\n  const contextMap = (_gT$ContextKey = gT[ContextKey]) != null ? _gT$ContextKey : gT[ContextKey] = new Map();\n  let realContext = contextMap.get(React.createContext);\n\n  if (!realContext) {\n    realContext = React.createContext(null);\n\n    if (process.env.NODE_ENV !== 'production') {\n      realContext.displayName = 'ReactRedux';\n    }\n\n    contextMap.set(React.createContext, realContext);\n  }\n\n  return realContext;\n}\n\nexport const ReactReduxContext = /*#__PURE__*/getContext();\nexport default ReactReduxContext;","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\n\n/**\r\n * Hook factory, which creates a `useReduxContext` hook bound to a given context. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useReduxContext` hook bound to the specified context.\r\n */\nexport function createReduxContextHook(context = ReactReduxContext) {\n  return function useReduxContext() {\n    const contextValue = useContext(context);\n\n    if (process.env.NODE_ENV !== 'production' && !contextValue) {\n      throw new Error('could not find react-redux context value; please ensure the component is wrapped in a <Provider>');\n    }\n\n    return contextValue;\n  };\n}\n/**\r\n * A hook to access the value of the `ReactReduxContext`. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @returns {any} the value of the `ReactReduxContext`\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useReduxContext } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const { store } = useReduxContext()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useReduxContext = /*#__PURE__*/createReduxContextHook();","import { useCallback, useDebugValue, useRef } from 'react';\nimport { createReduxContextHook, useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport { ReactReduxContext } from '../components/Context';\nimport { notInitialized } from '../utils/useSyncExternalStore';\nlet useSyncExternalStoreWithSelector = notInitialized;\nexport const initializeUseSelector = fn => {\n  useSyncExternalStoreWithSelector = fn;\n};\n\nconst refEquality = (a, b) => a === b;\n/**\r\n * Hook factory, which creates a `useSelector` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useSelector` hook bound to the specified context.\r\n */\n\n\nexport function createSelectorHook(context = ReactReduxContext) {\n  const useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : createReduxContextHook(context);\n  return function useSelector(selector, equalityFnOrOptions = {}) {\n    const {\n      equalityFn = refEquality,\n      stabilityCheck = undefined,\n      noopCheck = undefined\n    } = typeof equalityFnOrOptions === 'function' ? {\n      equalityFn: equalityFnOrOptions\n    } : equalityFnOrOptions;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!selector) {\n        throw new Error(`You must pass a selector to useSelector`);\n      }\n\n      if (typeof selector !== 'function') {\n        throw new Error(`You must pass a function as a selector to useSelector`);\n      }\n\n      if (typeof equalityFn !== 'function') {\n        throw new Error(`You must pass a function as an equality function to useSelector`);\n      }\n    }\n\n    const {\n      store,\n      subscription,\n      getServerState,\n      stabilityCheck: globalStabilityCheck,\n      noopCheck: globalNoopCheck\n    } = useReduxContext();\n    const firstRun = useRef(true);\n    const wrappedSelector = useCallback({\n      [selector.name](state) {\n        const selected = selector(state);\n\n        if (process.env.NODE_ENV !== 'production') {\n          const finalStabilityCheck = typeof stabilityCheck === 'undefined' ? globalStabilityCheck : stabilityCheck;\n\n          if (finalStabilityCheck === 'always' || finalStabilityCheck === 'once' && firstRun.current) {\n            const toCompare = selector(state);\n\n            if (!equalityFn(selected, toCompare)) {\n              let stack = undefined;\n\n              try {\n                throw new Error();\n              } catch (e) {\n                ;\n                ({\n                  stack\n                } = e);\n              }\n\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned a different result when called with the same parameters. This can lead to unnecessary rerenders.' + '\\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization', {\n                state,\n                selected,\n                selected2: toCompare,\n                stack\n              });\n            }\n          }\n\n          const finalNoopCheck = typeof noopCheck === 'undefined' ? globalNoopCheck : noopCheck;\n\n          if (finalNoopCheck === 'always' || finalNoopCheck === 'once' && firstRun.current) {\n            // @ts-ignore\n            if (selected === state) {\n              let stack = undefined;\n\n              try {\n                throw new Error();\n              } catch (e) {\n                ;\n                ({\n                  stack\n                } = e);\n              }\n\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned the root state when called. This can lead to unnecessary rerenders.' + '\\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.', {\n                stack\n              });\n            }\n          }\n\n          if (firstRun.current) firstRun.current = false;\n        }\n\n        return selected;\n      }\n\n    }[selector.name], [selector, globalStabilityCheck, stabilityCheck]);\n    const selectedState = useSyncExternalStoreWithSelector(subscription.addNestedSub, store.getState, getServerState || store.getState, wrappedSelector, equalityFn);\n    useDebugValue(selectedState);\n    return selectedState;\n  };\n}\n/**\r\n * A hook to access the redux store's state. This hook takes a selector function\r\n * as an argument. The selector is called with the store state.\r\n *\r\n * This hook takes an optional equality comparison function as the second parameter\r\n * that allows you to customize the way the selected state is compared to determine\r\n * whether the component needs to be re-rendered.\r\n *\r\n * @param {Function} selector the selector function\r\n * @param {Function=} equalityFn the function that will be used to determine equality\r\n *\r\n * @returns {any} the selected state\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useSelector } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const counter = useSelector(state => state.counter)\r\n *   return <div>{counter}</div>\r\n * }\r\n */\n\nexport const useSelector = /*#__PURE__*/createSelectorHook();","export const notInitialized = () => {\n  throw new Error('uSES not initialized!');\n};","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  const batch = getBatch();\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n\n    notify() {\n      batch(() => {\n        let listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n\n    get() {\n      let listeners = [];\n      let listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n\n    subscribe(callback) {\n      let isSubscribed = true;\n      let listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n\n  };\n}\n\nconst nullListeners = {\n  notify() {},\n\n  get: () => []\n};\nexport function createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners; // Reasons to keep the subscription active\n\n  let subscriptionsAmount = 0; // Is this specific subscription subscribed (or only nested ones?)\n\n  let selfSubscribed = false;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    const cleanupListener = listeners.subscribe(listener); // cleanup nested sub\n\n    let removed = false;\n    return () => {\n      if (!removed) {\n        removed = true;\n        cleanupListener();\n        tryUnsubscribe();\n      }\n    };\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return selfSubscribed;\n  }\n\n  function trySubscribe() {\n    subscriptionsAmount++;\n\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    subscriptionsAmount--;\n\n    if (unsubscribe && subscriptionsAmount === 0) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  function trySubscribeSelf() {\n    if (!selfSubscribed) {\n      selfSubscribed = true;\n      trySubscribe();\n    }\n  }\n\n  function tryUnsubscribeSelf() {\n    if (selfSubscribed) {\n      selfSubscribed = false;\n      tryUnsubscribe();\n    }\n  }\n\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe: trySubscribeSelf,\n    tryUnsubscribe: tryUnsubscribeSelf,\n    getListeners: () => listeners\n  };\n  return subscription;\n}","import * as React from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n// Matches logic in React's `shared/ExecutionEnvironment` file\n\nexport const canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\nexport const useIsomorphicLayoutEffect = canUseDOM ? React.useLayoutEffect : React.useEffect;","import * as React from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState,\n  stabilityCheck = 'once',\n  noopCheck = 'once'\n}) {\n  const contextValue = React.useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : undefined,\n      stabilityCheck,\n      noopCheck\n    };\n  }, [store, serverState, stabilityCheck, noopCheck]);\n  const previousState = React.useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      subscription\n    } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = undefined;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext; // @ts-ignore 'AnyAction' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nexport default Provider;","import { ReactReduxContext } from '../components/Context';\nimport { useReduxContext as useDefaultReduxContext, createReduxContextHook } from './useReduxContext';\n/**\r\n * Hook factory, which creates a `useStore` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useStore` hook bound to the specified context.\r\n */\n\nexport function createStoreHook(context = ReactReduxContext) {\n  const useReduxContext = // @ts-ignore\n  context === ReactReduxContext ? useDefaultReduxContext : // @ts-ignore\n  createReduxContextHook(context);\n  return function useStore() {\n    const {\n      store\n    } = useReduxContext(); // @ts-ignore\n\n    return store;\n  };\n}\n/**\r\n * A hook to access the redux store.\r\n *\r\n * @returns {any} the redux store\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useStore } from 'react-redux'\r\n *\r\n * export const ExampleComponent = () => {\r\n *   const store = useStore()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useStore = /*#__PURE__*/createStoreHook();","import { ReactReduxContext } from '../components/Context';\nimport { useStore as useDefaultStore, createStoreHook } from './useStore';\n/**\r\n * Hook factory, which creates a `useDispatch` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useDispatch` hook bound to the specified context.\r\n */\n\nexport function createDispatchHook(context = ReactReduxContext) {\n  const useStore = // @ts-ignore\n  context === ReactReduxContext ? useDefaultStore : createStoreHook(context);\n  return function useDispatch() {\n    const store = useStore(); // @ts-ignore\n\n    return store.dispatch;\n  };\n}\n/**\r\n * A hook to access the redux `dispatch` function.\r\n *\r\n * @returns {any|function} redux store's `dispatch` function\r\n *\r\n * @example\r\n *\r\n * import React, { useCallback } from 'react'\r\n * import { useDispatch } from 'react-redux'\r\n *\r\n * export const CounterComponent = ({ value }) => {\r\n *   const dispatch = useDispatch()\r\n *   const increaseCounter = useCallback(() => dispatch({ type: 'increase-counter' }), [])\r\n *   return (\r\n *     <div>\r\n *       <span>{value}</span>\r\n *       <button onClick={increaseCounter}>Increase counter</button>\r\n *     </div>\r\n *   )\r\n * }\r\n */\n\nexport const useDispatch = /*#__PURE__*/createDispatchHook();","function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?n.add(t):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0)),n}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function g(n){O(n),n.p.forEach(S),n.p=null}function O(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.g=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.O||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(g(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o,u=o,a=!1;3===e.i&&(u=new Set(o),o.clear(),a=!0),i(u,(function(r,i){return A(n,e,o,r,i,t,a)})),x(n,o,!1),t&&n.u&&b(\"Patches\").N(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s,v){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),r(c)){var p=M(e,c,s&&i&&3!==i.i&&!u(i.R,a)?s.concat(a):void 0);if(f(o,a,p),!r(p))return;e.m=!1}else v&&o.add(c);if(t(c)&&!y(c)){if(!e.h.D&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),!n.l&&n.h.D&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function N(n,r,t){var e=s(r)?b(\"MapSet\").F(r,t):v(r)?b(\"MapSet\").T(r,t):n.O?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function R(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=D(r,c),u.I=!1}else e=D(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function D(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function F(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return\"production\"!==process.env.NODE_ENV&&f(r),en.get(r,n)},set:function(r){var t=this[Q];\"production\"!==process.env.NODE_ENV&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.g&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.R,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=i[s];\"string\"!=typeof p&&\"number\"!=typeof p&&(p=\"\"+p),0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},N:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.R,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.R,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.R=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=N(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.g&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,R:void 0,t:n,k:this,C:!1,g:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.R.set(n,!0),t.o.set(n,r),t.R.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.R.set(n,!1):r.R.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.R=new Map,i(n.t,(function(r){n.R.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=N(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,g:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{F:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){F(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=N(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.R[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&(void 0!==t||r in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[r])||(n.o[r]=t,n.R[r]=!0),!0},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.R[r]=!1,E(n),k(n)):delete n.R[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.O=B,this.D=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=N(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?g(c):O(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw g(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.D&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=R(e));var i=w(this),o=N(this,e,void 0);return o[Q].C=!0,O(i),o},i.finishDraft=function(r,t){var e=r&&r[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.D=n},i.setUseProxies=function(r){r&&!B&&n(20),this.O=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,R as current,J as enableAllPlugins,F as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,r as isDraft,t as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","// The primary entry point assumes we're working with standard ReactDOM/RN, but\n// older versions that do not include `useSyncExternalStore` (React 16.9 - 17.x).\n// Because of that, the useSyncExternalStore compat shim is needed.\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { useSyncExternalStoreWithSelector } from 'use-sync-external-store/shim/with-selector';\nimport { unstable_batchedUpdates as batch } from './utils/reactBatchedUpdates';\nimport { setBatch } from './utils/batch';\nimport { initializeUseSelector } from './hooks/useSelector';\nimport { initializeConnect } from './components/connect';\ninitializeUseSelector(useSyncExternalStoreWithSelector);\ninitializeConnect(useSyncExternalStore); // Enable batched updates in our subscriptions for use\n// with standard React renderers (ReactDOM, React Native)\n\nsetBatch(batch);\nexport { batch };\nexport * from './exports';","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","/** A function that accepts a potential \"extra argument\" value to be injected later,\r\n * and returns an instance of the thunk middleware that uses that value\r\n */\nfunction createThunkMiddleware(extraArgument) {\n  // Standard Redux middleware definition pattern:\n  // See: https://redux.js.org/tutorials/fundamentals/part-4-store#writing-custom-middleware\n  var middleware = function middleware(_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // The thunk middleware looks for any functions that were passed to `store.dispatch`.\n        // If this \"action\" is really a function, call it and return the result.\n        if (typeof action === 'function') {\n          // Inject the store's `dispatch` and `getState` methods, as well as any \"extra arg\"\n          return action(dispatch, getState, extraArgument);\n        } // Otherwise, pass the action down the middleware chain as usual\n\n\n        return next(action);\n      };\n    };\n  };\n\n  return middleware;\n}\n\nvar thunk = createThunkMiddleware(); // Attach the factory function so users can create a customized version\n// with whatever \"extra arg\" they want to inject into their thunks\n\nthunk.withExtraArgument = createThunkMiddleware;\nexport default thunk;","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __spreadValues = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\r\n            var prop = _c[_i];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __spreadProps = function (a, b) { return __defProps(a, __getOwnPropDescs(b)); };\r\nvar __async = function (__this, __arguments, generator) {\r\n    return new Promise(function (resolve, reject) {\r\n        var fulfilled = function (value) {\r\n            try {\r\n                step(generator.next(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var rejected = function (value) {\r\n            try {\r\n                step(generator.throw(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var step = function (x) { return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected); };\r\n        step((generator = generator.apply(__this, __arguments)).next());\r\n    });\r\n};\r\n// src/index.ts\r\nimport { enableES5 } from \"immer\";\r\nexport * from \"redux\";\r\nimport { default as default2, current as current2, freeze, original, isDraft as isDraft4 } from \"immer\";\r\nimport { createSelector as createSelector2 } from \"reselect\";\r\n// src/createDraftSafeSelector.ts\r\nimport { current, isDraft } from \"immer\";\r\nimport { createSelector } from \"reselect\";\r\nvar createDraftSafeSelector = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var selector = createSelector.apply(void 0, args);\r\n    var wrappedSelector = function (value) {\r\n        var rest = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rest[_i - 1] = arguments[_i];\r\n        }\r\n        return selector.apply(void 0, __spreadArray([isDraft(value) ? current(value) : value], rest));\r\n    };\r\n    return wrappedSelector;\r\n};\r\n// src/configureStore.ts\r\nimport { createStore, compose as compose2, applyMiddleware, combineReducers } from \"redux\";\r\n// src/devtoolsExtension.ts\r\nimport { compose } from \"redux\";\r\nvar composeWithDevTools = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {\r\n    if (arguments.length === 0)\r\n        return void 0;\r\n    if (typeof arguments[0] === \"object\")\r\n        return compose;\r\n    return compose.apply(null, arguments);\r\n};\r\nvar devToolsEnhancer = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {\r\n    return function (noop2) {\r\n        return noop2;\r\n    };\r\n};\r\n// src/isPlainObject.ts\r\nfunction isPlainObject(value) {\r\n    if (typeof value !== \"object\" || value === null)\r\n        return false;\r\n    var proto = Object.getPrototypeOf(value);\r\n    if (proto === null)\r\n        return true;\r\n    var baseProto = proto;\r\n    while (Object.getPrototypeOf(baseProto) !== null) {\r\n        baseProto = Object.getPrototypeOf(baseProto);\r\n    }\r\n    return proto === baseProto;\r\n}\r\n// src/getDefaultMiddleware.ts\r\nimport thunkMiddleware from \"redux-thunk\";\r\n// src/tsHelpers.ts\r\nvar hasMatchFunction = function (v) {\r\n    return v && typeof v.match === \"function\";\r\n};\r\n// src/createAction.ts\r\nfunction createAction(type, prepareAction) {\r\n    function actionCreator() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (prepareAction) {\r\n            var prepared = prepareAction.apply(void 0, args);\r\n            if (!prepared) {\r\n                throw new Error(\"prepareAction did not return an object\");\r\n            }\r\n            return __spreadValues(__spreadValues({\r\n                type: type,\r\n                payload: prepared.payload\r\n            }, \"meta\" in prepared && { meta: prepared.meta }), \"error\" in prepared && { error: prepared.error });\r\n        }\r\n        return { type: type, payload: args[0] };\r\n    }\r\n    actionCreator.toString = function () { return \"\" + type; };\r\n    actionCreator.type = type;\r\n    actionCreator.match = function (action) { return action.type === type; };\r\n    return actionCreator;\r\n}\r\nfunction isAction(action) {\r\n    return isPlainObject(action) && \"type\" in action;\r\n}\r\nfunction isActionCreator(action) {\r\n    return typeof action === \"function\" && \"type\" in action && hasMatchFunction(action);\r\n}\r\nfunction isFSA(action) {\r\n    return isAction(action) && typeof action.type === \"string\" && Object.keys(action).every(isValidKey);\r\n}\r\nfunction isValidKey(key) {\r\n    return [\"type\", \"payload\", \"error\", \"meta\"].indexOf(key) > -1;\r\n}\r\nfunction getType(actionCreator) {\r\n    return \"\" + actionCreator;\r\n}\r\n// src/actionCreatorInvariantMiddleware.ts\r\nfunction getMessage(type) {\r\n    var splitType = type ? (\"\" + type).split(\"/\") : [];\r\n    var actionName = splitType[splitType.length - 1] || \"actionCreator\";\r\n    return \"Detected an action creator with type \\\"\" + (type || \"unknown\") + \"\\\" being dispatched. \\nMake sure you're calling the action creator before dispatching, i.e. `dispatch(\" + actionName + \"())` instead of `dispatch(\" + actionName + \")`. This is necessary even if the action has no payload.\";\r\n}\r\nfunction createActionCreatorInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isActionCreator, isActionCreator2 = _c === void 0 ? isActionCreator : _c;\r\n    return function () { return function (next) { return function (action) {\r\n        if (isActionCreator2(action)) {\r\n            console.warn(getMessage(action.type));\r\n        }\r\n        return next(action);\r\n    }; }; };\r\n}\r\n// src/utils.ts\r\nimport createNextState, { isDraftable } from \"immer\";\r\nfunction getTimeMeasureUtils(maxDelay, fnName) {\r\n    var elapsed = 0;\r\n    return {\r\n        measureTime: function (fn) {\r\n            var started = Date.now();\r\n            try {\r\n                return fn();\r\n            }\r\n            finally {\r\n                var finished = Date.now();\r\n                elapsed += finished - started;\r\n            }\r\n        },\r\n        warnIfExceeded: function () {\r\n            if (elapsed > maxDelay) {\r\n                console.warn(fnName + \" took \" + elapsed + \"ms, which is more than the warning threshold of \" + maxDelay + \"ms. \\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\\nIt is disabled in production builds, so you don't need to worry about that.\");\r\n            }\r\n        }\r\n    };\r\n}\r\nvar MiddlewareArray = /** @class */ (function (_super) {\r\n    __extends(MiddlewareArray, _super);\r\n    function MiddlewareArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, MiddlewareArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MiddlewareArray, Symbol.species, {\r\n        get: function () {\r\n            return MiddlewareArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MiddlewareArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    MiddlewareArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return MiddlewareArray;\r\n}(Array));\r\nvar EnhancerArray = /** @class */ (function (_super) {\r\n    __extends(EnhancerArray, _super);\r\n    function EnhancerArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, EnhancerArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EnhancerArray, Symbol.species, {\r\n        get: function () {\r\n            return EnhancerArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    EnhancerArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    EnhancerArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return EnhancerArray;\r\n}(Array));\r\nfunction freezeDraftable(val) {\r\n    return isDraftable(val) ? createNextState(val, function () {\r\n    }) : val;\r\n}\r\n// src/immutableStateInvariantMiddleware.ts\r\nvar isProduction = process.env.NODE_ENV === \"production\";\r\nvar prefix = \"Invariant failed\";\r\nfunction invariant(condition, message) {\r\n    if (condition) {\r\n        return;\r\n    }\r\n    if (isProduction) {\r\n        throw new Error(prefix);\r\n    }\r\n    throw new Error(prefix + \": \" + (message || \"\"));\r\n}\r\nfunction stringify(obj, serializer, indent, decycler) {\r\n    return JSON.stringify(obj, getSerialize(serializer, decycler), indent);\r\n}\r\nfunction getSerialize(serializer, decycler) {\r\n    var stack = [], keys = [];\r\n    if (!decycler)\r\n        decycler = function (_, value) {\r\n            if (stack[0] === value)\r\n                return \"[Circular ~]\";\r\n            return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\r\n        };\r\n    return function (key, value) {\r\n        if (stack.length > 0) {\r\n            var thisPos = stack.indexOf(this);\r\n            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\r\n            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\r\n            if (~stack.indexOf(value))\r\n                value = decycler.call(this, key, value);\r\n        }\r\n        else\r\n            stack.push(value);\r\n        return serializer == null ? value : serializer.call(this, key, value);\r\n    };\r\n}\r\nfunction isImmutableDefault(value) {\r\n    return typeof value !== \"object\" || value == null || Object.isFrozen(value);\r\n}\r\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\r\n    var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\r\n    return {\r\n        detectMutations: function () {\r\n            return detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\r\n        }\r\n    };\r\n}\r\nfunction trackProperties(isImmutable, ignorePaths, obj, path, checkedObjects) {\r\n    if (ignorePaths === void 0) { ignorePaths = []; }\r\n    if (path === void 0) { path = \"\"; }\r\n    if (checkedObjects === void 0) { checkedObjects = new Set(); }\r\n    var tracked = { value: obj };\r\n    if (!isImmutable(obj) && !checkedObjects.has(obj)) {\r\n        checkedObjects.add(obj);\r\n        tracked.children = {};\r\n        for (var key in obj) {\r\n            var childPath = path ? path + \".\" + key : key;\r\n            if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\r\n                continue;\r\n            }\r\n            tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\r\n        }\r\n    }\r\n    return tracked;\r\n}\r\nfunction detectMutations(isImmutable, ignoredPaths, trackedProperty, obj, sameParentRef, path) {\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    if (sameParentRef === void 0) { sameParentRef = false; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var prevObj = trackedProperty ? trackedProperty.value : void 0;\r\n    var sameRef = prevObj === obj;\r\n    if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\r\n        return { wasMutated: true, path: path };\r\n    }\r\n    if (isImmutable(prevObj) || isImmutable(obj)) {\r\n        return { wasMutated: false };\r\n    }\r\n    var keysToDetect = {};\r\n    for (var key in trackedProperty.children) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    for (var key in obj) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_1 = function (key) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        var result = detectMutations(isImmutable, ignoredPaths, trackedProperty.children[key], obj[key], sameRef, nestedPath);\r\n        if (result.wasMutated) {\r\n            return { value: result };\r\n        }\r\n    };\r\n    for (var key in keysToDetect) {\r\n        var state_1 = _loop_1(key);\r\n        if (typeof state_1 === \"object\")\r\n            return state_1.value;\r\n    }\r\n    return { wasMutated: false };\r\n}\r\nfunction createImmutableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isImmutable, isImmutable = _c === void 0 ? isImmutableDefault : _c, ignoredPaths = options.ignoredPaths, _d = options.warnAfter, warnAfter = _d === void 0 ? 32 : _d, ignore = options.ignore;\r\n    ignoredPaths = ignoredPaths || ignore;\r\n    var track = trackForMutations.bind(null, isImmutable, ignoredPaths);\r\n    return function (_c) {\r\n        var getState = _c.getState;\r\n        var state = getState();\r\n        var tracker = track(state);\r\n        var result;\r\n        return function (next) { return function (action) {\r\n            var measureUtils = getTimeMeasureUtils(warnAfter, \"ImmutableStateInvariantMiddleware\");\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                invariant(!result.wasMutated, \"A state mutation was detected between dispatches, in the path '\" + (result.path || \"\") + \"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            var dispatchedAction = next(action);\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                result.wasMutated && invariant(!result.wasMutated, \"A state mutation was detected inside a dispatch, in the path: \" + (result.path || \"\") + \". Take a look at the reducer(s) handling the action \" + stringify(action) + \". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n            return dispatchedAction;\r\n        }; };\r\n    };\r\n}\r\n// src/serializableStateInvariantMiddleware.ts\r\nfunction isPlain(val) {\r\n    var type = typeof val;\r\n    return val == null || type === \"string\" || type === \"boolean\" || type === \"number\" || Array.isArray(val) || isPlainObject(val);\r\n}\r\nfunction findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths, cache) {\r\n    if (path === void 0) { path = \"\"; }\r\n    if (isSerializable === void 0) { isSerializable = isPlain; }\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    var foundNestedSerializable;\r\n    if (!isSerializable(value)) {\r\n        return {\r\n            keyPath: path || \"<root>\",\r\n            value: value\r\n        };\r\n    }\r\n    if (typeof value !== \"object\" || value === null) {\r\n        return false;\r\n    }\r\n    if (cache == null ? void 0 : cache.has(value))\r\n        return false;\r\n    var entries = getEntries != null ? getEntries(value) : Object.entries(value);\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_2 = function (key, nestedValue) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        if (!isSerializable(nestedValue)) {\r\n            return { value: {\r\n                    keyPath: nestedPath,\r\n                    value: nestedValue\r\n                } };\r\n        }\r\n        if (typeof nestedValue === \"object\") {\r\n            foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths, cache);\r\n            if (foundNestedSerializable) {\r\n                return { value: foundNestedSerializable };\r\n            }\r\n        }\r\n    };\r\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n        var _c = entries_1[_i], key = _c[0], nestedValue = _c[1];\r\n        var state_2 = _loop_2(key, nestedValue);\r\n        if (typeof state_2 === \"object\")\r\n            return state_2.value;\r\n    }\r\n    if (cache && isNestedFrozen(value))\r\n        cache.add(value);\r\n    return false;\r\n}\r\nfunction isNestedFrozen(value) {\r\n    if (!Object.isFrozen(value))\r\n        return false;\r\n    for (var _i = 0, _c = Object.values(value); _i < _c.length; _i++) {\r\n        var nestedValue = _c[_i];\r\n        if (typeof nestedValue !== \"object\" || nestedValue === null)\r\n            continue;\r\n        if (!isNestedFrozen(nestedValue))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nfunction createSerializableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isSerializable, isSerializable = _c === void 0 ? isPlain : _c, getEntries = options.getEntries, _d = options.ignoredActions, ignoredActions = _d === void 0 ? [] : _d, _e = options.ignoredActionPaths, ignoredActionPaths = _e === void 0 ? [\"meta.arg\", \"meta.baseQueryMeta\"] : _e, _f = options.ignoredPaths, ignoredPaths = _f === void 0 ? [] : _f, _g = options.warnAfter, warnAfter = _g === void 0 ? 32 : _g, _h = options.ignoreState, ignoreState = _h === void 0 ? false : _h, _j = options.ignoreActions, ignoreActions = _j === void 0 ? false : _j, _k = options.disableCache, disableCache = _k === void 0 ? false : _k;\r\n    var cache = !disableCache && WeakSet ? new WeakSet() : void 0;\r\n    return function (storeAPI) { return function (next) { return function (action) {\r\n        var result = next(action);\r\n        var measureUtils = getTimeMeasureUtils(warnAfter, \"SerializableStateInvariantMiddleware\");\r\n        if (!ignoreActions && !(ignoredActions.length && ignoredActions.indexOf(action.type) !== -1)) {\r\n            measureUtils.measureTime(function () {\r\n                var foundActionNonSerializableValue = findNonSerializableValue(action, \"\", isSerializable, getEntries, ignoredActionPaths, cache);\r\n                if (foundActionNonSerializableValue) {\r\n                    var keyPath = foundActionNonSerializableValue.keyPath, value = foundActionNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in an action, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the logic that dispatched this action: \", action, \"\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)\", \"\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)\");\r\n                }\r\n            });\r\n        }\r\n        if (!ignoreState) {\r\n            measureUtils.measureTime(function () {\r\n                var state = storeAPI.getState();\r\n                var foundStateNonSerializableValue = findNonSerializableValue(state, \"\", isSerializable, getEntries, ignoredPaths, cache);\r\n                if (foundStateNonSerializableValue) {\r\n                    var keyPath = foundStateNonSerializableValue.keyPath, value = foundStateNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in the state, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the reducer(s) handling this action type: \" + action.type + \".\\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)\");\r\n                }\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n        }\r\n        return result;\r\n    }; }; };\r\n}\r\n// src/getDefaultMiddleware.ts\r\nfunction isBoolean(x) {\r\n    return typeof x === \"boolean\";\r\n}\r\nfunction curryGetDefaultMiddleware() {\r\n    return function curriedGetDefaultMiddleware(options) {\r\n        return getDefaultMiddleware(options);\r\n    };\r\n}\r\nfunction getDefaultMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = options.thunk, thunk = _c === void 0 ? true : _c, _d = options.immutableCheck, immutableCheck = _d === void 0 ? true : _d, _e = options.serializableCheck, serializableCheck = _e === void 0 ? true : _e, _f = options.actionCreatorCheck, actionCreatorCheck = _f === void 0 ? true : _f;\r\n    var middlewareArray = new MiddlewareArray();\r\n    if (thunk) {\r\n        if (isBoolean(thunk)) {\r\n            middlewareArray.push(thunkMiddleware);\r\n        }\r\n        else {\r\n            middlewareArray.push(thunkMiddleware.withExtraArgument(thunk.extraArgument));\r\n        }\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (immutableCheck) {\r\n            var immutableOptions = {};\r\n            if (!isBoolean(immutableCheck)) {\r\n                immutableOptions = immutableCheck;\r\n            }\r\n            middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\r\n        }\r\n        if (serializableCheck) {\r\n            var serializableOptions = {};\r\n            if (!isBoolean(serializableCheck)) {\r\n                serializableOptions = serializableCheck;\r\n            }\r\n            middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\r\n        }\r\n        if (actionCreatorCheck) {\r\n            var actionCreatorOptions = {};\r\n            if (!isBoolean(actionCreatorCheck)) {\r\n                actionCreatorOptions = actionCreatorCheck;\r\n            }\r\n            middlewareArray.unshift(createActionCreatorInvariantMiddleware(actionCreatorOptions));\r\n        }\r\n    }\r\n    return middlewareArray;\r\n}\r\n// src/configureStore.ts\r\nvar IS_PRODUCTION = process.env.NODE_ENV === \"production\";\r\nfunction configureStore(options) {\r\n    var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();\r\n    var _c = options || {}, _d = _c.reducer, reducer = _d === void 0 ? void 0 : _d, _e = _c.middleware, middleware = _e === void 0 ? curriedGetDefaultMiddleware() : _e, _f = _c.devTools, devTools = _f === void 0 ? true : _f, _g = _c.preloadedState, preloadedState = _g === void 0 ? void 0 : _g, _h = _c.enhancers, enhancers = _h === void 0 ? void 0 : _h;\r\n    var rootReducer;\r\n    if (typeof reducer === \"function\") {\r\n        rootReducer = reducer;\r\n    }\r\n    else if (isPlainObject(reducer)) {\r\n        rootReducer = combineReducers(reducer);\r\n    }\r\n    else {\r\n        throw new Error('\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');\r\n    }\r\n    var finalMiddleware = middleware;\r\n    if (typeof finalMiddleware === \"function\") {\r\n        finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware);\r\n        if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\r\n            throw new Error(\"when using a middleware builder function, an array of middleware must be returned\");\r\n        }\r\n    }\r\n    if (!IS_PRODUCTION && finalMiddleware.some(function (item) { return typeof item !== \"function\"; })) {\r\n        throw new Error(\"each middleware provided to configureStore must be a function\");\r\n    }\r\n    var middlewareEnhancer = applyMiddleware.apply(void 0, finalMiddleware);\r\n    var finalCompose = compose2;\r\n    if (devTools) {\r\n        finalCompose = composeWithDevTools(__spreadValues({\r\n            trace: !IS_PRODUCTION\r\n        }, typeof devTools === \"object\" && devTools));\r\n    }\r\n    var defaultEnhancers = new EnhancerArray(middlewareEnhancer);\r\n    var storeEnhancers = defaultEnhancers;\r\n    if (Array.isArray(enhancers)) {\r\n        storeEnhancers = __spreadArray([middlewareEnhancer], enhancers);\r\n    }\r\n    else if (typeof enhancers === \"function\") {\r\n        storeEnhancers = enhancers(defaultEnhancers);\r\n    }\r\n    var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);\r\n    return createStore(rootReducer, preloadedState, composedEnhancer);\r\n}\r\n// src/createReducer.ts\r\nimport createNextState2, { isDraft as isDraft2, isDraftable as isDraftable2 } from \"immer\";\r\n// src/mapBuilders.ts\r\nfunction executeReducerBuilderCallback(builderCallback) {\r\n    var actionsMap = {};\r\n    var actionMatchers = [];\r\n    var defaultCaseReducer;\r\n    var builder = {\r\n        addCase: function (typeOrActionCreator, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (actionMatchers.length > 0) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addMatcher`\");\r\n                }\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            var type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\r\n            if (!type) {\r\n                throw new Error(\"`builder.addCase` cannot be called with an empty action type\");\r\n            }\r\n            if (type in actionsMap) {\r\n                throw new Error(\"`builder.addCase` cannot be called with two reducers for the same action type\");\r\n            }\r\n            actionsMap[type] = reducer;\r\n            return builder;\r\n        },\r\n        addMatcher: function (matcher, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            actionMatchers.push({ matcher: matcher, reducer: reducer });\r\n            return builder;\r\n        },\r\n        addDefaultCase: function (reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addDefaultCase` can only be called once\");\r\n                }\r\n            }\r\n            defaultCaseReducer = reducer;\r\n            return builder;\r\n        }\r\n    };\r\n    builderCallback(builder);\r\n    return [actionsMap, actionMatchers, defaultCaseReducer];\r\n}\r\n// src/createReducer.ts\r\nfunction isStateFunction(x) {\r\n    return typeof x === \"function\";\r\n}\r\nvar hasWarnedAboutObjectNotation = false;\r\nfunction createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {\r\n    if (actionMatchers === void 0) { actionMatchers = []; }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (typeof mapOrBuilderCallback === \"object\") {\r\n            if (!hasWarnedAboutObjectNotation) {\r\n                hasWarnedAboutObjectNotation = true;\r\n                console.warn(\"The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer\");\r\n            }\r\n        }\r\n    }\r\n    var _c = typeof mapOrBuilderCallback === \"function\" ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer], actionsMap = _c[0], finalActionMatchers = _c[1], finalDefaultCaseReducer = _c[2];\r\n    var getInitialState;\r\n    if (isStateFunction(initialState)) {\r\n        getInitialState = function () { return freezeDraftable(initialState()); };\r\n    }\r\n    else {\r\n        var frozenInitialState_1 = freezeDraftable(initialState);\r\n        getInitialState = function () { return frozenInitialState_1; };\r\n    }\r\n    function reducer(state, action) {\r\n        if (state === void 0) { state = getInitialState(); }\r\n        var caseReducers = __spreadArray([\r\n            actionsMap[action.type]\r\n        ], finalActionMatchers.filter(function (_c) {\r\n            var matcher = _c.matcher;\r\n            return matcher(action);\r\n        }).map(function (_c) {\r\n            var reducer2 = _c.reducer;\r\n            return reducer2;\r\n        }));\r\n        if (caseReducers.filter(function (cr) { return !!cr; }).length === 0) {\r\n            caseReducers = [finalDefaultCaseReducer];\r\n        }\r\n        return caseReducers.reduce(function (previousState, caseReducer) {\r\n            if (caseReducer) {\r\n                if (isDraft2(previousState)) {\r\n                    var draft = previousState;\r\n                    var result = caseReducer(draft, action);\r\n                    if (result === void 0) {\r\n                        return previousState;\r\n                    }\r\n                    return result;\r\n                }\r\n                else if (!isDraftable2(previousState)) {\r\n                    var result = caseReducer(previousState, action);\r\n                    if (result === void 0) {\r\n                        if (previousState === null) {\r\n                            return previousState;\r\n                        }\r\n                        throw Error(\"A case reducer on a non-draftable value must not return undefined\");\r\n                    }\r\n                    return result;\r\n                }\r\n                else {\r\n                    return createNextState2(previousState, function (draft) {\r\n                        return caseReducer(draft, action);\r\n                    });\r\n                }\r\n            }\r\n            return previousState;\r\n        }, state);\r\n    }\r\n    reducer.getInitialState = getInitialState;\r\n    return reducer;\r\n}\r\n// src/createSlice.ts\r\nvar hasWarnedAboutObjectNotation2 = false;\r\nfunction getType2(slice, actionKey) {\r\n    return slice + \"/\" + actionKey;\r\n}\r\nfunction createSlice(options) {\r\n    var name = options.name;\r\n    if (!name) {\r\n        throw new Error(\"`name` is a required option for createSlice\");\r\n    }\r\n    if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n        if (options.initialState === void 0) {\r\n            console.error(\"You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`\");\r\n        }\r\n    }\r\n    var initialState = typeof options.initialState == \"function\" ? options.initialState : freezeDraftable(options.initialState);\r\n    var reducers = options.reducers || {};\r\n    var reducerNames = Object.keys(reducers);\r\n    var sliceCaseReducersByName = {};\r\n    var sliceCaseReducersByType = {};\r\n    var actionCreators = {};\r\n    reducerNames.forEach(function (reducerName) {\r\n        var maybeReducerWithPrepare = reducers[reducerName];\r\n        var type = getType2(name, reducerName);\r\n        var caseReducer;\r\n        var prepareCallback;\r\n        if (\"reducer\" in maybeReducerWithPrepare) {\r\n            caseReducer = maybeReducerWithPrepare.reducer;\r\n            prepareCallback = maybeReducerWithPrepare.prepare;\r\n        }\r\n        else {\r\n            caseReducer = maybeReducerWithPrepare;\r\n        }\r\n        sliceCaseReducersByName[reducerName] = caseReducer;\r\n        sliceCaseReducersByType[type] = caseReducer;\r\n        actionCreators[reducerName] = prepareCallback ? createAction(type, prepareCallback) : createAction(type);\r\n    });\r\n    function buildReducer() {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (typeof options.extraReducers === \"object\") {\r\n                if (!hasWarnedAboutObjectNotation2) {\r\n                    hasWarnedAboutObjectNotation2 = true;\r\n                    console.warn(\"The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice\");\r\n                }\r\n            }\r\n        }\r\n        var _c = typeof options.extraReducers === \"function\" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers], _d = _c[0], extraReducers = _d === void 0 ? {} : _d, _e = _c[1], actionMatchers = _e === void 0 ? [] : _e, _f = _c[2], defaultCaseReducer = _f === void 0 ? void 0 : _f;\r\n        var finalCaseReducers = __spreadValues(__spreadValues({}, extraReducers), sliceCaseReducersByType);\r\n        return createReducer(initialState, function (builder) {\r\n            for (var key in finalCaseReducers) {\r\n                builder.addCase(key, finalCaseReducers[key]);\r\n            }\r\n            for (var _i = 0, actionMatchers_1 = actionMatchers; _i < actionMatchers_1.length; _i++) {\r\n                var m = actionMatchers_1[_i];\r\n                builder.addMatcher(m.matcher, m.reducer);\r\n            }\r\n            if (defaultCaseReducer) {\r\n                builder.addDefaultCase(defaultCaseReducer);\r\n            }\r\n        });\r\n    }\r\n    var _reducer;\r\n    return {\r\n        name: name,\r\n        reducer: function (state, action) {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer(state, action);\r\n        },\r\n        actions: actionCreators,\r\n        caseReducers: sliceCaseReducersByName,\r\n        getInitialState: function () {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer.getInitialState();\r\n        }\r\n    };\r\n}\r\n// src/entities/entity_state.ts\r\nfunction getInitialEntityState() {\r\n    return {\r\n        ids: [],\r\n        entities: {}\r\n    };\r\n}\r\nfunction createInitialStateFactory() {\r\n    function getInitialState(additionalState) {\r\n        if (additionalState === void 0) { additionalState = {}; }\r\n        return Object.assign(getInitialEntityState(), additionalState);\r\n    }\r\n    return { getInitialState: getInitialState };\r\n}\r\n// src/entities/state_selectors.ts\r\nfunction createSelectorsFactory() {\r\n    function getSelectors(selectState) {\r\n        var selectIds = function (state) { return state.ids; };\r\n        var selectEntities = function (state) { return state.entities; };\r\n        var selectAll = createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) { return ids.map(function (id) { return entities[id]; }); });\r\n        var selectId = function (_, id) { return id; };\r\n        var selectById = function (entities, id) { return entities[id]; };\r\n        var selectTotal = createDraftSafeSelector(selectIds, function (ids) { return ids.length; });\r\n        if (!selectState) {\r\n            return {\r\n                selectIds: selectIds,\r\n                selectEntities: selectEntities,\r\n                selectAll: selectAll,\r\n                selectTotal: selectTotal,\r\n                selectById: createDraftSafeSelector(selectEntities, selectId, selectById)\r\n            };\r\n        }\r\n        var selectGlobalizedEntities = createDraftSafeSelector(selectState, selectEntities);\r\n        return {\r\n            selectIds: createDraftSafeSelector(selectState, selectIds),\r\n            selectEntities: selectGlobalizedEntities,\r\n            selectAll: createDraftSafeSelector(selectState, selectAll),\r\n            selectTotal: createDraftSafeSelector(selectState, selectTotal),\r\n            selectById: createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)\r\n        };\r\n    }\r\n    return { getSelectors: getSelectors };\r\n}\r\n// src/entities/state_adapter.ts\r\nimport createNextState3, { isDraft as isDraft3 } from \"immer\";\r\nfunction createSingleArgumentStateOperator(mutator) {\r\n    var operator = createStateOperator(function (_, state) { return mutator(state); });\r\n    return function operation(state) {\r\n        return operator(state, void 0);\r\n    };\r\n}\r\nfunction createStateOperator(mutator) {\r\n    return function operation(state, arg) {\r\n        function isPayloadActionArgument(arg2) {\r\n            return isFSA(arg2);\r\n        }\r\n        var runMutator = function (draft) {\r\n            if (isPayloadActionArgument(arg)) {\r\n                mutator(arg.payload, draft);\r\n            }\r\n            else {\r\n                mutator(arg, draft);\r\n            }\r\n        };\r\n        if (isDraft3(state)) {\r\n            runMutator(state);\r\n            return state;\r\n        }\r\n        else {\r\n            return createNextState3(state, runMutator);\r\n        }\r\n    };\r\n}\r\n// src/entities/utils.ts\r\nfunction selectIdValue(entity, selectId) {\r\n    var key = selectId(entity);\r\n    if (process.env.NODE_ENV !== \"production\" && key === void 0) {\r\n        console.warn(\"The entity passed to the `selectId` implementation returned undefined.\", \"You should probably provide your own `selectId` implementation.\", \"The entity that was passed:\", entity, \"The `selectId` implementation:\", selectId.toString());\r\n    }\r\n    return key;\r\n}\r\nfunction ensureEntitiesArray(entities) {\r\n    if (!Array.isArray(entities)) {\r\n        entities = Object.values(entities);\r\n    }\r\n    return entities;\r\n}\r\nfunction splitAddedUpdatedEntities(newEntities, selectId, state) {\r\n    newEntities = ensureEntitiesArray(newEntities);\r\n    var added = [];\r\n    var updated = [];\r\n    for (var _i = 0, newEntities_1 = newEntities; _i < newEntities_1.length; _i++) {\r\n        var entity = newEntities_1[_i];\r\n        var id = selectIdValue(entity, selectId);\r\n        if (id in state.entities) {\r\n            updated.push({ id: id, changes: entity });\r\n        }\r\n        else {\r\n            added.push(entity);\r\n        }\r\n    }\r\n    return [added, updated];\r\n}\r\n// src/entities/unsorted_state_adapter.ts\r\nfunction createUnsortedStateAdapter(selectId) {\r\n    function addOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (key in state.entities) {\r\n            return;\r\n        }\r\n        state.ids.push(key);\r\n        state.entities[key] = entity;\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_2 = newEntities; _i < newEntities_2.length; _i++) {\r\n            var entity = newEntities_2[_i];\r\n            addOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (!(key in state.entities)) {\r\n            state.ids.push(key);\r\n        }\r\n        state.entities[key] = entity;\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_3 = newEntities; _i < newEntities_3.length; _i++) {\r\n            var entity = newEntities_3[_i];\r\n            setOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.ids = [];\r\n        state.entities = {};\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function removeOneMutably(key, state) {\r\n        return removeManyMutably([key], state);\r\n    }\r\n    function removeManyMutably(keys, state) {\r\n        var didMutate = false;\r\n        keys.forEach(function (key) {\r\n            if (key in state.entities) {\r\n                delete state.entities[key];\r\n                didMutate = true;\r\n            }\r\n        });\r\n        if (didMutate) {\r\n            state.ids = state.ids.filter(function (id) { return id in state.entities; });\r\n        }\r\n    }\r\n    function removeAllMutably(state) {\r\n        Object.assign(state, {\r\n            ids: [],\r\n            entities: {}\r\n        });\r\n    }\r\n    function takeNewKey(keys, update, state) {\r\n        var original2 = state.entities[update.id];\r\n        var updated = Object.assign({}, original2, update.changes);\r\n        var newKey = selectIdValue(updated, selectId);\r\n        var hasNewKey = newKey !== update.id;\r\n        if (hasNewKey) {\r\n            keys[update.id] = newKey;\r\n            delete state.entities[update.id];\r\n        }\r\n        state.entities[newKey] = updated;\r\n        return hasNewKey;\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var newKeys = {};\r\n        var updatesPerEntity = {};\r\n        updates.forEach(function (update) {\r\n            if (update.id in state.entities) {\r\n                updatesPerEntity[update.id] = {\r\n                    id: update.id,\r\n                    changes: __spreadValues(__spreadValues({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null), update.changes)\r\n                };\r\n            }\r\n        });\r\n        updates = Object.values(updatesPerEntity);\r\n        var didMutateEntities = updates.length > 0;\r\n        if (didMutateEntities) {\r\n            var didMutateIds = updates.filter(function (update) { return takeNewKey(newKeys, update, state); }).length > 0;\r\n            if (didMutateIds) {\r\n                state.ids = Object.keys(state.entities);\r\n            }\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    return {\r\n        removeAll: createSingleArgumentStateOperator(removeAllMutably),\r\n        addOne: createStateOperator(addOneMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably),\r\n        removeOne: createStateOperator(removeOneMutably),\r\n        removeMany: createStateOperator(removeManyMutably)\r\n    };\r\n}\r\n// src/entities/sorted_state_adapter.ts\r\nfunction createSortedStateAdapter(selectId, sort) {\r\n    var _c = createUnsortedStateAdapter(selectId), removeOne = _c.removeOne, removeMany = _c.removeMany, removeAll = _c.removeAll;\r\n    function addOneMutably(entity, state) {\r\n        return addManyMutably([entity], state);\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        var models = newEntities.filter(function (model) { return !(selectIdValue(model, selectId) in state.entities); });\r\n        if (models.length !== 0) {\r\n            merge(models, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        return setManyMutably([entity], state);\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        if (newEntities.length !== 0) {\r\n            merge(newEntities, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.entities = {};\r\n        state.ids = [];\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var appliedUpdates = false;\r\n        for (var _i = 0, updates_1 = updates; _i < updates_1.length; _i++) {\r\n            var update = updates_1[_i];\r\n            var entity = state.entities[update.id];\r\n            if (!entity) {\r\n                continue;\r\n            }\r\n            appliedUpdates = true;\r\n            Object.assign(entity, update.changes);\r\n            var newId = selectId(entity);\r\n            if (update.id !== newId) {\r\n                delete state.entities[update.id];\r\n                state.entities[newId] = entity;\r\n            }\r\n        }\r\n        if (appliedUpdates) {\r\n            resortEntities(state);\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    function areArraysEqual(a, b) {\r\n        if (a.length !== b.length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < a.length && i < b.length; i++) {\r\n            if (a[i] === b[i]) {\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    function merge(models, state) {\r\n        models.forEach(function (model) {\r\n            state.entities[selectId(model)] = model;\r\n        });\r\n        resortEntities(state);\r\n    }\r\n    function resortEntities(state) {\r\n        var allEntities = Object.values(state.entities);\r\n        allEntities.sort(sort);\r\n        var newSortedIds = allEntities.map(selectId);\r\n        var ids = state.ids;\r\n        if (!areArraysEqual(ids, newSortedIds)) {\r\n            state.ids = newSortedIds;\r\n        }\r\n    }\r\n    return {\r\n        removeOne: removeOne,\r\n        removeMany: removeMany,\r\n        removeAll: removeAll,\r\n        addOne: createStateOperator(addOneMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably)\r\n    };\r\n}\r\n// src/entities/create_adapter.ts\r\nfunction createEntityAdapter(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = __spreadValues({\r\n        sortComparer: false,\r\n        selectId: function (instance) { return instance.id; }\r\n    }, options), selectId = _c.selectId, sortComparer = _c.sortComparer;\r\n    var stateFactory = createInitialStateFactory();\r\n    var selectorsFactory = createSelectorsFactory();\r\n    var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\r\n    return __spreadValues(__spreadValues(__spreadValues({\r\n        selectId: selectId,\r\n        sortComparer: sortComparer\r\n    }, stateFactory), selectorsFactory), stateAdapter);\r\n}\r\n// src/nanoid.ts\r\nvar urlAlphabet = \"ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW\";\r\nvar nanoid = function (size) {\r\n    if (size === void 0) { size = 21; }\r\n    var id = \"\";\r\n    var i = size;\r\n    while (i--) {\r\n        id += urlAlphabet[Math.random() * 64 | 0];\r\n    }\r\n    return id;\r\n};\r\n// src/createAsyncThunk.ts\r\nvar commonProperties = [\r\n    \"name\",\r\n    \"message\",\r\n    \"stack\",\r\n    \"code\"\r\n];\r\nvar RejectWithValue = /** @class */ (function () {\r\n    function RejectWithValue(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return RejectWithValue;\r\n}());\r\nvar FulfillWithMeta = /** @class */ (function () {\r\n    function FulfillWithMeta(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return FulfillWithMeta;\r\n}());\r\nvar miniSerializeError = function (value) {\r\n    if (typeof value === \"object\" && value !== null) {\r\n        var simpleError = {};\r\n        for (var _i = 0, commonProperties_1 = commonProperties; _i < commonProperties_1.length; _i++) {\r\n            var property = commonProperties_1[_i];\r\n            if (typeof value[property] === \"string\") {\r\n                simpleError[property] = value[property];\r\n            }\r\n        }\r\n        return simpleError;\r\n    }\r\n    return { message: String(value) };\r\n};\r\nvar createAsyncThunk = (function () {\r\n    function createAsyncThunk2(typePrefix, payloadCreator, options) {\r\n        var fulfilled = createAction(typePrefix + \"/fulfilled\", function (payload, requestId, arg, meta) { return ({\r\n            payload: payload,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"fulfilled\"\r\n            })\r\n        }); });\r\n        var pending = createAction(typePrefix + \"/pending\", function (requestId, arg, meta) { return ({\r\n            payload: void 0,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"pending\"\r\n            })\r\n        }); });\r\n        var rejected = createAction(typePrefix + \"/rejected\", function (error, requestId, arg, payload, meta) { return ({\r\n            payload: payload,\r\n            error: (options && options.serializeError || miniSerializeError)(error || \"Rejected\"),\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                rejectedWithValue: !!payload,\r\n                requestStatus: \"rejected\",\r\n                aborted: (error == null ? void 0 : error.name) === \"AbortError\",\r\n                condition: (error == null ? void 0 : error.name) === \"ConditionError\"\r\n            })\r\n        }); });\r\n        var displayedWarning = false;\r\n        var AC = typeof AbortController !== \"undefined\" ? AbortController : /** @class */ (function () {\r\n            function class_1() {\r\n                this.signal = {\r\n                    aborted: false,\r\n                    addEventListener: function () {\r\n                    },\r\n                    dispatchEvent: function () {\r\n                        return false;\r\n                    },\r\n                    onabort: function () {\r\n                    },\r\n                    removeEventListener: function () {\r\n                    },\r\n                    reason: void 0,\r\n                    throwIfAborted: function () {\r\n                    }\r\n                };\r\n            }\r\n            class_1.prototype.abort = function () {\r\n                if (process.env.NODE_ENV !== \"production\") {\r\n                    if (!displayedWarning) {\r\n                        displayedWarning = true;\r\n                        console.info(\"This platform does not implement AbortController. \\nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.\");\r\n                    }\r\n                }\r\n            };\r\n            return class_1;\r\n        }());\r\n        function actionCreator(arg) {\r\n            return function (dispatch, getState, extra) {\r\n                var requestId = (options == null ? void 0 : options.idGenerator) ? options.idGenerator(arg) : nanoid();\r\n                var abortController = new AC();\r\n                var abortReason;\r\n                var started = false;\r\n                function abort(reason) {\r\n                    abortReason = reason;\r\n                    abortController.abort();\r\n                }\r\n                var promise2 = function () {\r\n                    return __async(this, null, function () {\r\n                        var _a, _b, finalAction, conditionResult, abortedPromise, err_1, skipDispatch;\r\n                        return __generator(this, function (_c) {\r\n                            switch (_c.label) {\r\n                                case 0:\r\n                                    _c.trys.push([0, 4, , 5]);\r\n                                    conditionResult = (_a = options == null ? void 0 : options.condition) == null ? void 0 : _a.call(options, arg, { getState: getState, extra: extra });\r\n                                    if (!isThenable(conditionResult)) return [3 /*break*/, 2];\r\n                                    return [4 /*yield*/, conditionResult];\r\n                                case 1:\r\n                                    conditionResult = _c.sent();\r\n                                    _c.label = 2;\r\n                                case 2:\r\n                                    if (conditionResult === false || abortController.signal.aborted) {\r\n                                        throw {\r\n                                            name: \"ConditionError\",\r\n                                            message: \"Aborted due to condition callback returning false.\"\r\n                                        };\r\n                                    }\r\n                                    started = true;\r\n                                    abortedPromise = new Promise(function (_, reject) { return abortController.signal.addEventListener(\"abort\", function () { return reject({\r\n                                        name: \"AbortError\",\r\n                                        message: abortReason || \"Aborted\"\r\n                                    }); }); });\r\n                                    dispatch(pending(requestId, arg, (_b = options == null ? void 0 : options.getPendingMeta) == null ? void 0 : _b.call(options, { requestId: requestId, arg: arg }, { getState: getState, extra: extra })));\r\n                                    return [4 /*yield*/, Promise.race([\r\n                                            abortedPromise,\r\n                                            Promise.resolve(payloadCreator(arg, {\r\n                                                dispatch: dispatch,\r\n                                                getState: getState,\r\n                                                extra: extra,\r\n                                                requestId: requestId,\r\n                                                signal: abortController.signal,\r\n                                                abort: abort,\r\n                                                rejectWithValue: function (value, meta) {\r\n                                                    return new RejectWithValue(value, meta);\r\n                                                },\r\n                                                fulfillWithValue: function (value, meta) {\r\n                                                    return new FulfillWithMeta(value, meta);\r\n                                                }\r\n                                            })).then(function (result) {\r\n                                                if (result instanceof RejectWithValue) {\r\n                                                    throw result;\r\n                                                }\r\n                                                if (result instanceof FulfillWithMeta) {\r\n                                                    return fulfilled(result.payload, requestId, arg, result.meta);\r\n                                                }\r\n                                                return fulfilled(result, requestId, arg);\r\n                                            })\r\n                                        ])];\r\n                                case 3:\r\n                                    finalAction = _c.sent();\r\n                                    return [3 /*break*/, 5];\r\n                                case 4:\r\n                                    err_1 = _c.sent();\r\n                                    finalAction = err_1 instanceof RejectWithValue ? rejected(null, requestId, arg, err_1.payload, err_1.meta) : rejected(err_1, requestId, arg);\r\n                                    return [3 /*break*/, 5];\r\n                                case 5:\r\n                                    skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\r\n                                    if (!skipDispatch) {\r\n                                        dispatch(finalAction);\r\n                                    }\r\n                                    return [2 /*return*/, finalAction];\r\n                            }\r\n                        });\r\n                    });\r\n                }();\r\n                return Object.assign(promise2, {\r\n                    abort: abort,\r\n                    requestId: requestId,\r\n                    arg: arg,\r\n                    unwrap: function () {\r\n                        return promise2.then(unwrapResult);\r\n                    }\r\n                });\r\n            };\r\n        }\r\n        return Object.assign(actionCreator, {\r\n            pending: pending,\r\n            rejected: rejected,\r\n            fulfilled: fulfilled,\r\n            typePrefix: typePrefix\r\n        });\r\n    }\r\n    createAsyncThunk2.withTypes = function () { return createAsyncThunk2; };\r\n    return createAsyncThunk2;\r\n})();\r\nfunction unwrapResult(action) {\r\n    if (action.meta && action.meta.rejectedWithValue) {\r\n        throw action.payload;\r\n    }\r\n    if (action.error) {\r\n        throw action.error;\r\n    }\r\n    return action.payload;\r\n}\r\nfunction isThenable(value) {\r\n    return value !== null && typeof value === \"object\" && typeof value.then === \"function\";\r\n}\r\n// src/matchers.ts\r\nvar matches = function (matcher, action) {\r\n    if (hasMatchFunction(matcher)) {\r\n        return matcher.match(action);\r\n    }\r\n    else {\r\n        return matcher(action);\r\n    }\r\n};\r\nfunction isAnyOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.some(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction isAllOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.every(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction hasExpectedRequestMetadata(action, validStatus) {\r\n    if (!action || !action.meta)\r\n        return false;\r\n    var hasValidRequestId = typeof action.meta.requestId === \"string\";\r\n    var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\r\n    return hasValidRequestId && hasValidRequestStatus;\r\n}\r\nfunction isAsyncThunkArray(a) {\r\n    return typeof a[0] === \"function\" && \"pending\" in a[0] && \"fulfilled\" in a[0] && \"rejected\" in a[0];\r\n}\r\nfunction isPending() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isPending()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.pending; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejected() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejected()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.rejected; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejectedWithValue() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    var hasFlag = function (action) {\r\n        return action && action.meta && action.meta.rejectedWithValue;\r\n    };\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) {\r\n            var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n            return combinedMatcher(action);\r\n        };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejectedWithValue()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isFulfilled() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"fulfilled\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isFulfilled()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.fulfilled; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isAsyncThunkAction() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\", \"fulfilled\", \"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isAsyncThunkAction()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = [];\r\n        for (var _i = 0, asyncThunks_1 = asyncThunks; _i < asyncThunks_1.length; _i++) {\r\n            var asyncThunk = asyncThunks_1[_i];\r\n            matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);\r\n        }\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\n// src/listenerMiddleware/utils.ts\r\nvar assertFunction = function (func, expected) {\r\n    if (typeof func !== \"function\") {\r\n        throw new TypeError(expected + \" is not a function\");\r\n    }\r\n};\r\nvar noop = function () {\r\n};\r\nvar catchRejection = function (promise2, onError) {\r\n    if (onError === void 0) { onError = noop; }\r\n    promise2.catch(onError);\r\n    return promise2;\r\n};\r\nvar addAbortSignalListener = function (abortSignal, callback) {\r\n    abortSignal.addEventListener(\"abort\", callback, { once: true });\r\n    return function () { return abortSignal.removeEventListener(\"abort\", callback); };\r\n};\r\nvar abortControllerWithReason = function (abortController, reason) {\r\n    var signal = abortController.signal;\r\n    if (signal.aborted) {\r\n        return;\r\n    }\r\n    if (!(\"reason\" in signal)) {\r\n        Object.defineProperty(signal, \"reason\", {\r\n            enumerable: true,\r\n            value: reason,\r\n            configurable: true,\r\n            writable: true\r\n        });\r\n    }\r\n    ;\r\n    abortController.abort(reason);\r\n};\r\n// src/listenerMiddleware/exceptions.ts\r\nvar task = \"task\";\r\nvar listener = \"listener\";\r\nvar completed = \"completed\";\r\nvar cancelled = \"cancelled\";\r\nvar taskCancelled = \"task-\" + cancelled;\r\nvar taskCompleted = \"task-\" + completed;\r\nvar listenerCancelled = listener + \"-\" + cancelled;\r\nvar listenerCompleted = listener + \"-\" + completed;\r\nvar TaskAbortError = /** @class */ (function () {\r\n    function TaskAbortError(code) {\r\n        this.code = code;\r\n        this.name = \"TaskAbortError\";\r\n        this.message = task + \" \" + cancelled + \" (reason: \" + code + \")\";\r\n    }\r\n    return TaskAbortError;\r\n}());\r\n// src/listenerMiddleware/task.ts\r\nvar validateActive = function (signal) {\r\n    if (signal.aborted) {\r\n        throw new TaskAbortError(signal.reason);\r\n    }\r\n};\r\nfunction raceWithSignal(signal, promise2) {\r\n    var cleanup = noop;\r\n    return new Promise(function (resolve, reject) {\r\n        var notifyRejection = function () { return reject(new TaskAbortError(signal.reason)); };\r\n        if (signal.aborted) {\r\n            notifyRejection();\r\n            return;\r\n        }\r\n        cleanup = addAbortSignalListener(signal, notifyRejection);\r\n        promise2.finally(function () { return cleanup(); }).then(resolve, reject);\r\n    }).finally(function () {\r\n        cleanup = noop;\r\n    });\r\n}\r\nvar runTask = function (task2, cleanUp) { return __async(void 0, null, function () {\r\n    var value, error_1;\r\n    return __generator(this, function (_c) {\r\n        switch (_c.label) {\r\n            case 0:\r\n                _c.trys.push([0, 3, 4, 5]);\r\n                return [4 /*yield*/, Promise.resolve()];\r\n            case 1:\r\n                _c.sent();\r\n                return [4 /*yield*/, task2()];\r\n            case 2:\r\n                value = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: \"ok\",\r\n                        value: value\r\n                    }];\r\n            case 3:\r\n                error_1 = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: error_1 instanceof TaskAbortError ? \"cancelled\" : \"rejected\",\r\n                        error: error_1\r\n                    }];\r\n            case 4:\r\n                cleanUp == null ? void 0 : cleanUp();\r\n                return [7 /*endfinally*/];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar createPause = function (signal) {\r\n    return function (promise2) {\r\n        return catchRejection(raceWithSignal(signal, promise2).then(function (output) {\r\n            validateActive(signal);\r\n            return output;\r\n        }));\r\n    };\r\n};\r\nvar createDelay = function (signal) {\r\n    var pause = createPause(signal);\r\n    return function (timeoutMs) {\r\n        return pause(new Promise(function (resolve) { return setTimeout(resolve, timeoutMs); }));\r\n    };\r\n};\r\n// src/listenerMiddleware/index.ts\r\nvar assign = Object.assign;\r\nvar INTERNAL_NIL_TOKEN = {};\r\nvar alm = \"listenerMiddleware\";\r\nvar createFork = function (parentAbortSignal, parentBlockingPromises) {\r\n    var linkControllers = function (controller) { return addAbortSignalListener(parentAbortSignal, function () { return abortControllerWithReason(controller, parentAbortSignal.reason); }); };\r\n    return function (taskExecutor, opts) {\r\n        assertFunction(taskExecutor, \"taskExecutor\");\r\n        var childAbortController = new AbortController();\r\n        linkControllers(childAbortController);\r\n        var result = runTask(function () { return __async(void 0, null, function () {\r\n            var result2;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        validateActive(parentAbortSignal);\r\n                        validateActive(childAbortController.signal);\r\n                        return [4 /*yield*/, taskExecutor({\r\n                                pause: createPause(childAbortController.signal),\r\n                                delay: createDelay(childAbortController.signal),\r\n                                signal: childAbortController.signal\r\n                            })];\r\n                    case 1:\r\n                        result2 = _c.sent();\r\n                        validateActive(childAbortController.signal);\r\n                        return [2 /*return*/, result2];\r\n                }\r\n            });\r\n        }); }, function () { return abortControllerWithReason(childAbortController, taskCompleted); });\r\n        if (opts == null ? void 0 : opts.autoJoin) {\r\n            parentBlockingPromises.push(result);\r\n        }\r\n        return {\r\n            result: createPause(parentAbortSignal)(result),\r\n            cancel: function () {\r\n                abortControllerWithReason(childAbortController, taskCancelled);\r\n            }\r\n        };\r\n    };\r\n};\r\nvar createTakePattern = function (startListening, signal) {\r\n    var take = function (predicate, timeout) { return __async(void 0, null, function () {\r\n        var unsubscribe, tuplePromise, promises, output;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    validateActive(signal);\r\n                    unsubscribe = function () {\r\n                    };\r\n                    tuplePromise = new Promise(function (resolve, reject) {\r\n                        var stopListening = startListening({\r\n                            predicate: predicate,\r\n                            effect: function (action, listenerApi) {\r\n                                listenerApi.unsubscribe();\r\n                                resolve([\r\n                                    action,\r\n                                    listenerApi.getState(),\r\n                                    listenerApi.getOriginalState()\r\n                                ]);\r\n                            }\r\n                        });\r\n                        unsubscribe = function () {\r\n                            stopListening();\r\n                            reject();\r\n                        };\r\n                    });\r\n                    promises = [\r\n                        tuplePromise\r\n                    ];\r\n                    if (timeout != null) {\r\n                        promises.push(new Promise(function (resolve) { return setTimeout(resolve, timeout, null); }));\r\n                    }\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, , 3, 4]);\r\n                    return [4 /*yield*/, raceWithSignal(signal, Promise.race(promises))];\r\n                case 2:\r\n                    output = _c.sent();\r\n                    validateActive(signal);\r\n                    return [2 /*return*/, output];\r\n                case 3:\r\n                    unsubscribe();\r\n                    return [7 /*endfinally*/];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    return function (predicate, timeout) { return catchRejection(take(predicate, timeout)); };\r\n};\r\nvar getListenerEntryPropsFrom = function (options) {\r\n    var type = options.type, actionCreator = options.actionCreator, matcher = options.matcher, predicate = options.predicate, effect = options.effect;\r\n    if (type) {\r\n        predicate = createAction(type).match;\r\n    }\r\n    else if (actionCreator) {\r\n        type = actionCreator.type;\r\n        predicate = actionCreator.match;\r\n    }\r\n    else if (matcher) {\r\n        predicate = matcher;\r\n    }\r\n    else if (predicate) {\r\n    }\r\n    else {\r\n        throw new Error(\"Creating or removing a listener requires one of the known fields for matching an action\");\r\n    }\r\n    assertFunction(effect, \"options.listener\");\r\n    return { predicate: predicate, type: type, effect: effect };\r\n};\r\nvar createListenerEntry = function (options) {\r\n    var _c = getListenerEntryPropsFrom(options), type = _c.type, predicate = _c.predicate, effect = _c.effect;\r\n    var id = nanoid();\r\n    var entry = {\r\n        id: id,\r\n        effect: effect,\r\n        type: type,\r\n        predicate: predicate,\r\n        pending: new Set(),\r\n        unsubscribe: function () {\r\n            throw new Error(\"Unsubscribe not initialized\");\r\n        }\r\n    };\r\n    return entry;\r\n};\r\nvar cancelActiveListeners = function (entry) {\r\n    entry.pending.forEach(function (controller) {\r\n        abortControllerWithReason(controller, listenerCancelled);\r\n    });\r\n};\r\nvar createClearListenerMiddleware = function (listenerMap) {\r\n    return function () {\r\n        listenerMap.forEach(cancelActiveListeners);\r\n        listenerMap.clear();\r\n    };\r\n};\r\nvar safelyNotifyError = function (errorHandler, errorToNotify, errorInfo) {\r\n    try {\r\n        errorHandler(errorToNotify, errorInfo);\r\n    }\r\n    catch (errorHandlerError) {\r\n        setTimeout(function () {\r\n            throw errorHandlerError;\r\n        }, 0);\r\n    }\r\n};\r\nvar addListener = createAction(alm + \"/add\");\r\nvar clearAllListeners = createAction(alm + \"/removeAll\");\r\nvar removeListener = createAction(alm + \"/remove\");\r\nvar defaultErrorHandler = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    console.error.apply(console, __spreadArray([alm + \"/error\"], args));\r\n};\r\nfunction createListenerMiddleware(middlewareOptions) {\r\n    var _this = this;\r\n    if (middlewareOptions === void 0) { middlewareOptions = {}; }\r\n    var listenerMap = new Map();\r\n    var extra = middlewareOptions.extra, _c = middlewareOptions.onError, onError = _c === void 0 ? defaultErrorHandler : _c;\r\n    assertFunction(onError, \"onError\");\r\n    var insertEntry = function (entry) {\r\n        entry.unsubscribe = function () { return listenerMap.delete(entry.id); };\r\n        listenerMap.set(entry.id, entry);\r\n        return function (cancelOptions) {\r\n            entry.unsubscribe();\r\n            if (cancelOptions == null ? void 0 : cancelOptions.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        };\r\n    };\r\n    var findListenerEntry = function (comparator) {\r\n        for (var _i = 0, _c = Array.from(listenerMap.values()); _i < _c.length; _i++) {\r\n            var entry = _c[_i];\r\n            if (comparator(entry)) {\r\n                return entry;\r\n            }\r\n        }\r\n        return void 0;\r\n    };\r\n    var startListening = function (options) {\r\n        var entry = findListenerEntry(function (existingEntry) { return existingEntry.effect === options.effect; });\r\n        if (!entry) {\r\n            entry = createListenerEntry(options);\r\n        }\r\n        return insertEntry(entry);\r\n    };\r\n    var stopListening = function (options) {\r\n        var _c = getListenerEntryPropsFrom(options), type = _c.type, effect = _c.effect, predicate = _c.predicate;\r\n        var entry = findListenerEntry(function (entry2) {\r\n            var matchPredicateOrType = typeof type === \"string\" ? entry2.type === type : entry2.predicate === predicate;\r\n            return matchPredicateOrType && entry2.effect === effect;\r\n        });\r\n        if (entry) {\r\n            entry.unsubscribe();\r\n            if (options.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        }\r\n        return !!entry;\r\n    };\r\n    var notifyListener = function (entry, action, api, getOriginalState) { return __async(_this, null, function () {\r\n        var internalTaskController, take, autoJoinPromises, listenerError_1;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    internalTaskController = new AbortController();\r\n                    take = createTakePattern(startListening, internalTaskController.signal);\r\n                    autoJoinPromises = [];\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, 3, 4, 6]);\r\n                    entry.pending.add(internalTaskController);\r\n                    return [4 /*yield*/, Promise.resolve(entry.effect(action, assign({}, api, {\r\n                            getOriginalState: getOriginalState,\r\n                            condition: function (predicate, timeout) { return take(predicate, timeout).then(Boolean); },\r\n                            take: take,\r\n                            delay: createDelay(internalTaskController.signal),\r\n                            pause: createPause(internalTaskController.signal),\r\n                            extra: extra,\r\n                            signal: internalTaskController.signal,\r\n                            fork: createFork(internalTaskController.signal, autoJoinPromises),\r\n                            unsubscribe: entry.unsubscribe,\r\n                            subscribe: function () {\r\n                                listenerMap.set(entry.id, entry);\r\n                            },\r\n                            cancelActiveListeners: function () {\r\n                                entry.pending.forEach(function (controller, _, set) {\r\n                                    if (controller !== internalTaskController) {\r\n                                        abortControllerWithReason(controller, listenerCancelled);\r\n                                        set.delete(controller);\r\n                                    }\r\n                                });\r\n                            }\r\n                        })))];\r\n                case 2:\r\n                    _c.sent();\r\n                    return [3 /*break*/, 6];\r\n                case 3:\r\n                    listenerError_1 = _c.sent();\r\n                    if (!(listenerError_1 instanceof TaskAbortError)) {\r\n                        safelyNotifyError(onError, listenerError_1, {\r\n                            raisedBy: \"effect\"\r\n                        });\r\n                    }\r\n                    return [3 /*break*/, 6];\r\n                case 4: return [4 /*yield*/, Promise.allSettled(autoJoinPromises)];\r\n                case 5:\r\n                    _c.sent();\r\n                    abortControllerWithReason(internalTaskController, listenerCompleted);\r\n                    entry.pending.delete(internalTaskController);\r\n                    return [7 /*endfinally*/];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var clearListenerMiddleware = createClearListenerMiddleware(listenerMap);\r\n    var middleware = function (api) { return function (next) { return function (action) {\r\n        if (!isAction(action)) {\r\n            return next(action);\r\n        }\r\n        if (addListener.match(action)) {\r\n            return startListening(action.payload);\r\n        }\r\n        if (clearAllListeners.match(action)) {\r\n            clearListenerMiddleware();\r\n            return;\r\n        }\r\n        if (removeListener.match(action)) {\r\n            return stopListening(action.payload);\r\n        }\r\n        var originalState = api.getState();\r\n        var getOriginalState = function () {\r\n            if (originalState === INTERNAL_NIL_TOKEN) {\r\n                throw new Error(alm + \": getOriginalState can only be called synchronously\");\r\n            }\r\n            return originalState;\r\n        };\r\n        var result;\r\n        try {\r\n            result = next(action);\r\n            if (listenerMap.size > 0) {\r\n                var currentState = api.getState();\r\n                var listenerEntries = Array.from(listenerMap.values());\r\n                for (var _i = 0, listenerEntries_1 = listenerEntries; _i < listenerEntries_1.length; _i++) {\r\n                    var entry = listenerEntries_1[_i];\r\n                    var runListener = false;\r\n                    try {\r\n                        runListener = entry.predicate(action, currentState, originalState);\r\n                    }\r\n                    catch (predicateError) {\r\n                        runListener = false;\r\n                        safelyNotifyError(onError, predicateError, {\r\n                            raisedBy: \"predicate\"\r\n                        });\r\n                    }\r\n                    if (!runListener) {\r\n                        continue;\r\n                    }\r\n                    notifyListener(entry, action, api, getOriginalState);\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            originalState = INTERNAL_NIL_TOKEN;\r\n        }\r\n        return result;\r\n    }; }; };\r\n    return {\r\n        middleware: middleware,\r\n        startListening: startListening,\r\n        stopListening: stopListening,\r\n        clearListeners: clearListenerMiddleware\r\n    };\r\n}\r\n// src/autoBatchEnhancer.ts\r\nvar SHOULD_AUTOBATCH = \"RTK_autoBatch\";\r\nvar prepareAutoBatched = function () { return function (payload) {\r\n    var _c;\r\n    return ({\r\n        payload: payload,\r\n        meta: (_c = {}, _c[SHOULD_AUTOBATCH] = true, _c)\r\n    });\r\n}; };\r\nvar promise;\r\nvar queueMicrotaskShim = typeof queueMicrotask === \"function\" ? queueMicrotask.bind(typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : globalThis) : function (cb) { return (promise || (promise = Promise.resolve())).then(cb).catch(function (err) { return setTimeout(function () {\r\n    throw err;\r\n}, 0); }); };\r\nvar createQueueWithTimer = function (timeout) {\r\n    return function (notify) {\r\n        setTimeout(notify, timeout);\r\n    };\r\n};\r\nvar rAF = typeof window !== \"undefined\" && window.requestAnimationFrame ? window.requestAnimationFrame : createQueueWithTimer(10);\r\nvar autoBatchEnhancer = function (options) {\r\n    if (options === void 0) { options = { type: \"raf\" }; }\r\n    return function (next) { return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var store = next.apply(void 0, args);\r\n        var notifying = true;\r\n        var shouldNotifyAtEndOfTick = false;\r\n        var notificationQueued = false;\r\n        var listeners = new Set();\r\n        var queueCallback = options.type === \"tick\" ? queueMicrotaskShim : options.type === \"raf\" ? rAF : options.type === \"callback\" ? options.queueNotification : createQueueWithTimer(options.timeout);\r\n        var notifyListeners = function () {\r\n            notificationQueued = false;\r\n            if (shouldNotifyAtEndOfTick) {\r\n                shouldNotifyAtEndOfTick = false;\r\n                listeners.forEach(function (l) { return l(); });\r\n            }\r\n        };\r\n        return Object.assign({}, store, {\r\n            subscribe: function (listener2) {\r\n                var wrappedListener = function () { return notifying && listener2(); };\r\n                var unsubscribe = store.subscribe(wrappedListener);\r\n                listeners.add(listener2);\r\n                return function () {\r\n                    unsubscribe();\r\n                    listeners.delete(listener2);\r\n                };\r\n            },\r\n            dispatch: function (action) {\r\n                var _a;\r\n                try {\r\n                    notifying = !((_a = action == null ? void 0 : action.meta) == null ? void 0 : _a[SHOULD_AUTOBATCH]);\r\n                    shouldNotifyAtEndOfTick = !notifying;\r\n                    if (shouldNotifyAtEndOfTick) {\r\n                        if (!notificationQueued) {\r\n                            notificationQueued = true;\r\n                            queueCallback(notifyListeners);\r\n                        }\r\n                    }\r\n                    return store.dispatch(action);\r\n                }\r\n                finally {\r\n                    notifying = true;\r\n                }\r\n            }\r\n        });\r\n    }; };\r\n};\r\n// src/index.ts\r\nenableES5();\r\nexport { EnhancerArray, MiddlewareArray, SHOULD_AUTOBATCH, TaskAbortError, addListener, autoBatchEnhancer, clearAllListeners, configureStore, createAction, createActionCreatorInvariantMiddleware, createAsyncThunk, createDraftSafeSelector, createEntityAdapter, createImmutableStateInvariantMiddleware, createListenerMiddleware, default2 as createNextState, createReducer, createSelector2 as createSelector, createSerializableStateInvariantMiddleware, createSlice, current2 as current, findNonSerializableValue, freeze, getDefaultMiddleware, getType, isAction, isActionCreator, isAllOf, isAnyOf, isAsyncThunkAction, isDraft4 as isDraft, isFSA as isFluxStandardAction, isFulfilled, isImmutableDefault, isPending, isPlain, isPlainObject, isRejected, isRejectedWithValue, miniSerializeError, nanoid, original, prepareAutoBatched, removeListener, unwrapResult };\r\n//# sourceMappingURL=redux-toolkit.esm.js.map","const MAX_VALUE_SIZE = 1024;\nconst NEXT_PART_SYMBOL = \"@\";\nconst NEXT_PART_SYFFIX = \".\";\n\nclass MemStorage implements Storage {\n    length = 0;\n\n    private storage: {[key: string]: string} = {};\n\n    setItem(key: string, value: string): void {\n        this.storage[key] = value;\n        this.length = Object.keys(this.storage).length;\n    }\n\n    getItem(key: string): string | null {\n        const value = this.storage[key];\n        return value === undefined ? null : value;\n    }\n\n    removeItem(key: string): void {\n        delete this.storage[key];\n        this.length = Object.keys(this.storage).length;\n    }\n\n    key(index: number): string | null {\n        const keys = Object.keys(this.storage);\n        return keys[index] === undefined ? null : keys[index];\n    }\n\n    clear() {\n        this.length = 0;\n        this.storage = {};\n    }\n}\n\n\nclass LStorage implements Storage {\n    private backend: Storage;\n    length: number;\n    prefix: string;\n\n    constructor(backend: Storage | undefined, prefix: string) {\n        this.prefix = prefix;\n\n        try {\n            this.backend = backend || localStorage;\n            this.testBackend();\n        } catch (e) {\n            this.backend = new MemStorage();\n        }\n\n        this.length = this.backend.length;\n\n        if (typeof this.backend.sync === \"function\") {\n            (this as any).sync = (callback: any) => {\n                this.backend.sync(callback);\n            };\n        }\n    }\n\n    private testBackend() {\n        const testKey = this.prefix + \".test.record\";\n        const testValue = \"123\";\n        this.backend.setItem(testKey, testValue);\n        const readedValue = this.backend.getItem(testKey);\n        this.backend.removeItem(testKey);\n        const valid = readedValue === testValue && this.backend.getItem(testKey) === null;\n\n        if (!valid) {\n            throw new Error(\"Storage backend is not working properly\");\n        }\n    }\n\n    setLocalStoragePrefix(prefix: string) {\n        this.prefix = prefix;\n    }\n\n    clear(): void {\n        if (!this.backend.length) {\n            return;\n        }\n\n        const toRemove: string[] = [];\n        for (let i = 0; i < this.backend.length; ++i) {\n            const next = this.backend.key(i);\n            if (next && next.startsWith(this.prefix)) {\n                toRemove.push(next);\n            }\n        }\n\n        for (const next of toRemove) {\n            this.backend.removeItem(next);\n        }\n        this.length = this.backend.length;\n    }\n\n    key(index: number): string | null {\n        return this.backend.key(index);\n    }\n\n    setItem(key: string, value: string): void {\n        if (!value || value.length === undefined || value.length === 0) {\n            this.writeStringToKey(key, \"\");\n            return;\n        }\n\n        let offset = 0;\n        while (offset < value.length) {\n            let substr = value.substr(offset, MAX_VALUE_SIZE);\n            offset += substr.length;\n\n            if (offset < value.length) {\n                substr += NEXT_PART_SYMBOL;\n            }\n\n            this.writeStringToKey(key, substr);\n            key += NEXT_PART_SYFFIX;\n        }\n    }\n\n    getItem(key: string): string | null {\n        let value = this.readStringFromKey(key);\n        if (value === null) {\n            return null;\n        }\n\n        if (value.length === 0) {\n            return value;\n        }\n\n        while (value[value.length - 1] === NEXT_PART_SYMBOL) {\n            value = value.substr(0, value.length - 1);\n            key += NEXT_PART_SYFFIX;\n            const next = this.readStringFromKey(key);\n            value += next === null ? \"\" : next;\n        }\n\n        return value;\n    }\n\n    removeItem(key: string): void {\n        this.backend.removeItem(this.prefix + key);\n        this.length = this.backend.length;\n    }\n\n    private writeStringToKey(key: string, value: string) {\n        this.backend.setItem(this.prefix + key, value);\n        this.length = this.backend.length;\n    }\n\n    private readStringFromKey(key: string) {\n        return this.backend.getItem(this.prefix + key);\n    }\n}\n\nexport const lStorage = new LStorage(undefined, \"jsdos.8.\");\n","/* eslint @typescript-eslint/no-unused-vars: 0 */\n\nexport interface Cache {\n    readonly owner: string;\n    put: (key: string, data: Uint8Array) => Promise<void>;\n    get: (key: string, defaultValue?: Uint8Array) => Promise<Uint8Array>;\n    del: (key: string) => Promise<void>;\n    keys: () => Promise<string[]>;\n    forEach: (each: (key: string, value: Uint8Array) => void) => Promise<void>;\n    close: () => void;\n}\n\nexport class CacheNoop implements Cache {\n    public owner = \"\";\n\n    public close() {\n    }\n\n    public put(key: string, data: Uint8Array): Promise<void> {\n        return Promise.resolve();\n    }\n\n    public get(key: string, defaultValue?: Uint8Array): Promise<Uint8Array> {\n        if (defaultValue !== undefined) {\n            return Promise.resolve(defaultValue);\n        }\n        return Promise.reject(new Error(\"Cache is not supported on this host\"));\n    }\n\n    public del(key: string): Promise<void> {\n        return Promise.resolve();\n    }\n\n    public keys(): Promise<string[]> {\n        return Promise.resolve([]);\n    }\n\n    public forEach(each: (key: string, value: Uint8Array) => void) {\n        return Promise.resolve();\n    }\n}\n\nclass LCache implements Cache {\n    public owner: string;\n    private storeName = \"files\";\n    private indexedDB: IDBFactory;\n    private db: IDBDatabase | null = null;\n\n    constructor(owner: string,\n        onready: (cache: Cache) => void,\n        onerror: (msg: string) => void) {\n        this.owner = owner;\n        this.indexedDB = (typeof window === \"undefined\" ? undefined : window.indexedDB ||\n            (window as any).mozIndexedDB ||\n            (window as any).webkitIndexedDB || (window as any).msIndexedDB) as any;\n\n        if (!this.indexedDB) {\n            onerror(\"Indexed db is not supported on this host\");\n            return;\n        }\n\n        try {\n            const openRequest = this.indexedDB.open(\"js-dos-cache (\" + owner + \")\", 1);\n            openRequest.onerror = (event) => {\n                onerror(\"Can't open cache database: \" + openRequest.error?.message);\n            };\n            openRequest.onsuccess = (event) => {\n                this.db = openRequest.result;\n                onready(this);\n            };\n            openRequest.onupgradeneeded = (event) => {\n                try {\n                    this.db = openRequest.result;\n                    this.db.onerror = (event) => {\n                        onerror(\"Can't upgrade cache database\");\n                    };\n\n                    const objectStore = this.db.createObjectStore(this.storeName);\n                    objectStore.createIndex(\"key\", \"\", {\n                        unique: true,\n                        multiEntry: false,\n                    });\n                } catch (e) {\n                    onerror(\"Can't upgrade cache database\");\n                }\n            };\n        } catch (e: any) {\n            onerror(\"Can't open cache database: \" + e.message);\n        }\n    }\n\n    public close() {\n        if (this.db !== null) {\n            this.db.close();\n            this.db = null;\n        }\n    }\n\n    public put(key: string, data: Uint8Array): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.db === null) {\n                resolve();\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readwrite\");\n            const request = transaction.objectStore(this.storeName).put(data.buffer, key);\n            request.onerror = () => reject;\n            request.onsuccess = () => resolve();\n        });\n    }\n\n    public del(key: string): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.db === null) {\n                resolve();\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readwrite\");\n            const request = transaction.objectStore(this.storeName).delete(key);\n            request.onerror = () => reject;\n            request.onsuccess = () => resolve();\n        });\n    }\n\n    public get(key: string, defaultValue?: Uint8Array): Promise<Uint8Array> {\n        return new Promise<Uint8Array>((resolve, reject) => {\n            function rejectOrResolve(message: string) {\n                if (defaultValue === undefined) {\n                    reject(new Error(message));\n                } else {\n                    resolve(defaultValue);\n                }\n            }\n\n\n            if (this.db === null) {\n                rejectOrResolve(\"db is not initalized\");\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readonly\");\n            const request = transaction.objectStore(this.storeName).get(key) as IDBRequest<ArrayBuffer>;\n            request.onerror = () => reject(new Error(\"Can't read value for key '\" + key + \"'\"));\n            request.onsuccess = () => {\n                if (request.result) {\n                    resolve(new Uint8Array(request.result));\n                } else {\n                    rejectOrResolve(\"Result is empty for key '\" + key + \"', result: \" + request.result);\n                }\n            };\n        });\n    }\n\n    public keys(): Promise<string[]> {\n        return new Promise<string[]>((resolve, reject) => {\n            if (this.db === null) {\n                resolve([]);\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readonly\");\n            const request = transaction.objectStore(this.storeName).index(\"key\").getAllKeys();\n            request.onerror = () => reject;\n            request.onsuccess = (event) => {\n                const keys = (event.target as any).result as string[];\n                resolve(keys);\n            };\n        });\n    }\n\n    public forEach(each: (key: string, value: Uint8Array) => void): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.db === null) {\n                resolve();\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readonly\");\n            const request = transaction.objectStore(this.storeName).openCursor();\n            request.onerror = () => reject;\n            request.onsuccess = (event) => {\n                const cursor = (event.target as any).result as IDBCursorWithValue;\n                if (cursor) {\n                    each(cursor.key.toString(), new Uint8Array(cursor.value));\n                    cursor.continue();\n                } else {\n                    resolve();\n                }\n            };\n        });\n    }\n}\n\nexport function getCache(owner: string): Promise<Cache> {\n    return new Promise((resolve) => {\n        new LCache(owner, resolve, (msg: string) => {\n            console.error(\"Can't open IndexedDB cache\", msg);\n            resolve(new CacheNoop());\n        });\n    });\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { getCache } from \"../host/lcache\";\nimport { lStorage } from \"../host/lstorage\";\nimport { DosAction, getNonSerializableStore } from \"../store\";\nimport { dosSlice } from \"./dos\";\n\nconst cachedAccount = \"cached.account\";\n\nexport interface Token {\n    access_token: string,\n    refresh_token: string,\n    scope: string,\n    expires_in: number,\n    validUntilMs: number;\n};\n\nexport interface Account {\n    email: string,\n    name: null | string,\n    picture: null | string,\n    token: Token,\n    premium: boolean,\n};\n\nconst initAccount = (() => {\n    const params = new URLSearchParams(location.search);\n    const refreshToken = params.get(\"jsdos_token\");\n    if (refreshToken !== null) {\n        setRefreshToken(refreshToken);\n        history.replaceState(null, \"\", location.href.substring(0, location.href.indexOf(\"?\")));\n        return null;\n    } else {\n        const json = lStorage.getItem(cachedAccount);\n        const account = json !== null ? JSON.parse(json) : null;\n        return account !== null && account.token.validUntilMs - Date.now() > 1 * 60 * 60 * 1000 ?\n            account : null;\n    }\n})();\n\nconst initialState: {\n    loginUrl: string,\n    account: Account | null,\n    ready: boolean,\n} = {\n    loginUrl: location.href,\n    account: initAccount,\n    ready: initAccount !== null,\n};\n\nexport type AuthState = typeof initialState;\n\nexport const authSlice = createSlice({\n    name: \"auth\",\n    initialState,\n    reducers: {\n        login: (state, action: { payload: Account }) => {\n            setRefreshToken(action.payload.token.refresh_token);\n            state.account = action.payload;\n            state.account.premium = state.account.premium ||\n                state.account.email === \"dz.caiiiycuk@gmail.com\";\n            lStorage.setItem(cachedAccount, JSON.stringify(action.payload));\n            (action as unknown as DosAction).asyncStore((store) => {\n                if (action.payload.email === \"dz.caiiiycuk@gmail.com\") {\n                    store.dispatch(dosSlice.actions.setSockdriveWrite(false));\n                }\n                getCache(action.payload.email)\n                    .then((cache) => getNonSerializableStore(store).cache = cache)\n                    .catch(console.error)\n                    .finally(() => {\n                        store.dispatch(authSlice.actions.ready());\n                    });\n            });\n        },\n        logout: (state, action) => {\n            clearRefreshToken();\n            lStorage.removeItem(cachedAccount);\n            (action as unknown as DosAction).asyncStore((store) => {\n                getCache(\"guest\")\n                    .then((cache) => getNonSerializableStore(store).cache = cache)\n                    .catch(console.error);\n            });\n            state.account = null;\n        },\n        ready: (state) => {\n            state.ready = true;\n        },\n        setLoginUrl: (state, action: { payload: string }) => {\n            state.loginUrl = action.payload;\n        },\n    },\n});\n\nexport function getRefreshToken(): string | null {\n    return lStorage.getItem(\"cached.rt\");\n}\n\nfunction setRefreshToken(refreshToken: string | null) {\n    if (refreshToken === null) {\n        clearRefreshToken();\n        return;\n    }\n\n    return lStorage.setItem(\"cached.rt\", refreshToken);\n}\n\nfunction clearRefreshToken() {\n    lStorage.removeItem(\"cached.rt\");\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"./store\";\n\nconst translations: {[lang: string]: {[key: string]: string} } = {\n    ru: {\n        mobile_controls: \" \",\n        mirrored_controls: \" \",\n        scale_controls: \" \",\n        enter_name_of_drive: \"  \",\n        ws_outdated: \"  DOS \",\n        update: \"\",\n        preloading_sockdrive: \"\",\n        filter: \"\",\n        add: \"\",\n        logout: \"\",\n        please_login: \"  \",\n        features: \"\",\n        premium: \"\",\n        buy: \"\",\n        experimental_features: \"   \",\n        cloud_saves: \" \",\n        writeable_fat32: \"FAT32 \",\n        net_no_limits: \"    \",\n        unlock_options: \"   \",\n        error: \"... -   ...\",\n        consult_logs: \"  \",\n        bundle_loading: \" \",\n        bundle_config: \" \",\n        try_free: \" \",\n        upload_file: \"  jsdos/zip   ...\",\n        emulation_backend: \"\",\n        render_backend: \"\",\n        render_aspect: \" \",\n        worker: \" \",\n        mouse_sensitivity: \". \",\n        mouse_lock: \" \",\n        volume: \"\",\n        pause: \"\",\n        dosboxconf_template: \"dosbox.conf :\",\n        preview: \"\",\n        continue: \"\",\n        skip: \"\",\n        loading: \"\",\n        extract_loading: \" \",\n        extract_long_time: \"   ,  ...\",\n        theme: \"\",\n        create_empty: \"  \",\n        uploading_file: \" \",\n        fs_restart: \"      FS?\",\n        please_wait: \" \",\n        making_bundle: \" \",\n        size: \"\",\n        room: \"\",\n        server: \"\",\n        load_by_url: \"  \",\n        enter_url: \" \",\n        load: \"\",\n        stored: \"\",\n        delete: \"\",\n        editor: \"\",\n        download: \"\",\n        changes: \"\",\n        account_not_ready: \"  \",\n        loading_saves: \" \",\n        success: \"\",\n        unable_to_save: \" \",\n        not_premium: \" \",\n        copy_net_link: \"   \",\n        copied: \"\",\n        image_rendering: \" \",\n        read_only_access: \" FAT32    \",\n        fix: \"\",\n        close: \"\",\n        cancle: \"\",\n        manage: \"\",\n        unable_to_cancle_subscription: \"   \",\n        subscription_cancelled: \" \",\n        hardware: \" \",\n        net_drives: \" \",\n        fat_write: \"FAT \",\n        play: \"\",\n        prerun_line: \"     (,  ) \",\n        system_cursor: \" \",\n    },\n    en: {\n        play: \"Start\",\n        prerun_line: \"You can change player settings such as mouse sensitivity by pressing\",\n        system_cursor: \"System cursor\",\n        mobile_controls: \"Mobile controls\",\n        mirrored_controls: \"Mirror controls\",\n        scale_controls: \"Scale controls\",\n        enter_name_of_drive: \"Enter name of drive\",\n        ws_outdated: \"Must update DOS Browser App\",\n        update: \"Update\",\n        preloading_sockdrive: \"Loading\",\n        filter: \"Filter\",\n        add: \"Add\",\n        logout: \"Logout\",\n        please_login: \"Please login\",\n        features: \"Features\",\n        premium: \"Subscription\",\n        buy: \"Buy\",\n        experimental_features: \"Access to all experimental features\",\n        cloud_saves: \"Cloud saves\",\n        writeable_fat32: \"Writable FAT32\",\n        net_no_limits: \"Change the network region\",\n        unlock_options: \"Unlock all configuration options\",\n        error: \"Oops... Something went wrong...\",\n        consult_logs: \"Please check browser logs\",\n        bundle_loading: \"Bundle loading\",\n        bundle_config: \"Reading config\",\n        try_free: \"days for free\",\n        upload_file: \"Select jsdos/zip file to start...\",\n        emulation_backend: \"Emulation\",\n        render_backend: \"Render\",\n        render_aspect: \"Aspect\",\n        worker: \"Worker thread\",\n        mouse_sensitivity: \"Mouse sens...\",\n        mouse_lock: \"Capture mouse\",\n        volume: \"Volume\",\n        pause: \"Pause\",\n        dosboxconf_template: \"dosbox.conf template:\",\n        preview: \"Preview\",\n        continue: \"Continue\",\n        skip: \"Skip\",\n        loading: \"Loading\",\n        extract_loading: \"Unpacking archive\",\n        extract_long_time: \"Can take long time, please be patient...\",\n        theme: \"Theme\",\n        create_empty: \"Create empty bundle\",\n        uploading_file: \"Uploading file\",\n        fs_restart: \"Do you want to rebuild the bundle using this fs?\",\n        please_wait: \"Please wait\",\n        making_bundle: \"Creating bundle\",\n        size: \"Size\",\n        room: \"Room\",\n        server: \"Server\",\n        load_by_url: \"Load by url\",\n        enter_url: \"Enter url\",\n        load: \"Load\",\n        stored: \"Stored\",\n        delete: \"Delete\",\n        editor: \"Editor\",\n        download: \"Download\",\n        changes: \"Saves\",\n        account_not_ready: \"Skip loading saves\",\n        loading_saves: \"Loading saves\",\n        success: \"Success\",\n        unable_to_save: \"Unable to save\",\n        not_premium: \"Subscribe\",\n        copy_net_link: \"Share this link to connect\",\n        copied: \"Copied\",\n        image_rendering: \"Image rendering\",\n        read_only_access: \"The FAT32 drive is open in read-only mode\",\n        fix: \"Fix\",\n        close: \"Close\",\n        cancle: \"Cancle\",\n        manage: \"Manage\",\n        unable_to_cancle_subscription: \"Unable to cancle subscription\",\n        subscription_cancelled: \"Subscription cancelled\",\n        hardware: \"Hardware acceleration\",\n        net_drives: \"Net drives\",\n        fat_write: \"Writeable FAT\",\n    },\n};\n\nconst initialLang = navigator.language.startsWith(\"ru\") ? \"ru\" : \"en\";\n\nconst initialState: {\n    lang: \"ru\" | \"en\",\n    keys: {[key: string]: string},\n} = {\n    lang: initialLang,\n    keys: translations[initialLang],\n};\n\nexport type I18NState = typeof initialState;\n\nexport const i18nSlice = createSlice({\n    name: \"i18n\",\n    initialState,\n    reducers: {\n        setLang: (state, action: { payload: \"ru\" | \"en\" }) => {\n            state.lang = action.payload;\n            state.keys = translations[action.payload];\n        },\n    },\n});\n\nexport function useT() {\n    const keys = useSelector((state: State) => state.i18n.keys);\n    return (key: string) => {\n        return keys[key] ?? key;\n    };\n};\n\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState: {\n    recived: number,\n    total: number,\n    ready: boolean,\n} = {\n    recived: 0,\n    total: 0,\n    ready: false,\n};\n\nexport type StorageState = typeof initialState;\n\nexport const storageSlice = createSlice({\n    name: \"storage\",\n    initialState,\n    reducers: {\n        reset: (s) => {\n            s.recived = -1;\n            s.total = 0;\n            s.ready = false;\n        },\n        progress: (s, a: { payload: [number, number ] }) => {\n            s.recived = a.payload[0];\n            s.total = a.payload[1];\n        },\n        ready: (s) => {\n            s.ready = true;\n        },\n    },\n});\n","/* eslint-disable max-len */\nexport const dosboxconf = [{\n    name: \"7.xx\",\n    backend: \"dosbox\",\n    contents: `[sdl]\nautolock=false\n\nfullscreen=false\nfulldouble=false\nfullresolution=original\nwindowresolution=original\noutput=surface\nsensitivity=100\nwaitonerror=true\npriority=higher,normal\nmapperfile=mapper-jsdos.map\nusescancodes=true\nvsync=false\n[dosbox]\nmachine=svga_s3\n\nlanguage=\ncaptures=capture\nmemsize=16\n[cpu]\ncore=auto\ncputype=auto\ncycles=auto\n\ncycleup=10\ncycledown=20\n[mixer]\nnosound=false\nrate=44100\n\nblocksize=1024\nprebuffer=20\n\n[render]\n# frameskip: How many frames DOSBox skips before drawing one.\n#    aspect: Do aspect correction, if your output method doesn't support scaling this can slow things down!.\n#    scaler: Scaler used to enlarge/enhance low resolution modes.\n#              If 'forced' is appended, then the scaler will be used even if the result might not be desired.\n#            Possible values: none, normal2x, normal3x, advmame2x, advmame3x, advinterp2x, advinterp3x, hq2x, hq3x, 2xsai, super2xsai, supereagle, tv2x, tv3x, rgb2x, rgb3x, scan2x, scan3x.\n\nframeskip=0\naspect=false\nscaler=none\n\n[midi]\n#     mpu401: Type of MPU-401 to emulate.\n#             Possible values: intelligent, uart, none.\n# mididevice: Device that will receive the MIDI data from MPU-401.\n#             Possible values: default, win32, alsa, oss, coreaudio, coremidi, none.\n# midiconfig: Special configuration options for the device driver. This is usually the id of the device you want to use.\n#               See the README/Manual for more details.\n\nmpu401=intelligent\nmididevice=default\nmidiconfig=\n\n[sblaster]\n#  sbtype: Type of Soundblaster to emulate. gb is Gameblaster.\n#          Possible values: sb1, sb2, sbpro1, sbpro2, sb16, gb, none.\n#  sbbase: The IO address of the soundblaster.\n#          Possible values: 220, 240, 260, 280, 2a0, 2c0, 2e0, 300.\n#     irq: The IRQ number of the soundblaster.\n#          Possible values: 7, 5, 3, 9, 10, 11, 12.\n#     dma: The DMA number of the soundblaster.\n#          Possible values: 1, 5, 0, 3, 6, 7.\n#    hdma: The High DMA number of the soundblaster.\n#          Possible values: 1, 5, 0, 3, 6, 7.\n# sbmixer: Allow the soundblaster mixer to modify the DOSBox mixer.\n# oplmode: Type of OPL emulation. On 'auto' the mode is determined by sblaster type. All OPL modes are Adlib-compatible, except for 'cms'.\n#          Possible values: auto, cms, opl2, dualopl2, opl3, none.\n#  oplemu: Provider for the OPL emulation. compat might provide better quality (see oplrate as well).\n#          Possible values: default, compat, fast.\n# oplrate: Sample rate of OPL music emulation. Use 49716 for highest quality (set the mixer rate accordingly).\n#          Possible values: 44100, 49716, 48000, 32000, 22050, 16000, 11025, 8000.\n\nsbtype=sb16\nsbbase=220\nirq=7\ndma=1\nhdma=5\nsbmixer=true\noplmode=auto\noplemu=default\noplrate=44100\n\n[gus]\n#      gus: Enable the Gravis Ultrasound emulation.\n#  gusrate: Sample rate of Ultrasound emulation.\n#           Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#  gusbase: The IO base address of the Gravis Ultrasound.\n#           Possible values: 240, 220, 260, 280, 2a0, 2c0, 2e0, 300.\n#   gusirq: The IRQ number of the Gravis Ultrasound.\n#           Possible values: 5, 3, 7, 9, 10, 11, 12.\n#   gusdma: The DMA channel of the Gravis Ultrasound.\n#           Possible values: 3, 0, 1, 5, 6, 7.\n# ultradir: Path to Ultrasound directory. In this directory\n#           there should be a MIDI directory that contains\n#           the patch files for GUS playback. Patch sets used\n#           with Timidity should work fine.\n\ngus=false\ngusrate=44100\ngusbase=240\ngusirq=5\ngusdma=3\nultradir=C:\\\\ULTRASND\n\n[speaker]\n# pcspeaker: Enable PC-Speaker emulation.\n#    pcrate: Sample rate of the PC-Speaker sound generation.\n#            Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#     tandy: Enable Tandy Sound System emulation. For 'auto', emulation is present only if machine is set to 'tandy'.\n#            Possible values: auto, on, off.\n# tandyrate: Sample rate of the Tandy 3-Voice generation.\n#            Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#    disney: Enable Disney Sound Source emulation. (Covox Voice Master and Speech Thing compatible).\n\npcspeaker=true\npcrate=44100\ntandy=auto\ntandyrate=44100\ndisney=true\n\n[joystick]\n# joysticktype: Type of joystick to emulate: auto (default), none,\n#               2axis (supports two joysticks),\n#               4axis (supports one joystick, first joystick used),\n#               4axis_2 (supports one joystick, second joystick used),\n#               fcs (Thrustmaster), ch (CH Flightstick).\n#               none disables joystick emulation.\n#               auto chooses emulation depending on real joystick(s).\n#               (Remember to reset dosbox's mapperfile if you saved it earlier)\n#               Possible values: auto, 2axis, 4axis, 4axis_2, fcs, ch, none.\n#        timed: enable timed intervals for axis. Experiment with this option, if your joystick drifts (away).\n#     autofire: continuously fires as long as you keep the button pressed.\n#       swap34: swap the 3rd and the 4th axis. can be useful for certain joysticks.\n#   buttonwrap: enable button wrapping at the number of emulated buttons.\n\njoysticktype=auto\ntimed=true\nautofire=false\nswap34=false\nbuttonwrap=false\n\n[serial]\n# serial1: set type of device connected to com port.\n#          Can be disabled, dummy, modem, nullmodem, directserial.\n#          Additional parameters must be in the same line in the form of\n#          parameter:value. Parameter for all types is irq (optional).\n#          for directserial: realport (required), rxdelay (optional).\n#                           (realport:COM1 realport:ttyS0).\n#          for modem: listenport (optional).\n#          for nullmodem: server, rxdelay, txdelay, telnet, usedtr,\n#                         transparent, port, inhsocket (all optional).\n#          Example: serial1=modem listenport:5000\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial2: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial3: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial4: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n\nserial1=dummy\nserial2=dummy\nserial3=disabled\nserial4=disabled\n\n[dos]\n#            xms: Enable XMS support.\n#            ems: Enable EMS support.\n#            umb: Enable UMB support.\n# keyboardlayout: Language code of the keyboard layout (or none).\n\nxms=true\nems=true\numb=true\nkeyboardlayout=auto\n\n[ipx]\n# ipx: Enable ipx over UDP/IP emulation.\n\nipx=true\n[autoexec]\necho off\nmount c .\nc:\n\ntype jsdos~1/readme.txt\necho on\n\n# Generated using https://js-dos.com\n#     \n#          \n#         \n#     \n#    \n#       \n#      \n#     \n#     \n#       \n#    \n#     \n#           \n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"DOS 7.1\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\n\n[dosbox]\ntitle=DOS 7.1\nmemsize=64\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\n\n[sblaster]\nsbtype=sb16vibra\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system dos7.1-v1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load DOS 7.1\necho on\n# \n#     \n#          \n#         \n#     \n#    \n#       \n#      \n#     \n#     \n#       \n#    \n#     \n#           \n#\n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"Win 95\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\nmouse_emulation=integration\n\n[dosbox]\ntitle=Windows 95\nmemsize=128\n\n[video]\nvmemsize=8\nvesa modelist width limit=0\nvesa modelist height limit=0\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\nintegration device=true\n\n[sblaster]\nsbtype=sb16vibra\n\n[fdc, primary]\nint13fakev86io=true\n\n[ide, primary]\nint13fakeio=true\nint13fakev86io=true\n\n[ide, secondary]\nint13fakeio=true\nint13fakev86io=true\ncd-rom insertion delay=4000\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system win95-v1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load windows 95\necho on\n# \n#     \n#          \n#         \n#     \n#    \n#       \n#      \n#     \n#     \n#       \n#    \n#     \n#           \n#\n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"Win 98\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\nmouse_emulation=integration\n\n[dosbox]\ntitle=Windows 98\nmemsize=128\n\n[video]\nvmemsize=8\nvesa modelist width limit=0\nvesa modelist height limit=0\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\nintegration device=true\n\n[sblaster]\nsbtype=sb16vibra\n\n[fdc, primary]\nint13fakev86io=true\n\n[ide, primary]\nint13fakeio=true\nint13fakev86io=true\n\n[ide, secondary]\nint13fakeio=true\nint13fakev86io=true\ncd-rom insertion delay=4000\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system win98-v1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load windows 98\necho on\n# \n#     \n#          \n#         \n#     \n#    \n#       \n#      \n#     \n#     \n#       \n#    \n#     \n#           \n#\n`.replace(/\\n/g, \"\\r\\n\"),\n},\n];\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { DosConfig } from \"emulators\";\nimport { Node } from \"react-checkbox-tree\";\nimport { dosboxconf } from \"../frame/editor/defaults\";\n\nconst initialState: {\n    // step: \"empty\" | \"extract\" | \"ready\" | \"error\",\n    configChanged: boolean,\n    bundleConfig: DosConfig | null,\n    errorMessage: string | null,\n    fs: Node[],\n} = {\n    // step: \"empty\",\n    configChanged: false,\n    bundleConfig: null,\n    errorMessage: null,\n    fs: [],\n};\n\nexport type EditorState = typeof initialState;\n\nexport const editorSlice = createSlice({\n    name: \"editor\",\n    initialState,\n    reducers: {\n        init: (s, a: { payload: DosConfig | null }) => {\n            if (a.payload === null) {\n                s.configChanged = true;\n                s.bundleConfig = {\n                    dosboxConf: dosboxconf[0].contents,\n                    jsdosConf: {\n                        version: \"js-dos-v8\",\n                    },\n                };\n            } else {\n                s.configChanged = false;\n                s.bundleConfig = a.payload;\n            }\n        },\n        dosboxConf: (s, a: { payload: string }) => {\n            s.configChanged = true;\n            s.bundleConfig!.dosboxConf = a.payload;\n        },\n        // empty: (s) => {\n        //     s.step = \"empty\";\n        // },\n        // extract: (s) => {\n        //     s.step = \"extract\";\n        // },\n        // ready: (s) => {\n        //     s.step = \"ready\";\n        // },\n        // config: (s, a: { payload: DosConfig | null }) => {\n        //     s.bundleConfig = a.payload;\n        // },\n        // error: (s, a: { payload: string }) => {\n        //     s.step = \"error\";\n        //     s.errorMessage = a.payload;\n        // },\n    },\n});\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { lStorage } from \"../host/lstorage\";\n\nexport const sockdriveBackendNames = [\"localhost\", \"js-dos\"];\nexport type SockdriveBackendName = typeof sockdriveBackendNames[number];\nexport const sockdriveBackend: {\n    [key: SockdriveBackendName]: {\n        sockdriveEndpoint: string,\n        sockdriveWssEndpoint: string,\n    }\n} = {\n    \"js-dos\": {\n        sockdriveEndpoint: \"https://sockdrive.js-dos.com:8001\",\n        sockdriveWssEndpoint: \"wss://sockdrive.js-dos.com:8001\",\n    },\n    \"localhost\": {\n        sockdriveEndpoint: \"http://localhost:8001\",\n        sockdriveWssEndpoint: \"ws://localhost:8001\",\n    },\n};\n\nexport interface InitState {\n    uid: string,\n    sockdriveBackendName: SockdriveBackendName,\n};\n\nlet storeUid = -1;\nexport function createInitSlice() {\n    storeUid += 1;\n    return {\n        storeUid,\n        slice: createSlice({\n            name: \"init\",\n            initialState: {\n                uid: storeUid,\n                sockdriveBackendName: lStorage.getItem(\"sockdrive.backend.name\") ?? \"js-dos\",\n            },\n            reducers: {\n                setSockdriveBackendName: (state, a: { payload: SockdriveBackendName }) => {\n                    state.sockdriveBackendName = a.payload;\n                    lStorage.setItem(\"sockdrive.backend.name\", a.payload);\n                },\n            },\n        }),\n    };\n}\n\nexport const initSlice = createInitSlice().slice;\n","import { ThunkMiddleware, configureStore } from \"@reduxjs/toolkit\";\nimport { UiState, uiSlice } from \"./store/ui\";\nimport { AuthState, authSlice } from \"./store/auth\";\nimport { DosState, dosSlice } from \"./store/dos\";\nimport { I18NState, i18nSlice } from \"./i18n\";\nimport { StorageState, storageSlice } from \"./store/storage\";\nimport { EditorState, editorSlice } from \"./store/editor\";\nimport { DosEvent, DosOptions } from \"./public/types\";\nimport { CommandInterface, InitFs } from \"emulators\";\nimport { useStore } from \"react-redux\";\nimport { Cache, CacheNoop } from \"./host/lcache\";\nimport { InitState, createInitSlice, initSlice, sockdriveBackend, sockdriveBackendNames } from \"./store/init\";\nimport { LayersInstance } from \"./layers/instance\";\n\nexport interface LoadedBundle {\n    bundleUrl: string | null,\n    bundleChangesUrl: string | null,\n    bundle: InitFs | null,\n    bundleChanges: Uint8Array | null,\n}\n\nexport interface NonSerializableStore {\n    root: HTMLDivElement,\n    loadedBundle: LoadedBundle | null,\n    ci: CommandInterface | null,\n    cache: Cache,\n    options: Partial<DosOptions>,\n    layers: Promise<LayersInstance> | null;\n}\n\nexport interface DosAction {\n    asyncStore: (cakkback: (store: Store) => void) => void,\n}\n\nconst dosMiddleware: ThunkMiddleware<any> = (store) => (next) => (action) => {\n    function asyncStore(callback: (store: any) => void) {\n        setTimeout(() => callback(store), 4);\n    }\n\n    const actionWithAsyncDispatch =\n        Object.assign({}, action, { asyncStore });\n\n    next(actionWithAsyncDispatch);\n};\n\nconst nonSerializableStoreMap: { [uid: string]: NonSerializableStore } = {};\n\nexport function makeNonSerializableStore(options: Partial<DosOptions>): NonSerializableStore {\n    return {\n        root: null as any,\n        loadedBundle: null,\n        ci: null,\n        cache: new CacheNoop(),\n        options,\n        layers: null,\n    };\n}\n\nexport function makeStore(nonSerializableStore: NonSerializableStore, options: Partial<DosOptions>) {\n    const { storeUid, slice } = createInitSlice();\n    const store = configureStore({\n        reducer: {\n            init: slice.reducer,\n            i18n: i18nSlice.reducer,\n            auth: authSlice.reducer,\n            ui: uiSlice.reducer,\n            dos: dosSlice.reducer,\n            storage: storageSlice.reducer,\n            editor: editorSlice.reducer,\n        },\n        middleware: (getDefault) => {\n            const all = getDefault();\n            all.push(dosMiddleware);\n            return all;\n        },\n    });\n    nonSerializableStoreMap[storeUid] = nonSerializableStore;\n    if (options.sockdriveBackend && sockdriveBackendNames.indexOf(options.sockdriveBackend.name) === -1) {\n        sockdriveBackendNames.push(options.sockdriveBackend.name);\n        sockdriveBackend[options.sockdriveBackend.name] = {\n            sockdriveEndpoint: \"https://\" + options.sockdriveBackend.host,\n            sockdriveWssEndpoint: \"wss://\" + options.sockdriveBackend.host,\n        };\n        store.dispatch(initSlice.actions.setSockdriveBackendName(options.sockdriveBackend.name));\n    }\n    return store;\n};\n\nexport interface State {\n    init: InitState,\n    ui: UiState,\n    auth: AuthState,\n    dos: DosState,\n    i18n: I18NState,\n    editor: EditorState,\n    storage: StorageState,\n}\n\nexport type Store = ReturnType<typeof makeStore>;\n\nexport function getNonSerializableStore(storeOrState: any): NonSerializableStore {\n    if (typeof storeOrState.getState === \"function\") {\n        return nonSerializableStoreMap[storeOrState.getState().init.uid];\n    } else {\n        return nonSerializableStoreMap[storeOrState.init.uid];\n    }\n}\n\nexport function useNonSerializableStore() {\n    return getNonSerializableStore(useStore());\n}\n\nexport function postJsDosEvent(nonSerializableStore: NonSerializableStore, event: DosEvent, ci?: CommandInterface) {\n    if (nonSerializableStore.options.onEvent) {\n        setTimeout(() => {\n            nonSerializableStore.options.onEvent?.(event, ci);\n        }, 4);\n    }\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { DosAction, getNonSerializableStore, makeStore, postJsDosEvent } from \"../store\";\nimport { Emulators } from \"emulators\";\nimport { lStorage } from \"../host/lstorage\";\n\nconst alphabet = \"qwertyuiopasdfghjklzxcvbnm1234567890\";\ndeclare const emulators: Emulators;\nexport interface BundleConfig {\n    name?: string,\n    version?: string,\n    backend?: string,\n    render?: string,\n};\n\nexport const BackendValues = <const>[\"dosbox\", \"dosboxX\"];\nexport type Backend = typeof BackendValues[number];\n\nexport const RenderBackendValues = <const>[\"webgl\", \"canvas\"];\nexport type RenderBackend = typeof RenderBackendValues[number];\n\nexport const RenderAspectValues = <const>[\"AsIs\", \"1/1\", \"5/4\", \"4/3\", \"16/10\", \"16/9\", \"Fit\"];\nexport type RenderAspect = typeof RenderAspectValues[number];\nexport const FitConstant = 65535;\n\nexport const ImageRenderingValues = <const>[\"pixelated\", \"smooth\"];\nexport type ImageRendering = typeof ImageRenderingValues[number];\n\nexport interface EmulatorStats {\n    cyclesPerMs: number,\n    nonSkippableSleepPreSec: number,\n    sleepPerSec: number,\n    sleepTimePerSec: number,\n    framePerSec: number,\n    soundPerSec: number,\n    msgSentPerSec: number,\n    msgRecvPerSec: number,\n    netSent: number,\n    netRecv: number,\n    driveSent: number,\n    driveRecv: number,\n    driveRecvTime: number,\n    driveCacheHit: number,\n    driveCacheMiss: number,\n    driveCacheUsed: number,\n    driveIo: { read: number, write: number }[];\n};\n\nconst initialState: {\n    step:\n    \"emu-init\" | \"emu-error\" | \"emu-ready\" |\n    \"bnd-load\" | \"bnd-error\" | \"bnd-config\" | \"bnd-ready\" |\n    \"bnd-play\",\n    emuVersion: string,\n    worker: boolean,\n    backend: Backend,\n    backendLocked: boolean,\n    backendHardware: boolean,\n    renderBackend: RenderBackend,\n    renderAspect: RenderAspect,\n    volume: number,\n    mobileControls: boolean,\n    mirroredControls: boolean,\n    scaleControls: number,\n    mouseSensitivity: number,\n    mouseCapture: boolean,\n    paused: boolean,\n    error: null | undefined | string,\n    bundle: string | null,\n    config: BundleConfig,\n    stats: EmulatorStats,\n    ci: boolean,\n    ciStartedAt: number,\n    network: {\n        server: \"netherlands\" | \"newyork\" | \"singapore\",\n        room: string,\n        ipx: \"connecting\" | \"connected\" | \"disconnected\" | \"error\",\n    },\n    imageRendering: ImageRendering,\n    sockdriveWrite: boolean,\n    softKeyboard: boolean,\n    softKeyboardLayout: string[],\n    softKeyboardSymbols: {[key: string]: string}[],\n    softKeyboardActiveSymbols: number,\n    noCursor: boolean,\n} = {\n    step: \"emu-init\",\n    emuVersion: \"-\",\n    error: null,\n    bundle: null,\n    config: {},\n    worker: lStorage.getItem(\"worker\") !== \"false\",\n    backend: (lStorage.getItem(\"backend\") ?? \"dosbox\") as Backend,\n    backendLocked: false,\n    backendHardware: (lStorage.getItem(\"backendHardware\") !== \"false\"),\n    renderBackend: (lStorage.getItem(\"renderBackend\") ?? \"webgl\") as RenderBackend,\n    renderAspect: (lStorage.getItem(\"renderAspect\") ?? \"AsIs\") as RenderAspect,\n    volume: (Number.parseFloat(lStorage.getItem(\"volume\") ?? \"1.0\")),\n    mobileControls: false,\n    mirroredControls: lStorage.getItem(\"mirroredControls\") === \"true\",\n    scaleControls: (Number.parseFloat(lStorage.getItem(\"scaleControls\") ?? \"0.2\")),\n    mouseSensitivity: (Number.parseFloat(lStorage.getItem(\"mouse_sensitivity\") ?? \"1.0\")),\n    mouseCapture: false,\n    paused: false,\n    stats: {\n        cyclesPerMs: 0,\n        nonSkippableSleepPreSec: 0,\n        sleepPerSec: 0,\n        sleepTimePerSec: 0,\n        framePerSec: 0,\n        soundPerSec: 0,\n        msgSentPerSec: 0,\n        msgRecvPerSec: 0,\n        netRecv: 0,\n        netSent: 0,\n        driveSent: 0,\n        driveRecv: 0,\n        driveRecvTime: 0,\n        driveCacheHit: 0,\n        driveCacheMiss: 0,\n        driveCacheUsed: 0,\n        driveIo: [],\n    },\n    network: {\n        server: (lStorage.getItem(\"net.server\") ?? \"netherlands\") as any,\n        room: randomRoom(),\n        ipx: \"disconnected\",\n    },\n    ci: false,\n    ciStartedAt: 0,\n    imageRendering: (lStorage.getItem(\"imageRendering\") ?? \"pixelated\") as any,\n    sockdriveWrite: true,\n    softKeyboard: false,\n    softKeyboardLayout: [\n        \"{esc} ` 1 2 3 4 5 6 7 8 9 0 () - = {bksp} {enter}\",\n        \"{tab} q w e r t y u i o p { } \\\\ {up}\",\n        \"{shift} {left} {right} a s d f g h j k l ; ' [ {down}\",\n        \" {alt} {ctrl} z x c v b n m , . / ] {space}\",\n    ],\n    softKeyboardSymbols: [\n        {\n            \"{esc}\": \"\",\n            \"{bksp}\": \"\",\n            \"{enter}\": \"\",\n            \"{space}\": \"Space\",\n            \"{up}\": \"\",\n            \"{down}\": \"\",\n            \"{left}\": \"\",\n            \"{right}\": \"\",\n            \"{shift}\": \"\",\n            \"{ctrl}\": \"Ctrl\",\n            \"{alt}\": \"Alt\",\n            \"{tab}\": \"Tab\",\n        },\n        {\n            \"{esc}\": \"\",\n            \"{bksp}\": \"\",\n            \"{enter}\": \"\",\n            \"{space}\": \"Space\",\n            \"{up}\": \"\",\n            \"{down}\": \"\",\n            \"{left}\": \"\",\n            \"{right}\": \"\",\n            \"{shift}\": \"\",\n            \"{alt}\": \"Alt\",\n            \"{ctrl}\": \"Ctrl\",\n            \"{tab}\": \"Tab\",\n            \"q\": \"\", \"w\": \"\", \"e\": \"\", \"r\": \"\", \"t\": \"\",\n            \"y\": \"\", \"u\": \"\", \"i\": \"\", \"o\": \"\", \"p\": \"\",\n            \"{\": \"\", \"}\": \"\", \"a\": \"\", \"s\": \"\", \"d\": \"\",\n            \"f\": \"\", \"g\": \"\", \"h\": \"\", \"j\": \"\", \"k\": \"\",\n            \"l\": \"\", \";\": \"\", \"'\": \"\", \"z\": \"\", \"x\": \"\",\n            \"c\": \"\", \"v\": \"\", \"b\": \"\", \"n\": \"\", \"m\": \"\",\n            \",\": \"\", \".\": \"\",\n        },\n    ],\n    softKeyboardActiveSymbols: 0,\n    noCursor: false,\n};\n\nexport type DosState = typeof initialState;\n\nexport const dosSlice = createSlice({\n    name: \"dos\",\n    initialState,\n    reducers: {\n        emuReady: (s, a: { payload: string }) => {\n            s.step = \"emu-ready\";\n            s.emuVersion = a.payload;\n        },\n        emuError: (s, a: { payload: string }) => {\n            s.step = \"emu-error\";\n            s.error = a.payload ?? \"Unexpeceted error\";\n        },\n        bndLoad: (s, a: { payload: string }) => {\n            s.step = \"bnd-load\";\n            s.bundle = a.payload;\n        },\n        bndError: (s, a: { payload: string }) => {\n            s.step = \"bnd-error\";\n            s.error = a.payload ?? \"Unexpeceted error\";\n        },\n        bndConfig: (s) => {\n            s.step = \"bnd-config\";\n        },\n        bndReady: (s, a: { payload: BundleConfig }) => {\n            s.step = \"bnd-ready\";\n            s.config = a.payload;\n        },\n        bndPlay: (s, a) => {\n            s.step = \"bnd-play\";\n            (a as unknown as DosAction).asyncStore((store) => {\n                postJsDosEvent(getNonSerializableStore(store), \"bnd-play\");\n            });\n        },\n        dosWorker: (s, a: { payload: boolean }) => {\n            s.worker = a.payload;\n            lStorage.setItem(\"worker\", s.worker ? \"true\" : \"false\");\n        },\n        dosBackend: (s, a: { payload: Backend }) => {\n            s.backend = a.payload as Backend;\n        },\n        dosBackendLocked: (s, a: { payload: boolean }) => {\n            s.backendLocked = a.payload;\n        },\n        dosBackendHardware: (s, a: { payload: boolean }) => {\n            s.backendHardware = a.payload;\n            lStorage.setItem(\"backendHardware\", s.backendHardware ? \"true\" : \"false\");\n        },\n        renderBackend: (s, a: { payload: RenderBackend }) => {\n            s.renderBackend = a.payload;\n            lStorage.setItem(\"renderBackend\", s.renderBackend);\n        },\n        renderAspect: (s, a: { payload: RenderAspect }) => {\n            s.renderAspect = a.payload;\n            lStorage.setItem(\"renderAspect\", s.renderAspect);\n        },\n        imageRendering: (s, a: { payload: ImageRendering }) => {\n            s.imageRendering = a.payload;\n            lStorage.setItem(\"imageRendering\", s.imageRendering);\n        },\n        volume: (s, a: { payload: number }) => {\n            s.volume = a.payload;\n            lStorage.setItem(\"volume\", s.volume + \"\");\n        },\n        mouseSensitivity: (s, a: { payload: number }) => {\n            s.mouseSensitivity = a.payload;\n            lStorage.setItem(\"mouse_sensitivity\", s.mouseSensitivity + \"\");\n        },\n        mouseCapture: (s, a: { payload: boolean }) => {\n            s.mouseCapture = a.payload;\n        },\n        paused: (s, a: { payload: boolean }) => {\n            s.paused = a.payload;\n        },\n        stats: (s, a: { payload: EmulatorStats }) => {\n            s.stats = a.payload;\n        },\n        ci: (s, a: { payload: boolean }) => {\n            s.ci = a.payload;\n            if (a.payload) {\n                s.ciStartedAt = Date.now();\n            }\n        },\n        connectIpx: (s, a: { payload: { room: string, address: string } }) => {\n            if (s.network.ipx === \"connected\") {\n                throw new Error(\"Already connected\");\n            }\n\n            if (!s.ci) {\n                throw new Error(\"DOS is not started\");\n            }\n\n            const { room, address } = a.payload;\n            s.network.ipx = \"connecting\";\n            (a as unknown as DosAction).asyncStore((store) => {\n                const nonSerializableStore = getNonSerializableStore(store);\n                if (!nonSerializableStore.ci) {\n                    throw new Error(\"DOS is not started\");\n                }\n\n                const canonicalAddress = address.endsWith(\"/\") ?\n                    address.substring(0, address.length - 1) :\n                    address;\n\n                nonSerializableStore.ci.networkConnect(0 /* NetworkType.NETWORK_DOSBOX_IPX */,\n                    canonicalAddress + \":1900/ipx/\" + room.replaceAll(\"@\", \"_\"))\n                    .then(() => {\n                        store.dispatch(dosSlice.actions.statusIpx(\"connected\"));\n                    })\n                    .catch((e) => {\n                        store.dispatch(dosSlice.actions.statusIpx(\"error\"));\n                        console.error(e);\n                    });\n            });\n        },\n        statusIpx: (s, a: { payload: \"error\" | \"connected\" | \"connecting\" }) => {\n            s.network.ipx = a.payload;\n        },\n        disconnectIpx: (s, a) => {\n            s.network.ipx = \"disconnected\";\n            (a as unknown as DosAction).asyncStore((store) => {\n                getNonSerializableStore(store).ci?.networkDisconnect(0 /* IPX */);\n            });\n        },\n        setRoom: (s, a: { payload: string }) => {\n            s.network.room = a.payload;\n        },\n        setServer: (s, a: { payload: typeof initialState.network.server }) => {\n            s.network.server = a.payload;\n            lStorage.setItem(\"net.server\", a.payload);\n        },\n        setSockdriveWrite: (s, a: { payload: boolean }) => {\n            s.sockdriveWrite = a.payload;\n        },\n        mobileControls: (s, a: { payload: boolean }) => {\n            s.mobileControls = a.payload;\n        },\n        mirroredControls: (s, a: { payload: boolean }) => {\n            s.mirroredControls = a.payload;\n            lStorage.setItem(\"mirroredControls\", a.payload ? \"true\" : \"false\");\n        },\n        scaleControls: (s, a: { payload: number }) => {\n            s.scaleControls = a.payload;\n            lStorage.setItem(\"scaleControls\", s.scaleControls + \"\");\n        },\n        softKeyboard: (s, a: { payload: boolean }) => {\n            s.softKeyboard = a.payload;\n        },\n        softKeyboardLayout: (s, a: { payload: string[] }) => {\n            s.softKeyboardLayout = a.payload;\n        },\n        softKeyboardSymbols: (s, a: { payload: {[key: string]: string}[] }) => {\n            s.softKeyboardSymbols = a.payload;\n        },\n        softKeyboardActiveSymbols: (s, a: { payload: number }) => {\n            s.softKeyboardActiveSymbols = a.payload;\n        },\n        noCursor: (s, a: { payload: boolean }) => {\n            s.noCursor = a.payload;\n        },\n    },\n});\n\nlet emulatorsReady = false;\nexport function initEmulators(store: ReturnType<typeof makeStore>, pathPrefix: string) {\n    store.dispatch(async (dispatch) => {\n        try {\n            if (!emulatorsReady) {\n                await initEmulatorsJs(pathPrefix);\n                emulatorsReady = true;\n            }\n            dispatch(dosSlice.actions.emuReady(emulators.version));\n        } catch (e) {\n            console.error(\"Unable to init emulators.js\", e);\n            dispatch(dosSlice.actions.emuError((e as any).message));\n        }\n    });\n}\n\nfunction initEmulatorsJs(pathPrefix: string) {\n    const el = document.querySelector(\"#emulators.js\");\n    if (el !== null) {\n        return Promise.resolve();\n    }\n\n    return new Promise<void>((resolve, reject) => {\n        const script = document.createElement(\"script\");\n        script.async = true;\n        script.type = \"text/javascript\";\n        script.src = pathPrefix + \"emulators.js\";\n        script.onload = () => {\n            emulators.pathPrefix = pathPrefix;\n            resolve();\n        };\n        script.onerror = (err) => {\n            reject(new Error(\"Unable to add emulators.js. Probably you should set the \" +\n                \"'pathPrefix' option to point to the js-dos folder.\"));\n        };\n\n        document.head.appendChild(script);\n    });\n};\n\nfunction randomSymbol() {\n    return alphabet[Math.round(Math.random() * (alphabet.length - 1))];\n}\n\nfunction randomRoom() {\n    return randomSymbol() + randomSymbol() + randomSymbol();\n}\n","import { Dispatch, createAction, createSlice } from \"@reduxjs/toolkit\";\nimport { lStorage } from \"../host/lstorage\";\nimport { Account } from \"./auth\";\nimport { DosAction } from \"../store\";\nimport { dosSlice } from \"./dos\";\n\nexport const ThemeValues = <const>[\"light\", \"dark\", \"cupcake\", \"bumblebee\", \"emerald\", \"corporate\",\n    \"synthwave\", \"retro\", \"cyberpunk\", \"valentine\", \"halloween\", \"garden\", \"forest\", \"aqua\", \"lofi\",\n    \"pastel\", \"fantasy\", \"wireframe\", \"black\", \"luxury\", \"dracula\", \"cmyk\", \"autumn\", \"business\",\n    \"acid\", \"lemonade\", \"night\", \"coffee\", \"winter\"];\nexport type Theme = typeof ThemeValues[number];\n\nexport type Frame = \"none\" | \"account\" | \"settings\" |\n    \"editor-conf\" | \"editor-fs\" | \"network\" |\n    \"stats\" | \"fat-drives\" | \"quick-save\" | \"image-rendering\" |\n    \"prerun\";\n\nconst initialState: {\n    hidden: boolean,\n    modal: \"none\" | \"login\",\n    frame: Frame,\n    frameXs: boolean,\n    window: \"none\" | \"error\" | \"loading\" | \"prerun\" | \"run\" | \"select\",\n    theme: Theme,\n    editor: boolean,\n    wideScreen: boolean,\n    fullScreen: boolean,\n    toast: string | null,\n    toastIntent: \"none\" | \"error\" | \"success\" | \"panic\",\n    toastTimeoutId: number,\n    background: string | null,\n    readOnlyWarning: boolean,\n    updateWsWarning: boolean,\n    cloudSaves: boolean,\n    autoStart: boolean,\n    kiosk: boolean,\n    documentHidden: boolean,\n    noNetworking: boolean,\n    noCloud: boolean,\n} = {\n    hidden: false,\n    modal: \"none\",\n    frame: \"none\",\n    frameXs: false,\n    window: \"none\",\n    theme: (lStorage.getItem(\"theme\") ?? \"dark\") as Theme,\n    editor: false,\n    wideScreen: true,\n    fullScreen: false,\n    toast: null,\n    toastIntent: \"none\",\n    toastTimeoutId: 0,\n    background: null,\n    readOnlyWarning: false,\n    updateWsWarning: false,\n    cloudSaves: true,\n    autoStart: false,\n    kiosk: false,\n    documentHidden: document.hidden ?? false,\n    noNetworking: false,\n    noCloud: false,\n};\n\nexport type UiState = typeof initialState;\n\nexport const uiSlice = createSlice({\n    name: \"js-dos v8s\",\n    initialState,\n    reducers: {\n        theme: (state, a: { payload: Theme }) => {\n            lStorage.setItem(\"theme\", a.payload);\n            state.theme = a.payload;\n        },\n        modalLogin: (state) => {\n            state.modal = \"login\";\n        },\n        modalNone: (state) => {\n            state.modal = \"none\";\n        },\n        frameNone: (state) => {\n            state.frame = \"none\";\n            state.frameXs = false;\n        },\n        frameAccount: (state) => {\n            toggleFrameIfNeeded(state, \"account\");\n            state.frameXs = false;\n        },\n        frameSettings: (state) => {\n            state.frame = \"settings\";\n            state.frameXs = false;\n        },\n        frameNetwork: (state) => {\n            state.frame = \"network\";\n            state.frameXs = false;\n        },\n        frameStats: (state) => {\n            state.frame = \"stats\";\n            state.frameXs = false;\n        },\n        frameConf: (state) => {\n            state.frame = \"editor-conf\";\n            state.frameXs = false;\n        },\n        frameFs: (state) => {\n            state.frame = \"editor-fs\";\n            state.frameXs = false;\n        },\n        frameFatDrives: (state) => {\n            state.frame = \"fat-drives\";\n            state.frameXs = false;\n        },\n        frameQuickSave: (state) => {\n            state.frame = \"quick-save\";\n            state.frameXs = true;\n        },\n        frameImageRendering: (state) => {\n            state.frame = \"image-rendering\";\n            state.frameXs = false;\n        },\n        framePreRun: (state) => {\n            state.frame = \"prerun\";\n            state.frameXs = false;\n        },\n        windowSelect: (state) => {\n            state.window = \"select\";\n        },\n        background: (state, a: { payload: string }) => {\n            state.background = a.payload;\n        },\n        setEditor: (state, a: { payload: boolean }) => {\n            state.editor = a.payload;\n        },\n        setWideScreen: (state, a: { payload: boolean }) => {\n            state.wideScreen = a.payload;\n        },\n        setFullScreen: (state, a: { payload: boolean }) => {\n            state.fullScreen = a.payload;\n        },\n        showToast: (state, a: {\n            payload: {\n                message: string, intent?: typeof initialState.toastIntent,\n                long?: boolean\n            }\n        }) => {\n            if (state.toastTimeoutId !== 0) {\n                clearInterval(state.toastTimeoutId);\n            }\n            state.toast = a.payload.message;\n            state.toastIntent = a.payload.intent ?? \"none\";\n            if (a.payload.intent !== \"panic\") {\n                state.toastTimeoutId = setTimeout(() => {\n                    (a as unknown as DosAction).asyncStore((store) => store.dispatch(uiSlice.actions.hideToast()));\n                }, a.payload.long ? 5000 : 1500);\n            }\n        },\n        hideToast: (state) => {\n            state.toast = null;\n            state.toastTimeoutId = 0;\n        },\n        readOnlyWarning: (state, a: { payload: boolean }) => {\n            state.readOnlyWarning = a.payload;\n        },\n        updateWsWarning: (state, a: { payload: boolean }) => {\n            state.updateWsWarning = a.payload;\n        },\n        cloudSaves: (state, a: { payload: boolean }) => {\n            state.cloudSaves = a.payload;\n        },\n        autoStart: (state, a: { payload: boolean }) => {\n            state.autoStart = a.payload;\n        },\n        kiosk: (state, a: { payload: boolean }) => {\n            state.kiosk = a.payload;\n        },\n        documentHidden: (s, a: { payload: boolean }) => {\n            s.documentHidden = a.payload;\n        },\n        noNetworking: (state, a: { payload: boolean }) => {\n            state.noNetworking = a.payload;\n        },\n        noCloud: (state, a: { payload: boolean }) => {\n            state.noCloud = a.payload;\n        },\n        hidden: (state, a: { payload: boolean }) => {\n            state.hidden = a.payload;\n        },\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(createAction<string>(\"dos/bndLoad\"), (s, a) => {\n                s.window = \"loading\";\n            })\n            .addCase(createAction<string>(\"editor/extract\"), (s, a) => {\n                s.window = \"loading\";\n            })\n            .addCase(createAction<string>(\"editor/ready\"), (s, a) => {\n                s.window = \"prerun\";\n            })\n            .addCase(createAction<string>(\"dos/bndReady\"), (s, a) => {\n                if (s.autoStart) {\n                    (a as unknown as DosAction).asyncStore((store) => {\n                        store.dispatch(dosSlice.actions.bndPlay({}));\n                    });\n                } else {\n                    s.window = \"prerun\";\n                }\n            })\n            .addCase(createAction<string>(\"dos/bndPlay\"), (s, a) => {\n                s.window = \"run\";\n                s.frame = \"none\";\n            })\n            .addMatcher((action: { type: string }) => {\n                return action.type.startsWith(\"dos/\") &&\n                    action.type.endsWith(\"Error\");\n            }, (s, a) => {\n                s.window = \"error\";\n            });\n    },\n});\n\nfunction toggleFrameIfNeeded(\n    state: typeof initialState,\n    newFrame: typeof initialState.frame) {\n    if (state.frame === newFrame) {\n        state.frame = \"none\";\n    } else {\n        state.frame = newFrame;\n    }\n}\n\nexport function dispatchLoginAction(account: Account | null, dispatch: Dispatch) {\n    if (account === null) {\n        dispatch(uiSlice.actions.modalLogin());\n    } else {\n        dispatch(uiSlice.actions.frameAccount());\n    }\n}\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){var a,c,p={};for(c in t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return r.vnode&&r.vnode(l),l}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),_=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(_=\"px;\"),i=i+l+\":\"+a+_}}return e+'=\"'+i+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(t)+'\"'}function _(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=_(r[e]);return r}}return n(\"\"+r)}export{u as jsx,l as jsxAttr,u as jsxDEV,_ as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","export function CloseButton(props: {\n    onClose: () => void\n    class?: string,\n}) {\n    return <div class={ \"text-gray-400 hover:text-gray-600 btn \" +\n        props.class } onClick={props.onClose}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"w-full h-full\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n    </div>;\n}\n","export const endpoint = \"https://v8.js-dos.com\";\nexport const authentificator = endpoint + \"/auth/\";\nexport const uploadsS3Bucket = \"doszone-uploads\";\nexport const uploadsS3Url = \"https://storage.yandexcloud.net\";\nexport const uploadNamspace = \"dzapi\";\n\nexport const apiEndpoint = \"https://d5dn8hh4ivlobv6682ep.apigw.yandexcloud.net\";\nexport const presignPut = apiEndpoint + \"/presign-put\";\n\nexport const xsollaSubscriptons = \"https://subscriptions.xsolla.com/api/user/v1/projects/184012/subscriptions\";\nexport const xsollaPremiumId = \"sumOxNVr\";\n\nexport const brCdn = \"https://br.cdn.dos.zone\";\n\nexport const cancelSubscriptionPage = {\n    en: \"https://v8.js-dos.com/cancel-your-subscription/\",\n    ru: \"https://v8.js-dos.com/ru/cancel-your-subscription/\",\n};\n\nexport const actualWsVersion = 2;\n","import { Dispatch, useEffect, useRef } from \"preact/hooks\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { uiSlice } from \"../store/ui\";\nimport { CloseButton } from \"../components/close-button\";\nimport { authentificator } from \"../v8/config\";\nimport { Account, authSlice, getRefreshToken } from \"../store/auth\";\nimport { havePremium } from \"../v8/subscriptions\";\nimport { AnyAction } from \"@reduxjs/toolkit\";\n\nexport function Login() {\n    const iframeRef = useRef<HTMLIFrameElement>(null);\n    const activeAccount = useSelector((state: State) => state.auth.account);\n    const visible = useSelector((state: State) => state.ui.modal) === \"login\";\n    const loginUrl = useSelector((state: State) => state.auth.loginUrl);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (activeAccount != null) {\n            return;\n        }\n\n        const iframe = iframeRef.current;\n        if (iframe === null) {\n            dispatch(authSlice.actions.logout({}));\n            dispatch(authSlice.actions.ready());\n            console.error(\"Unable to inialize authentificator!\");\n            return;\n        }\n\n        async function onAuthMessage(e: any) {\n            if (e.data.action === \"auth/ready\") {\n                postAuthMessage(\"auth/authenicate\", iframe as HTMLIFrameElement, dispatch);\n            } else if (e.data.action === \"auth/authenicate\") {\n                const account = e.data.account as Account | null;\n                if (account !== null) {\n                    try {\n                        account.premium = await havePremium(account.token.access_token);\n                    } catch (e: any) {\n                        console.error(e);\n                        account.premium = false;\n                    }\n                    dispatch(authSlice.actions.login(e.data.account));\n                } else {\n                    dispatch(authSlice.actions.logout({}));\n                    dispatch(authSlice.actions.ready());\n                }\n            }\n        }\n\n        window.addEventListener(\"message\", onAuthMessage);\n        iframe.src = authentificator;\n\n        return () => {\n            window.removeEventListener(\"message\", onAuthMessage);\n        };\n    }, []);\n\n    useEffect(() => {\n        if (visible) {\n            const iframe = iframeRef.current;\n            if (iframe === null) {\n                return;\n            }\n\n            postAuthMessage(\"auth/login\", iframe, dispatch, loginUrl);\n        }\n    }, [visible, loginUrl]);\n\n    return <div\n        id={\"login\"}\n        class={\n            \"login-widget \" + (visible ? \"block\" : \"hidden\")\n        }>\n        <iframe id=\"authentificator\" ref={iframeRef} />\n        <CloseButton\n            class=\"absolute z-40 right-24 top-10\"\n            onClose={() => dispatch(uiSlice.actions.modalNone()) }\n        />\n    </div>;\n}\n\nfunction postAuthMessage(action: \"auth/login\" | \"auth/authenicate\",\n                         iframe: HTMLIFrameElement,\n                         dispatch: Dispatch<AnyAction>,\n                         loginUrl?: string) {\n    const message = {\n        action,\n        refresh_token: action === \"auth/authenicate\" ? getRefreshToken() : undefined,\n        url: action === \"auth/login\" ? loginUrl : undefined,\n    };\n    if (!iframe || !iframe.contentWindow) {\n        console.error(\"Can't find authentificator iframe\");\n        dispatch(authSlice.actions.logout({}));\n        dispatch(authSlice.actions.ready());\n    } else {\n        iframe.contentWindow.postMessage(message, \"*\");\n    }\n}\n","import { xsollaPremiumId, xsollaSubscriptons } from \"../v8/config\";\n\nexport async function linkToBuy(token: string): Promise<string | null> {\n    const response = await fetch(xsollaSubscriptons + \"/buy\", {\n        method: \"POST\",\n        cache: \"no-cache\",\n        headers: {\n            \"Authorization\": \"Bearer \" + token,\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n            plan_external_id: xsollaPremiumId,\n        }),\n    });\n\n    const json = await response.json();\n\n    if (json.link_to_ps === undefined) {\n        console.error(\"Unexpected subscriptions response:\", json);\n        return null;\n    }\n\n    return json.link_to_ps;\n}\n\nexport async function havePremium(token: string): Promise<boolean> {\n    const response = await fetch(xsollaSubscriptons, {\n        method: \"GET\",\n        cache: \"no-cache\",\n        headers: {\n            \"Authorization\": \"Bearer \" + token,\n        },\n    });\n\n    const json = await response.json();\n    if (json.items === undefined) {\n        console.error(\"Unexpected subscriptions response:\", json);\n        return false;\n    }\n\n    return json.items.length > 0 && json.items[0].plan_external_id === xsollaPremiumId;\n}\n\nexport async function cancle(token: string): Promise<boolean> {\n    // eslint-disable-next-line\n    // https://subscriptions.xsolla.com/api/doc/user#/Subscriptions/put_xsolla_subscription_apiuser_cancelusersubscription\n    const response = await fetch(xsollaSubscriptons + \"/\" + xsollaPremiumId + \"/cancel\", {\n        method: \"PUT\",\n        cache: \"no-cache\",\n        headers: {\n            \"Authorization\": \"Bearer \" + token,\n        },\n    });\n\n    const json = await response.json();\n    if (json.error) {\n        console.error(\"Unexpected subscriptions response:\", json);\n        return false;\n    }\n\n    return true;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useState } from \"preact/hooks\";\nimport { uiSlice } from \"../store/ui\";\nimport { authSlice } from \"../store/auth\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\nimport { linkToBuy, cancle as cancelSubscription } from \"../v8/subscriptions\";\nimport { cancelSubscriptionPage } from \"../v8/config\";\n\nexport function AccountFrame(props: {}) {\n    const t = useT();\n    const account = useSelector((state: State) => state.auth.account);\n    const dispatch = useDispatch();\n\n    if (account === null) {\n        return null;\n    }\n\n    function logout() {\n        dispatch(authSlice.actions.logout({}));\n        dispatch(uiSlice.actions.frameNone());\n    }\n\n    return <div class=\"account-frame frame-root items-center\">\n        {account.picture !== null &&\n            <img class=\"account-img\" src={account.picture} />}\n        <div class=\"font-bold flex flex-row\">\n            {account.picture === null &&\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"w-6 h-6 mr-2\">\n                    <path fill-rule=\"evenodd\" d=\"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25\n                        0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786\n                        0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z\" clip-rule=\"evenodd\" />\n                </svg>}\n            {account.name ?? account.email}\n        </div>\n        <button class=\"btn mt-8 w-full\" onClick={logout}>{t(\"logout\")}</button>\n\n        <div class=\"mt-8 mb-4 flex flex-row items-center\">\n            <div class=\"text-2xl\">{t(\"features\")}</div>\n            <div class=\"ml-2 cursor-pointer self-end text-primary\" onClick={openPremiumPage}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                    stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.879 7.519c1.171-1.025 3.071-1.025\n                                4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45\n                                1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z\" />\n                </svg>\n            </div>\n        </div>\n        <PremiumPlan />\n    </div>;\n}\n\nfunction PremiumPlan(props: {}) {\n    const t = useT();\n    const lang = useSelector((state: State) => state.i18n.lang);\n    const account = useSelector((state: State) => state.auth.account);\n    const [locked, setLocked] = useState<boolean>(false);\n    const dispatch = useDispatch();\n\n    if (account === null) {\n        return null;\n    }\n\n    const token = account.token.access_token;\n    function onBuy() {\n        if (locked) {\n            return;\n        }\n\n        if (location.host !== \"js-dos.com\") {\n            window.open(\"https://js-dos.com/subscription.html#subscribe\", \"_blank\");\n            return;\n        }\n\n        setLocked(true);\n        linkToBuy(token)\n            .then((link) => {\n                if (link !== null) {\n                    window.open(link, \"_blank\");\n                }\n            })\n            .catch(console.error)\n            .finally(() => setLocked(false));\n    }\n\n    async function cancle() {\n        const openPage = () => {\n            dispatch(uiSlice.actions.showToast({\n                message: t(\"unable_to_cancle_subscription\"),\n                intent: \"error\",\n            }));\n            window.open(cancelSubscriptionPage[lang] ?? cancelSubscriptionPage.en, \"_blank\");\n        };\n        if (!account) {\n            openPage();\n        } else {\n            try {\n                if (await cancelSubscription(account.token.access_token)) {\n                    dispatch(uiSlice.actions.showToast({\n                        message: t(\"subscription_cancelled\"),\n                        intent: \"success\",\n                    }));\n                } else {\n                    openPage();\n                }\n            } catch (e) {\n                openPage();\n            }\n        }\n    }\n\n    return <div class={\"premium-plan-root \" + (account.premium ? \"have-premium\" : \"\")}>\n        <div class=\"premium-plan-head flex\">\n            { account.premium && <PremiumCheck /> }\n            <div class=\"cursor-pointer underline\" onClick={openPremiumPage}>{t(\"premium\")}</div>\n            <div class=\"flex-grow\"></div>\n            {account.premium &&\n                <button\n                    onClick={cancle}\n                    class=\"ml-2 btn btn-ghost btn-xs text-success-content\">\n                    {t(\"cancle\")}\n                </button>}\n        </div>\n        {!account.premium &&\n            <>\n                <div class=\"flex flex-row my-6 items-top\">\n                    <div class=\"premium-plan-cost\">\n                        $3\n                    </div>\n                    <div class=\"premium-plan-cost-expl\">\n                        <div>USD / mo</div>\n                        <div><span class=\"text-blue-600\">5</span> {t(\"try_free\")}</div>\n                    </div>\n                </div>\n                <button class={\"btn btn-primary w-full \" + (locked ? \"hidden\" : \"\")} onClick={onBuy}>\n                    {t(\"buy\")}\n                </button>\n            </>\n        }\n        <div class=\"flex flex-col mt-4\">\n            <div class=\"premium-plan-highlight\">\n                <PremiumCheck />\n                <div>{t(\"cloud_saves\")}</div>\n            </div>\n            <div class=\"premium-plan-highlight\">\n                <PremiumCheck />\n                <div>{t(\"experimental_features\")}</div>\n            </div>\n            <div class=\"premium-plan-highlight\">\n                <PremiumCheck />\n                <div>{t(\"writeable_fat32\")}</div>\n                <div class=\"flex-grow\"></div>\n                <button\n                    onClick={() => dispatch(uiSlice.actions.frameFatDrives())}\n                    target=\"_blank\"\n                    class=\"ml-2 btn btn-xs text-success-content\">\n                    {t(\"manage\")}\n                </button>\n            </div>\n            <div class=\"premium-plan-highlight\">\n                <PremiumCheck />\n                <div>{t(\"net_no_limits\")}</div>\n            </div>\n            <div class=\"premium-plan-highlight\" style=\"border-bottom: 0px\">\n                <PremiumCheck />\n                <div>{t(\"unlock_options\")}</div>\n            </div>\n        </div>\n    </div>;\n}\n\nfunction PremiumCheck(props: {}) {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"\n        class=\"mr-4 w-6 h-6 text-blue-500 flex-shrink-0\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" />\n    </svg>;\n}\n\nfunction openPremiumPage() {\n    window.open(\"https://js-dos.com/cloud-overview.html\", \"_blank\");\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../../i18n\";\nimport { State } from \"../../store\";\nimport { editorSlice } from \"../../store/editor\";\nimport { dosboxconf } from \"./defaults\";\nimport { dosSlice } from \"../../store/dos\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { sockdriveBackend } from \"../../store/init\";\nimport { uiSlice } from \"../../store/ui\";\n\nconst imgmount = \"imgmount\\\\s+(\\\\d+)\\\\s+sockdrive\\\\s+([^\\\\s]+)\\\\s+([^\\\\s]+)\\\\s+([^\\\\s]+)\\\\s*$\";\nconst cleanup = \"imgmount\\\\s+(\\\\d+)\\\\s+sockdrive\\\\s+.*$\";\n\ninterface Sockdrive {\n    num: string,\n    backend: string,\n    owner: string,\n    drive: string,\n}\n\nexport function EditorConf() {\n    const t = useT();\n    const bundleConfig = useSelector((state: State) => state.editor.bundleConfig);\n    const account = useSelector((state: State) => state.auth.account);\n    const backend = useSelector((state: State) => state.dos.backend);\n    const { sockdriveEndpoint, sockdriveWssEndpoint } = useSelector((state: State) =>\n        sockdriveBackend[state.init.sockdriveBackendName] ??\n        sockdriveBackend[\"js-dos\"]);\n    const dispatch = useDispatch();\n    const [myDrives, setMyDrives] = useState<{ name: string, owner: string }[]>([]);\n\n    useEffect(() => {\n        if (!account || !account.token) {\n            setMyDrives([]);\n        } else {\n            fetch(sockdriveEndpoint + \"/list/drives/\" + account.token.access_token)\n                .then((r) => r.json())\n                .then(setMyDrives)\n                .catch(console.error);\n        }\n    }, [account?.token, sockdriveEndpoint]);\n\n    function parseSockDrives(conf: string) {\n        const drives: { [num: string]: Sockdrive } = {};\n        const re = new RegExp(imgmount, \"gm\");\n        let m: RegExpExecArray | null;\n        while (m = re.exec(conf)) {\n            /* eslint-disable-next-line no-unused-vars */\n            const [_, num, backend, owner, drive] = m;\n            drives[num] = {\n                num,\n                backend,\n                owner,\n                drive,\n            };\n        }\n        return drives;\n    }\n\n    const [sockdrives, setSockdrives] = useState<{ [num: string]: Sockdrive }>(\n        parseSockDrives(bundleConfig?.dosboxConf ?? \"\"));\n\n    function setSockdrivesAndUpdateConf(sockdrives: { [num: string]: Sockdrive }) {\n        setSockdrives(sockdrives);\n        if (bundleConfig) {\n            const parts: string[] = [];\n            for (const next of Object.values(sockdrives)) {\n                if (next.owner.length > 0 && next.drive.length > 0) {\n                    parts.push(`imgmount ${next.num} sockdrive ${next.backend} ${next.owner} ${next.drive}`);\n                }\n            }\n\n            let contents = bundleConfig.dosboxConf;\n            contents = contents.replaceAll(new RegExp(cleanup, \"gm\"), \"\");\n            if (parts.length > 0) {\n                let start = contents.indexOf(\"[autoexec]\");\n                if (start === -1) {\n                    start = contents.length;\n                } else {\n                    start += 10;\n                }\n                const footer = contents.substring(start);\n                contents = contents.substring(0, start);\n                contents += \"\\n\" + parts.join(\"\\n\") + \"\\n\" + footer.trim();\n            }\n            updateDosboxConf(contents);\n        }\n    }\n\n    function changeConfig(contents: string) {\n        setSockdrives(parseSockDrives(contents));\n        updateDosboxConf(contents);\n    }\n\n    function updateDosboxConf(newConf: string) {\n        dispatch(dosSlice.actions.mouseCapture(newConf.indexOf(\"autolock=true\") > 0));\n        dispatch(editorSlice.actions.dosboxConf(newConf));\n        dispatch(dosSlice.actions.dosBackendLocked(newConf.indexOf(\"sockdrive\") >= 0));\n        dispatch(dosSlice.actions.noCursor(newConf.indexOf(\"sockdrive\") >= 0));\n    }\n\n    if (bundleConfig === null) {\n        return null;\n    }\n\n    return <div class=\"editor-conf-frame flex flex-col flex-grow w-full gap-2\">\n        <div class=\"\">{t(\"dosboxconf_template\")}</div>\n        <div class=\"flex flex-row flex-wrap items-center gap-2\">\n            {dosboxconf\n                .map(({ name, backend, contents }) => {\n                    return <button class=\"btn btn-sm\"\n                        onClick={() => {\n                            dispatch(dosSlice.actions.dosBackend(backend === \"dosboxX\" ? \"dosboxX\" : \"dosbox\"));\n                            changeConfig(contents.replaceAll(\"{wss-makevm}\", sockdriveWssEndpoint));\n                        }}>\n                        {name}\n                    </button>;\n                })}\n        </div>\n        {backend === \"dosboxX\" && <>\n            <button class=\"btn btn-ghost btn-xs self-start\" target=\"_blank\"\n                onClick={() => dispatch(uiSlice.actions.frameFatDrives())}>\n                {t(\"net_drives\")}:\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                    stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m12.75 15 3-3m0 0-3-3m3\n                         3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\" />\n                </svg>\n            </button>\n            {[\"2\", \"3\"].map((num) => {\n                return <div class=\"flex flex-row justify-start items-center gap-3 w-full\">\n                    <p>{num === \"2\" ? \"C:\" : \"D:\"}</p>\n                    <div class=\"flex flex-col gap-2\">\n                        <div class=\"flex flex-row gap-1 items-center\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M17.982 18.725A7.488 7.488\n                                    0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963\n                                    0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3\n                                    3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\n                            </svg>\n                            <input class=\"input input-xs\" type=\"text\" value={sockdrives[num]?.owner ?? \"\"}\n                                onChange={(e) => {\n                                    const newSockdrives = { ...sockdrives };\n                                    newSockdrives[num] = {\n                                        num,\n                                        backend: sockdrives[num]?.backend ?? sockdriveWssEndpoint,\n                                        owner: e.currentTarget.value,\n                                        drive: sockdrives[num]?.drive ?? \"\",\n                                    };\n                                    setSockdrivesAndUpdateConf(newSockdrives);\n                                }}></input>\n                        </div>\n                        <div class=\"flex flex-row gap-1 items-center\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M20.25 6.375c0 2.278-3.694\n                                    4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75\n                                    4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25\n                                    4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5\n                                    0v3.75C20.25 16.153\n                                    16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25\n                                    4.125s-8.25-1.847-8.25-4.125\" />\n                            </svg>\n\n                            <input class=\"input input-xs\" type=\"text\" value={sockdrives[num]?.drive ?? \"\"}\n                                onChange={(e) => {\n                                    const newSockdrives = { ...sockdrives };\n                                    newSockdrives[num] = {\n                                        num,\n                                        backend: sockdrives[num]?.backend ?? sockdriveWssEndpoint,\n                                        owner: sockdrives[num]?.owner ?? \"\",\n                                        drive: e.currentTarget.value,\n                                    };\n                                    setSockdrivesAndUpdateConf(newSockdrives);\n                                }}></input>\n                        </div>\n                    </div>\n                    <div class=\"dropdown dropdown-bottom dropdown-end\">\n                        <button tabIndex={0} role=\"button\" class=\"btn btn-sm\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                                    d=\"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5\n                                        0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25\n                                        2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25\n                                        0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0\n                                        1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776\" />\n                            </svg>\n                        </button>\n                        <ul tabIndex={0} class=\"dropdown-content z-[1] menu p-2 shadow bg-base-100\n                            rounded-box w-52 max-h-80 overflow-auto\">\n                            {myDrives.map(({ name, owner }) => {\n                                return <li onClick={(e) => {\n                                    const newSockdrives = { ...sockdrives };\n                                    newSockdrives[num] = {\n                                        num,\n                                        owner,\n                                        backend: sockdriveWssEndpoint,\n                                        drive: name,\n                                    };\n                                    setSockdrivesAndUpdateConf(newSockdrives);\n                                    e.currentTarget.parentElement!.blur();\n                                }}><a>{name}</a></li>;\n                            })}\n                        </ul>\n                    </div>\n                    <button class=\"btn btn-sm\" onClick={() => {\n                        const newSockdrives = { ...sockdrives };\n                        delete newSockdrives[num];\n                        setSockdrivesAndUpdateConf(newSockdrives);\n                    }}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n                            stroke=\"currentColor\" class=\"w-4 h-4\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                                d=\"M12 9.75 14.25 12m0 0 2.25 2.25M14.25 12l2.25-2.25M14.25 12 12 14.25m-2.58\n                                4.92-6.374-6.375a1.125 1.125 0 0 1 0-1.59L9.42 4.83c.21-.211.497-.33.795-.33H19.5a2.25\n                                2.25 0 0 1 2.25 2.25v10.5a2.25 2.25 0 0 1-2.25 2.25h-9.284c-.298 0-.585-.119-.795-.33Z\"\n                            />\n                        </svg>\n                    </button>\n                </div>;\n            })}\n        </>}\n        <textarea class=\"flex-grow\" value={bundleConfig.dosboxConf}\n            onChange={(e) => changeConfig(e.currentTarget?.value ?? \"\")} />\n    </div>;\n}\n","/*! react-checkbox-tree - v1.8.0 | 2022 */\n/*! For license information please see index.browser.js.LICENSE.txt */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.ReactCheckboxTree=t(require(\"react\")):e.ReactCheckboxTree=t(e.React)}(self,(e=>(()=>{var t={4184:(e,t)=>{var r;!function(){\"use strict\";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if(\"string\"===i||\"number\"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if(\"object\"===i)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(\" \")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},8552:(e,t,r)=>{var n=r(852)(r(5639),\"DataView\");e.exports=n},1989:(e,t,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),c=r(1866);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},8407:(e,t,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7518),c=r(4705);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},7071:(e,t,r)=>{var n=r(852)(r(5639),\"Map\");e.exports=n},3369:(e,t,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),c=r(5265);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},3818:(e,t,r)=>{var n=r(852)(r(5639),\"Promise\");e.exports=n},8525:(e,t,r)=>{var n=r(852)(r(5639),\"Set\");e.exports=n},8668:(e,t,r)=>{var n=r(3369),o=r(619),i=r(2385);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},6384:(e,t,r)=>{var n=r(8407),o=r(7465),i=r(3779),a=r(7599),c=r(4758),s=r(4309);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=c,l.prototype.set=s,e.exports=l},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},1149:(e,t,r)=>{var n=r(5639).Uint8Array;e.exports=n},577:(e,t,r)=>{var n=r(852)(r(5639),\"WeakMap\");e.exports=n},4963:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},4636:(e,t,r)=>{var n=r(2545),o=r(5694),i=r(1469),a=r(4144),c=r(5776),s=r(6719),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),u=!r&&o(e),p=!r&&!u&&a(e),f=!r&&!u&&!p&&s(e),d=r||u||p||f,h=d?n(e.length,String):[],y=h.length;for(var b in e)!t&&!l.call(e,b)||d&&(\"length\"==b||p&&(\"offset\"==b||\"parent\"==b)||f&&(\"buffer\"==b||\"byteLength\"==b||\"byteOffset\"==b)||c(b,y))||h.push(b);return h}},2488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},2908:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},8470:(e,t,r)=>{var n=r(7813);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},8866:(e,t,r)=>{var n=r(2488),o=r(1469);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},4239:(e,t,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":a&&a in Object(e)?o(e):i(e)}},9454:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return o(e)&&\"[object Arguments]\"==n(e)}},939:(e,t,r)=>{var n=r(2492),o=r(7005);e.exports=function e(t,r,i,a,c){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,a,e,c))}},2492:(e,t,r)=>{var n=r(6384),o=r(7114),i=r(8351),a=r(6096),c=r(4160),s=r(1469),l=r(4144),u=r(6719),p=\"[object Arguments]\",f=\"[object Array]\",d=\"[object Object]\",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,y,b,v){var g=s(e),m=s(t),x=g?f:c(e),O=m?f:c(t),k=(x=x==p?d:x)==d,j=(O=O==p?d:O)==d,_=x==O;if(_&&l(e)){if(!l(t))return!1;g=!0,k=!1}if(_&&!k)return v||(v=new n),g||u(e)?o(e,t,r,y,b,v):i(e,t,x,r,y,b,v);if(!(1&r)){var w=k&&h.call(e,\"__wrapped__\"),C=j&&h.call(t,\"__wrapped__\");if(w||C){var P=w?e.value():e,E=C?t.value():t;return v||(v=new n),b(P,E,r,y,v)}}return!!_&&(v||(v=new n),a(e,t,r,y,b,v))}},8458:(e,t,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),c=/^\\[object .+?Constructor\\]$/,s=Function.prototype,l=Object.prototype,u=s.toString,p=l.hasOwnProperty,f=RegExp(\"^\"+u.call(p).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?f:c).test(a(e))}},8749:(e,t,r)=>{var n=r(4239),o=r(1780),i=r(7005),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},280:(e,t,r)=>{var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&\"constructor\"!=r&&t.push(r);return t}},2545:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,r)=>{var n=r(5639)[\"__core-js_shared__\"];e.exports=n},7114:(e,t,r)=>{var n=r(8668),o=r(2908),i=r(4757);e.exports=function(e,t,r,a,c,s){var l=1&r,u=e.length,p=t.length;if(u!=p&&!(l&&p>u))return!1;var f=s.get(e),d=s.get(t);if(f&&d)return f==t&&d==e;var h=-1,y=!0,b=2&r?new n:void 0;for(s.set(e,t),s.set(t,e);++h<u;){var v=e[h],g=t[h];if(a)var m=l?a(g,v,h,t,e,s):a(v,g,h,e,t,s);if(void 0!==m){if(m)continue;y=!1;break}if(b){if(!o(t,(function(e,t){if(!i(b,t)&&(v===e||c(v,e,r,a,s)))return b.push(t)}))){y=!1;break}}else if(v!==g&&!c(v,g,r,a,s)){y=!1;break}}return s.delete(e),s.delete(t),y}},8351:(e,t,r)=>{var n=r(2705),o=r(1149),i=r(7813),a=r(7114),c=r(8776),s=r(1814),l=n?n.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,r,n,l,p,f){switch(r){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!p(new o(e),new o(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return i(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case\"[object Map]\":var d=c;case\"[object Set]\":var h=1&n;if(d||(d=s),e.size!=t.size&&!h)return!1;var y=f.get(e);if(y)return y==t;n|=2,f.set(e,t);var b=a(d(e),d(t),n,l,p,f);return f.delete(e),b;case\"[object Symbol]\":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,r)=>{var n=r(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,c){var s=1&r,l=n(e),u=l.length;if(u!=n(t).length&&!s)return!1;for(var p=u;p--;){var f=l[p];if(!(s?f in t:o.call(t,f)))return!1}var d=c.get(e),h=c.get(t);if(d&&h)return d==t&&h==e;var y=!0;c.set(e,t),c.set(t,e);for(var b=s;++p<u;){var v=e[f=l[p]],g=t[f];if(i)var m=s?i(g,v,f,t,e,c):i(v,g,f,e,t,c);if(!(void 0===m?v===g||a(v,g,r,i,c):m)){y=!1;break}b||(b=\"constructor\"==f)}if(y&&!b){var x=e.constructor,O=t.constructor;x==O||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof x&&x instanceof x&&\"function\"==typeof O&&O instanceof O||(y=!1)}return c.delete(e),c.delete(t),y}},1957:(e,t,r)=>{var n=\"object\"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},8234:(e,t,r)=>{var n=r(8866),o=r(9551),i=r(3674);e.exports=function(e){return n(e,i,o)}},5050:(e,t,r)=>{var n=r(7019);e.exports=function(e,t){var r=e.__data__;return n(t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}},852:(e,t,r)=>{var n=r(8458),o=r(7801);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},9607:(e,t,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[c]=r:delete e[c]),o}},9551:(e,t,r)=>{var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=c},4160:(e,t,r)=>{var n=r(8552),o=r(7071),i=r(3818),a=r(8525),c=r(577),s=r(4239),l=r(346),u=\"[object Map]\",p=\"[object Promise]\",f=\"[object Set]\",d=\"[object WeakMap]\",h=\"[object DataView]\",y=l(n),b=l(o),v=l(i),g=l(a),m=l(c),x=s;(n&&x(new n(new ArrayBuffer(1)))!=h||o&&x(new o)!=u||i&&x(i.resolve())!=p||a&&x(new a)!=f||c&&x(new c)!=d)&&(x=function(e){var t=s(e),r=\"[object Object]\"==t?e.constructor:void 0,n=r?l(r):\"\";if(n)switch(n){case y:return h;case b:return u;case v:return p;case g:return f;case m:return d}return t}),e.exports=x},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,r)=>{var n=r(4536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return\"__lodash_hash_undefined__\"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},1327:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},1866:(e,t,r)=>{var n=r(4536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?\"__lodash_hash_undefined__\":t,this}},5776:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&(\"number\"==n||\"symbol\"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},7019:e=>{e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},5346:(e,t,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+n:\"\";e.exports=function(e){return!!i&&i in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===(\"function\"==typeof r&&r.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,r)=>{var n=r(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},2117:(e,t,r)=>{var n=r(8470);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},7518:(e,t,r)=>{var n=r(8470);e.exports=function(e){return n(this.__data__,e)>-1}},4705:(e,t,r)=>{var n=r(8470);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},4785:(e,t,r)=>{var n=r(1989),o=r(8407),i=r(7071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(e,t,r)=>{var n=r(5050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).get(e)}},9916:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).has(e)}},5265:(e,t,r)=>{var n=r(5050);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},4536:(e,t,r)=>{var n=r(852)(Object,\"create\");e.exports=n},6916:(e,t,r)=>{var n=r(5569)(Object.keys,Object);e.exports=n},1167:(e,t,r)=>{e=r.nmd(e);var n=r(1957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,c=function(){try{return i&&i.require&&i.require(\"util\").types||a&&a.binding&&a.binding(\"util\")}catch(e){}}();e.exports=c},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5639:(e,t,r)=>{var n=r(1957),o=\"object\"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function(\"return this\")();e.exports=i},619:e=>{e.exports=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},7465:(e,t,r)=>{var n=r(8407);e.exports=function(){this.__data__=new n,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,r)=>{var n=r(8407),o=r(7071),i=r(3369);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,\"callee\")&&!c.call(e,\"callee\")};e.exports=s},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,r)=>{var n=r(3560),o=r(1780);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},4144:(e,t,r)=>{e=r.nmd(e);var n=r(5639),o=r(5062),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,c=a&&a.exports===i?n.Buffer:void 0,s=(c?c.isBuffer:void 0)||o;e.exports=s},8446:(e,t,r)=>{var n=r(939);e.exports=function(e,t){return n(e,t)}},3560:(e,t,r)=>{var n=r(4239),o=r(3218);e.exports=function(e){if(!o(e))return!1;var t=n(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}},1780:e=>{e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},7005:e=>{e.exports=function(e){return null!=e&&\"object\"==typeof e}},6719:(e,t,r)=>{var n=r(8749),o=r(1717),i=r(1167),a=i&&i.isTypedArray,c=a?o(a):n;e.exports=c},3674:(e,t,r)=>{var n=r(4636),o=r(280),i=r(8612);e.exports=function(e){return i(e)?n(e):o(e)}},8306:(e,t,r)=>{var n=r(3369);function o(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},2703:(e,t,r)=>{\"use strict\";var n=r(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var c=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw c.name=\"Invariant Violation\",c}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},5697:(e,t,r)=>{e.exports=r(2703)()},414:e=>{\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},9787:t=>{\"use strict\";t.exports=e}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e](i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var o={};return(()=>{\"use strict\";n.r(o),n.d(o,{default:()=>xe,expandNodesToLevel:()=>me});var e=n(4184),t=n.n(e),r=n(8446),i=n.n(r),a=n(8306),c=n.n(a);let s=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?\"-\":\"_\")),\"\");var l=n(5697),u=n.n(l),p=n(9787),f=n.n(p);function d(e){return d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},d(e)}var h=[\"children\",\"title\"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function m(e,t){if(t&&(\"object\"===d(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&g(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(o){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function a(){return b(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"render\",value:function(){var e=this.props,t=e.children,r=e.title,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,h);return f().createElement(\"button\",y({\"aria-label\":r,title:r,type:\"button\"},n),t)}}])&&v(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(f().PureComponent);O(k,\"propTypes\",{children:u().node.isRequired,title:u().string}),O(k,\"defaultProps\",{title:null});const j=k,_={ALL:\"all\",PARENT:\"parent\",LEAF:\"leaf\"};function w(e){this.message=e,this.stack=Error().stack}w.prototype=Object.create(Error.prototype),w.prototype.name=\"CheckboxTreeError\";const C=w;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var S=_;const T=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N(this,e),this.props=t,this.flatNodes=r}var t,r;return t=e,r=[{key:\"setProps\",value:function(e){this.props=e}},{key:\"clone\",value:function(){var t=this,r={};return Object.keys(this.flatNodes).forEach((function(e){var n=t.flatNodes[e];r[e]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n)})),new e(this.props,r)}},{key:\"getNode\",value:function(e){return this.flatNodes[e]}},{key:\"reset\",value:function(){this.flatNodes={}}},{key:\"flattenNodes\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var o=this.props,i=o.disabled,a=o.noCascade;e.forEach((function(e,o){var c=t.nodeHasChildren(e);if(void 0!==t.flatNodes[e.value])throw new C(\"Duplicate value '\".concat(e.value,\"' detected. All node values must be unique.\"));t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:r,isChild:void 0!==r.value,isParent:c,isLeaf:!c,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,r,i,a),treeDepth:n,index:o},t.flattenNodes(e.children,e,n+1)}))}}},{key:\"nodeHasChildren\",value:function(e){return Array.isArray(e.children)}},{key:\"getDisabledState\",value:function(e,t,r,n){return!!r||!(n||!t.disabled)||Boolean(e.disabled)}},{key:\"deserializeLists\",value:function(e){var t=this,r=[\"checked\",\"expanded\"];Object.keys(this.flatNodes).forEach((function(e){r.forEach((function(r){t.flatNodes[e][r]=!1}))})),r.forEach((function(r){e[r].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][r]=!0)}))}))}},{key:\"serializeList\",value:function(e){var t=this,r=[];return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n][e]&&r.push(n)})),r}},{key:\"expandAllNodes\",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(r){t.flatNodes[r].isParent&&(t.flatNodes[r].expanded=e)})),this}},{key:\"toggleChecked\",value:function(e,t,r,n){var o=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.flatNodes[e.value],c=[S.PARENT,S.ALL].indexOf(r)>-1,s=[S.LEAF,S.ALL].indexOf(r)>-1;if(a.isLeaf||n){if(e.disabled)return this;this.toggleNode(e.value,\"checked\",t)}else(c||0===a.children.length)&&this.toggleNode(e.value,\"checked\",t),s&&a.children.forEach((function(e){o.toggleChecked(e,t,r,n,!1)}));return i&&!n&&a.isChild&&c&&this.toggleParentStatus(a.parent,r),this}},{key:\"toggleParentStatus\",value:function(e,t){var r=this.flatNodes[e.value];r.isChild?(t===S.ALL&&this.toggleNode(e.value,\"checked\",this.isEveryChildChecked(r)),this.toggleParentStatus(r.parent,t)):this.toggleNode(e.value,\"checked\",this.isEveryChildChecked(r))}},{key:\"isEveryChildChecked\",value:function(e){var t=this;return e.children.every((function(e){return t.getNode(e.value).checked}))}},{key:\"toggleNode\",value:function(e,t,r){return this.flatNodes[e][t]=r,this}}],r&&A(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function R(e){return R=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},R(e)}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function B(e,t){if(t&&(\"object\"===R(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&q(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(n);if(o){var r=F(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return B(this,e)});function a(){return I(this,a),i.apply(this,arguments)}return t=a,r=[{key:\"componentDidMount\",value:function(){this.updateDeterminateProperty()}},{key:\"componentDidUpdate\",value:function(){this.updateDeterminateProperty()}},{key:\"updateDeterminateProperty\",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:\"render\",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props);return delete t.indeterminate,f().createElement(\"input\",L({},t,{ref:function(t){e.checkbox=t},type:\"checkbox\"}))}}],r&&z(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(f().PureComponent);M(U,\"propTypes\",{indeterminate:u().bool}),M(U,\"defaultProps\",{indeterminate:!1});const K=U,H=u().shape({check:u().node,uncheck:u().node,halfCheck:u().node,expandClose:u().node,expandOpen:u().node,expandAll:u().node,collapseAll:u().node,parentClose:u().node,parentOpen:u().node,leaf:u().node}),$=u().shape({collapseAll:u().string.isRequired,expandAll:u().string.isRequired,toggle:u().string.isRequired});function V(e){return V=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},V(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function G(e,t){if(t&&(\"object\"===V(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&J(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(o);if(i){var r=Q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return G(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,c),(t=a.call(this,e)).onCheck=t.onCheck.bind(Y(t)),t.onCheckboxKeyPress=t.onCheckboxKeyPress.bind(Y(t)),t.onCheckboxKeyUp=t.onCheckboxKeyUp.bind(Y(t)),t.onClick=t.onClick.bind(Y(t)),t.onExpand=t.onExpand.bind(Y(t)),t}return r=c,(n=[{key:\"onCheck\",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:\"onCheckboxKeyPress\",value:function(e){32===e.which&&e.preventDefault()}},{key:\"onCheckboxKeyUp\",value:function(e){var t=e.keyCode;[13,32].includes(t)&&this.onCheck()}},{key:\"onClick\",value:function(){var e=this.props,t=e.expandOnClick,r=e.isParent,n=e.value,o=e.onClick;r&&t&&this.onExpand(),o({value:n,checked:this.getCheckState({toggle:!1})})}},{key:\"onExpand\",value:function(){var e=this.props,t=e.expanded,r=e.value;(0,e.onExpand)({value:r,expanded:!t})}},{key:\"getCheckState\",value:function(e){var t=e.toggle,r=this.props,n=r.checked,o=r.optimisticToggle;return!(0!==n||!t)||1===n&&!t||2===n&&o}},{key:\"renderCollapseButton\",value:function(){var e=this.props,t=e.expandDisabled,r=e.isLeaf,n=e.lang;return r?f().createElement(\"span\",{className:\"rct-collapse\"},f().createElement(\"span\",{className:\"rct-icon\"})):f().createElement(j,{className:\"rct-collapse rct-collapse-btn\",disabled:t,title:n.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:\"renderCollapseIcon\",value:function(){var e=this.props,t=e.expanded,r=e.icons,n=r.expandClose,o=r.expandOpen;return t?o:n}},{key:\"renderCheckboxIcon\",value:function(){var e=this.props,t=e.checked,r=e.icons,n=r.uncheck,o=r.check,i=r.halfCheck;return 0===t?n:1===t?o:i}},{key:\"renderNodeIcon\",value:function(){var e=this.props,t=e.expanded,r=e.icon,n=e.icons,o=n.leaf,i=n.parentClose,a=n.parentOpen,c=e.isLeaf;return null!==r?r:c?o:t?a:i}},{key:\"renderBareLabel\",value:function(e){var t=this.props,r=t.onClick,n=t.title,o=null!==r;return f().createElement(\"span\",{className:\"rct-bare-label\",title:n},o?f().createElement(\"span\",{className:\"rct-node-clickable\",onClick:this.onClick,onKeyPress:this.onClick,role:\"button\",tabIndex:0},e):e)}},{key:\"renderCheckboxLabel\",value:function(e){var t=this.props,r=t.checked,n=t.disabled,o=t.title,i=t.treeId,a=t.value,c=null!==t.onClick,s=\"\".concat(i,\"-\").concat(String(a).split(\" \").join(\"_\")),l=[f().createElement(\"label\",{key:0,htmlFor:s,title:o},f().createElement(K,{checked:1===r,disabled:n,id:s,indeterminate:2===r,onClick:this.onCheck,onChange:function(){}}),f().createElement(\"span\",{\"aria-checked\":1===r,\"aria-disabled\":n,className:\"rct-checkbox\",role:\"checkbox\",tabIndex:0,onKeyPress:this.onCheckboxKeyPress,onKeyUp:this.onCheckboxKeyUp},this.renderCheckboxIcon()),c?null:e)];return c&&l.push(f().createElement(\"span\",{key:1,className:\"rct-node-clickable\",onClick:this.onClick,onKeyPress:this.onClick,role:\"link\",tabIndex:0},e)),l}},{key:\"renderLabel\",value:function(){var e=this.props,t=e.label,r=e.showCheckbox,n=[e.showNodeIcon?f().createElement(\"span\",{key:0,className:\"rct-node-icon\"},this.renderNodeIcon()):null,f().createElement(\"span\",{key:1,className:\"rct-title\"},t)];return r?this.renderCheckboxLabel(n):this.renderBareLabel(n)}},{key:\"renderChildren\",value:function(){return this.props.expanded?this.props.children:null}},{key:\"render\",value:function(){var e=this.props,r=e.className,n=e.disabled,o=e.expanded,i=e.isLeaf,a=t()({\"rct-node\":!0,\"rct-node-leaf\":i,\"rct-node-parent\":!i,\"rct-node-expanded\":!i&&o,\"rct-node-collapsed\":!i&&!o,\"rct-disabled\":n},r);return f().createElement(\"li\",{className:a},f().createElement(\"span\",{className:\"rct-text\"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&W(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(f().PureComponent);X(Z,\"propTypes\",{checked:u().number.isRequired,disabled:u().bool.isRequired,expandDisabled:u().bool.isRequired,expanded:u().bool.isRequired,icons:H.isRequired,isLeaf:u().bool.isRequired,isParent:u().bool.isRequired,label:u().node.isRequired,lang:$.isRequired,optimisticToggle:u().bool.isRequired,showNodeIcon:u().bool.isRequired,treeId:u().string.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,onCheck:u().func.isRequired,onExpand:u().func.isRequired,children:u().node,className:u().string,expandOnClick:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string,onClick:u().func}),X(Z,\"defaultProps\",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});const ee=Z,te=u().oneOfType([u().arrayOf(u().string),u().arrayOf(u().number)]);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie={label:u().node.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,disabled:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string};const ae=u().oneOfType([u().shape(ie),u().shape(ne(ne({},ie),{},{children:u().arrayOf(ie).isRequired}))]);function ce(e){return ce=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ce(e)}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}function fe(e,t){if(t&&(\"object\"===ce(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return de(e)}function de(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&pe(e,t)}(p,e);var r,n,o,a,l,u=(a=p,l=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=he(a);if(l){var r=he(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return fe(this,e)});function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p),t=u.call(this,e);var r=new T(e);return r.flattenNodes(e.nodes),r.deserializeLists({checked:e.checked,expanded:e.expanded}),t.state={id:e.id||\"rct-\".concat(s()),model:r,prevProps:e},t.onCheck=t.onCheck.bind(de(t)),t.onExpand=t.onExpand.bind(de(t)),t.onNodeClick=t.onNodeClick.bind(de(t)),t.onExpandAll=t.onExpandAll.bind(de(t)),t.onCollapseAll=t.onCollapseAll.bind(de(t)),t.combineMemorized=c()((function(e,t){return le(le({},e),t)})).bind(de(t)),t}return r=p,n=[{key:\"onCheck\",value:function(e){var t=this.props,r=t.checkModel,n=t.noCascade,o=t.onCheck,i=this.state.model.clone(),a=i.getNode(e.value);i.toggleChecked(e,e.checked,r,n),o(i.serializeList(\"checked\"),le(le({},a),e))}},{key:\"onExpand\",value:function(e){var t=this.props.onExpand,r=this.state.model.clone(),n=r.getNode(e.value);r.toggleNode(e.value,\"expanded\",e.expanded),t(r.serializeList(\"expanded\"),le(le({},n),e))}},{key:\"onNodeClick\",value:function(e){(0,this.props.onClick)(le(le({},this.state.model.getNode(e.value)),e))}},{key:\"onExpandAll\",value:function(){this.expandAllNodes()}},{key:\"onCollapseAll\",value:function(){this.expandAllNodes(!1)}},{key:\"expandAllNodes\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onExpand;t(this.state.model.clone().expandAllNodes(e).serializeList(\"expanded\"))}},{key:\"determineShallowCheckState\",value:function(e,t){var r=this.state.model.getNode(e.value);return r.isLeaf||t||0===e.children.length?r.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:\"isEveryChildChecked\",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:\"isSomeChildChecked\",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:\"renderTreeNodes\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,o=n.expandDisabled,i=n.expandOnClick,a=n.icons,c=n.lang,s=n.noCascade,l=n.onClick,u=n.onlyLeafCheckboxes,d=n.optimisticToggle,h=n.showNodeTitle,y=n.showNodeIcon,b=this.state,v=b.id,g=b.model,m=p.defaultProps.icons,x=e.map((function(e){var n=e.value,p=g.getNode(e.value),b=p.isParent?t.renderTreeNodes(e.children,e):null;p.checkState=t.determineShallowCheckState(e,s);var x=u?p.isLeaf:p.showCheckbox;return!r.value||g.getNode(r.value).expanded?f().createElement(ee,{key:n,checked:p.checkState,className:e.className,disabled:p.disabled,expandDisabled:o,expandOnClick:i,expanded:p.expanded,icon:e.icon,icons:t.combineMemorized(m,a),label:e.label,lang:c,optimisticToggle:d,isLeaf:p.isLeaf,isParent:p.isParent,showCheckbox:x,showNodeIcon:y,title:h?e.title||e.label:e.title,treeId:v,value:e.value,onCheck:t.onCheck,onClick:l&&t.onNodeClick,onExpand:t.onExpand},b):null}));return f().createElement(\"ol\",null,x)}},{key:\"renderExpandAll\",value:function(){var e=this.props,t=e.icons,r=t.expandAll,n=t.collapseAll,o=e.lang;return e.showExpandAll?f().createElement(\"div\",{className:\"rct-options\"},f().createElement(j,{className:\"rct-option rct-option-expand-all\",title:o.expandAll,onClick:this.onExpandAll},r),f().createElement(j,{className:\"rct-option rct-option-collapse-all\",title:o.collapseAll,onClick:this.onCollapseAll},n)):null}},{key:\"renderHiddenInput\",value:function(){var e=this.props,t=e.name,r=e.nameAsArray;return void 0===t?null:r?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:\"renderArrayHiddenInput\",value:function(){var e=this.props,t=e.checked,r=e.name;return t.map((function(e){var t=\"\".concat(r,\"[]\");return f().createElement(\"input\",{key:e,name:t,type:\"hidden\",value:e})}))}},{key:\"renderJoinedHiddenInput\",value:function(){var e=this.props,t=e.checked,r=e.name,n=t.join(\",\");return f().createElement(\"input\",{name:r,type:\"hidden\",value:n})}},{key:\"render\",value:function(){var e,r=this.props,n=r.direction,o=r.disabled,i=r.iconsClass,a=r.nodes,c=r.nativeCheckboxes,s=this.state.id,l=this.renderTreeNodes(a),u=t()((ye(e={\"react-checkbox-tree\":!0,\"rct-disabled\":o},\"rct-icons-\".concat(i),!0),ye(e,\"rct-native-display\",c),ye(e,\"rct-direction-rtl\",\"rtl\"===n),e));return f().createElement(\"div\",{className:u,id:s},this.renderExpandAll(),this.renderHiddenInput(),l)}}],o=[{key:\"getDerivedStateFromProps\",value:function(e,t){var r=t.model,n=t.prevProps,o=e.disabled,a=e.id,c=e.nodes,s=le(le({},t),{},{prevProps:e});return r.setProps(e),i()(n.nodes,c)&&n.disabled===o||(r.reset(),r.flattenNodes(c)),null!==a&&(s=le(le({},s),{},{id:a})),r.deserializeLists({checked:e.checked,expanded:e.expanded}),s}}],n&&ue(r.prototype,n),o&&ue(r,o),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(f().Component);function ve(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r>t)return[];var n=[];return e.forEach((function(e){e.children&&(n=[].concat(ve(n),[e.value],ve(me(e.children,t,r+1))))})),n}ye(be,\"propTypes\",{nodes:u().arrayOf(ae).isRequired,checkModel:u().oneOf([_.LEAF,_.ALL]),checked:te,direction:u().string,disabled:u().bool,expandDisabled:u().bool,expandOnClick:u().bool,expanded:te,icons:H,iconsClass:u().string,id:u().string,lang:$,name:u().string,nameAsArray:u().bool,nativeCheckboxes:u().bool,noCascade:u().bool,onlyLeafCheckboxes:u().bool,optimisticToggle:u().bool,showExpandAll:u().bool,showNodeIcon:u().bool,showNodeTitle:u().bool,onCheck:u().func,onClick:u().func,onExpand:u().func}),ye(be,\"defaultProps\",{checkModel:_.LEAF,checked:[],direction:\"ltr\",disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:f().createElement(\"span\",{className:\"rct-icon rct-icon-check\"}),uncheck:f().createElement(\"span\",{className:\"rct-icon rct-icon-uncheck\"}),halfCheck:f().createElement(\"span\",{className:\"rct-icon rct-icon-half-check\"}),expandClose:f().createElement(\"span\",{className:\"rct-icon rct-icon-expand-close\"}),expandOpen:f().createElement(\"span\",{className:\"rct-icon rct-icon-expand-open\"}),expandAll:f().createElement(\"span\",{className:\"rct-icon rct-icon-expand-all\"}),collapseAll:f().createElement(\"span\",{className:\"rct-icon rct-icon-collapse-all\"}),parentClose:f().createElement(\"span\",{className:\"rct-icon rct-icon-parent-close\"}),parentOpen:f().createElement(\"span\",{className:\"rct-icon rct-icon-parent-open\"}),leaf:f().createElement(\"span\",{className:\"rct-icon rct-icon-leaf\"})},iconsClass:\"fa4\",id:null,lang:{collapseAll:\"Collapse all\",expandAll:\"Expand all\",toggle:\"Toggle\"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});const xe=be})(),o})()));","import { uploadsS3Url, uploadsS3Bucket, uploadNamspace, presignPut } from \"./config\";\n\nfunction getPersonalBundleKey(id: string,\n                              bundleUrl: string): string {\n    const index = bundleUrl.lastIndexOf(\"/\");\n    const basename = bundleUrl.substring(index + 1);\n    return \"personal-v2/\" + uploadNamspace + \"/\" + id + \"/\" + basename;\n}\n\nexport function getChangesUrlPrefix(id: string): string {\n    return uploadsS3Url + \"/\" + uploadsS3Bucket + \"/\" + \"personal-v2\" + \"/\" + uploadNamspace + \"/\" + id + \"/\";\n}\n\nexport function getChangesUrl(id: string, bundleUrl: string): string {\n    const personalBundleKey = getPersonalBundleKey(id, bundleUrl);\n    return uploadsS3Url + \"/\" + uploadsS3Bucket + \"/\" + personalBundleKey;\n}\n\nexport async function putChanges(bundleUrl: string,\n                                 data: Uint8Array): Promise<void> {\n    let response = await fetch(presignPut + \"?bundleUrl=\" + encodeURIComponent(bundleUrl));\n    const result = await response.json();\n\n    if (!result.success) {\n        throw new Error(\"Unable to put personal bundle\");\n    }\n\n    const post = result.post as {\n        url: string,\n        fields: {\n            Policy: string,\n            \"X-Amz-Algorithm\": string,\n            \"X-Amz-Credential\": string,\n            \"X-Amz-Date\": string,\n            \"X-Amz-Signature\": string,\n            bucket: string,\n            key: string,\n        },\n    };\n\n    const formData = new FormData();\n    Object.entries(post.fields).forEach(([k, v]) => {\n        formData.append(k, v);\n    });\n    formData.append(\"acl\", \"public-read\");\n    formData.append(\"file\", new Blob([data]));\n\n    response = await fetch(post.url, {\n        method: \"post\",\n        body: formData,\n    });\n\n    if (response.status !== 200 && response.status !== 204) {\n        throw new Error(\"Unable to put changes: \" + response.statusText);\n    }\n}\n","import { Dispatch, Store, Unsubscribe } from \"@reduxjs/toolkit\";\nimport { DosConfig, Emulators } from \"emulators\";\nimport { dosSlice } from \"./store/dos\";\nimport { bundleFromChanges, bundleFromFile, bundleFromUrl } from \"./host/bundle-storage\";\nimport { uiSlice } from \"./store/ui\";\nimport { editorSlice } from \"./store/editor\";\nimport { getChangesUrl } from \"./v8/changes\";\nimport { storageSlice } from \"./store/storage\";\nimport { getNonSerializableStore } from \"./store\";\n\ndeclare const emulators: Emulators;\n\nexport async function loadEmptyBundle(store: Store) {\n    await doLoadBundle(\"empty.jsdos\",\n        (async () => {\n            const bundle = await emulators.bundle();\n            return bundle.toUint8Array();\n        })(), null, null, store);\n\n    store.dispatch(uiSlice.actions.frameConf());\n    store.dispatch(uiSlice.actions.setEditor(true));\n}\n\nexport async function loadBundle(bundle: Uint8Array, openConfig: boolean, store: Store) {\n    await doLoadBundle(\"bundle.jsdos\", Promise.resolve(bundle),\n        null, null, store);\n    if (openConfig) {\n        store.dispatch(uiSlice.actions.frameConf());\n    }\n}\n\nexport function loadBundleFromFile(file: File, store: Store) {\n    return doLoadBundle(file.name,\n        bundleFromFile(file, store),\n        null, null, store);\n}\n\nexport async function loadBundleFromConfg(config: DosConfig, store: Store) {\n    const nonSerializableStore = getNonSerializableStore(store);\n    const dispatch = store.dispatch;\n    nonSerializableStore.loadedBundle = null;\n\n    dispatch(editorSlice.actions.init(config));\n    syncWithConfig(config, dispatch);\n\n    nonSerializableStore.loadedBundle = {\n        bundleUrl: null,\n        bundleChangesUrl: null,\n        bundle: config,\n        bundleChanges: null,\n    };\n    dispatch(dosSlice.actions.bndReady({}));\n}\n\nexport async function loadBundleFromUrl(url: string, store: Store) {\n    const owner = store.getState().auth.account?.email ?? \"guest\";\n    const changesUrl = await getChangesUrl(owner, url);\n    return doLoadBundle(url,\n        bundleFromUrl(url, store),\n        changesProducer(changesUrl, store),\n        url,\n        store);\n}\n\nasync function doLoadBundle(bundleName: string,\n                            bundlePromise: Promise<Uint8Array>,\n                            bundleChangesPromise: (ReturnType<typeof changesProducer>) | null,\n                            bundleUrl: string | null,\n                            store: Store) {\n    const nonSerializableStore = getNonSerializableStore(store);\n    const dispatch = store.dispatch;\n    nonSerializableStore.loadedBundle = null;\n\n\n    dispatch(dosSlice.actions.bndLoad(bundleName));\n\n    const bundle = await bundlePromise;\n    dispatch(storageSlice.actions.ready());\n    const bundleChanges = await bundleChangesPromise;\n    dispatch(dosSlice.actions.bndConfig());\n\n    const config = await emulators.bundleConfig(bundle);\n    dispatch(editorSlice.actions.init(config));\n    if (config === null) {\n        dispatch(uiSlice.actions.frameConf());\n    } else {\n        syncWithConfig(config, dispatch);\n    }\n\n    nonSerializableStore.loadedBundle = {\n        bundleUrl,\n        bundleChangesUrl: bundleChanges?.url ?? null,\n        bundle,\n        bundleChanges: bundleChanges?.bundle ?? null,\n    };\n    dispatch(dosSlice.actions.bndReady({}));\n}\n\nasync function changesProducer(bundleUrl: string, store: Store): Promise<{\n    url: string,\n    bundle: Uint8Array | null,\n}> {\n    if (!store.getState().auth.ready) {\n        await new Promise<void>((resolve) => {\n            let unsubscirbe: Unsubscribe | null = null;\n            const updateFn = () => {\n                if (store.getState().auth.ready) {\n                    unsubscirbe!();\n                    resolve();\n                }\n            };\n            unsubscirbe = store.subscribe(updateFn);\n        });\n    }\n\n    const account = store.getState().auth.account;\n    const owner = account?.email ?? \"guest\";\n    const url = getChangesUrl(owner, bundleUrl);\n    const bundle = await bundleFromChanges(url, account, store);\n    return {\n        url,\n        bundle,\n    };\n}\n\nfunction syncWithConfig(config: DosConfig, dispatch: Dispatch) {\n    if (config.dosboxConf.indexOf(\"sockdrive\") >= 0) {\n        dispatch(dosSlice.actions.dosBackendLocked(true));\n        dispatch(dosSlice.actions.dosBackend(\"dosboxX\"));\n        dispatch(dosSlice.actions.noCursor(true));\n    }\n    dispatch(dosSlice.actions.mouseCapture(config.dosboxConf.indexOf(\"autolock=true\") >= 0));\n}\n","import { storageSlice } from \"../store/storage\";\nimport { Account } from \"../store/auth\";\nimport { brCdn } from \"../v8/config\";\nimport { Store, getNonSerializableStore } from \"../store\";\n\nexport function bundleFromFile(file: File, store: Store): Promise<Uint8Array> {\n    return new Promise<Uint8Array>((resolve) => {\n        store.dispatch(storageSlice.actions.reset());\n        const reader = new FileReader();\n        reader.addEventListener(\"load\", async (e) => {\n            resolve(new Uint8Array(reader.result as ArrayBuffer));\n        });\n        reader.addEventListener(\"progress\", (e) => {\n            store.dispatch(storageSlice.actions.progress([e.loaded, e.total]));\n        });\n        reader.readAsArrayBuffer(file);\n    });\n}\n\n\nexport async function bundleFromChanges(url: string, account: Account | null,\n                                        store: Store): Promise<Uint8Array | null> {\n    if (account === null || !account.premium) {\n        return await getNonSerializableStore(store).cache.get(url).catch(() => null);\n    }\n\n    try {\n        const response = await fetch(url, {\n            cache: \"no-cache\",\n        });\n\n        if (response.status !== 200) {\n            throw new Error(\"Resource not avalible (\" + response.status + \"): \" + response.statusText);\n        }\n\n        return response.arrayBuffer().then((b) => new Uint8Array(b));\n    } catch (e: any) {\n        return await getNonSerializableStore(store).cache.get(url).catch(() => null);\n    }\n}\n\nexport async function bundleFromUrl(url: string, store: Store): Promise<Uint8Array> {\n    try {\n        return await getNonSerializableStore(store).cache.get(url);\n    } catch (e: any) {\n        // ignore\n    }\n\n    store.dispatch(storageSlice.actions.reset());\n    const response = await fetch(url, {\n        cache: \"no-store\",\n    });\n\n    if (response.status !== 200) {\n        throw new Error(\"Resource not avalible (\" + response.status + \"): \" + response.statusText);\n    }\n\n    const lenHeader = response.headers.get(\"Content-Length\");\n    const length = lenHeader === null ? 0 :\n        Number.parseInt(lenHeader);\n    const reader = response.body!.getReader();\n\n    let received = 0;\n    const chunks: Uint8Array[] = [];\n    while (true) {\n        const { done, value } = await reader.read();\n\n        if (done) {\n            break;\n        }\n\n        chunks.push(value);\n        received += value.length;\n\n        const bytes = Math.min(url.startsWith(brCdn) ? received / 2 : received, length);\n        store.dispatch(storageSlice.actions.progress([bytes, length]));\n    }\n\n    let offset = 0;\n    const complete = new Uint8Array(received);\n    for (const next of chunks) {\n        complete.set(next, offset);\n        offset += next.length;\n    }\n\n    getNonSerializableStore(store).cache\n        .put(url, complete)\n        .catch(console.error);\n\n    return complete;\n};\n","export function downloadUrlToFs(fileName: string, url: string, targetBlank = true) {\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.target = targetBlank ? \"_blank\" : \"_self\";\n    a.download = fileName;\n    a.style.display = \"none\";\n    document.body.appendChild(a);\n\n    a.click();\n    a.remove();\n}\n\nexport function downloadArrayToFs(fileName: string, data: Uint8Array) {\n    const blob = new Blob([data], {\n        type: \"application/zip\",\n    });\n    downloadUrlToFs(fileName, URL.createObjectURL(blob));\n}\n","import { FsNode } from \"emulators/dist/types/protocol/protocol\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport CheckboxTree, { Node, OnCheckNode, OnExpandNode } from \"react-checkbox-tree\";\nimport { useSelector, useStore } from \"react-redux\";\nimport { useT } from \"../../i18n\";\nimport { loadBundle } from \"../../load\";\nimport { State, useNonSerializableStore } from \"../../store\";\nimport { downloadArrayToFs } from \"../../download-file\";\n\ninterface NodeExt extends Node {\n    fsNode: FsNode,\n}\n\nexport function EditorFsFrame() {\n    const t = useT();\n    const haveCi = useSelector((state: State) => state.dos.ci);\n    const nonSerializableStore = useNonSerializableStore();\n    const [fsSize, setFsSize] = useState<number>(0);\n    const [fsTree, _setFsTree] = useState<NodeExt[] | null>(null);\n    const [expanded, setExpanded] = useState<string[]>([]);\n    const [checked, setChecked] = useState<string[]>([]);\n    const [uploadingFile, setUploadingFile] = useState<string | null>(null);\n    const [makingBundle, setMakingBundle] = useState<boolean>(false);\n\n    function setFsTree(fsTree: NodeExt[] | null) {\n        _setFsTree(fsTree);\n        setFsSize(Math.round(calcFsSize(fsTree) / 1024 / 1024 * 100) / 100);\n    }\n\n    useEffect(() => {\n        if (nonSerializableStore.ci === null || !haveCi) {\n            return;\n        }\n\n        let cancled = false;\n        nonSerializableStore.ci.fsTree()\n            .then((tree) => {\n                if (!cancled) {\n                    setFsTree(toNodes(tree));\n                }\n            })\n            .catch((e) => {\n                console.error(e);\n                if (!cancled) {\n                    setFsTree(null);\n                }\n            });\n\n        return () => {\n            cancled = true;\n        };\n    }, [haveCi]);\n\n\n    function onExpand(expanded: Array<string>, node: OnExpandNode) {\n        setExpanded(expanded);\n    }\n\n    function onCheck(checked: Array<string>, node: OnCheckNode) {\n        setChecked(checked);\n    }\n\n    async function onRefresh() {\n        setFsTree(null);\n        if (nonSerializableStore.ci === null || !haveCi) {\n            return;\n        }\n        const tree = await nonSerializableStore.ci.fsTree();\n        setFsTree(toNodes(tree));\n    }\n\n    // const check = <input type=\"checkbox\" class=\"checkbox\" />;\n    return <div class=\"editor-fs-frame frame-root items-start px-4\">\n        {(makingBundle || uploadingFile !== null) &&\n        <div class=\"card card-bordered bg-base-100 shadow-xl w-full\">\n            <div class=\"card-body\">\n                <div class=\"card-title\">\n                    {t(makingBundle ? \"please_wait\" : \"uploading_file\")}\n                </div>\n                <span class=\"break-words\">\n                    {makingBundle ? t(\"making_bundle\") : uploadingFile}\n                </span>\n            </div>\n        </div>}\n        {!makingBundle && uploadingFile === null && fsTree &&\n        <div className=\"fs-tree-view\">\n            <Actions\n                onRefresh={onRefresh}\n                onUploadingFile={setUploadingFile}\n                onMakingBundle={setMakingBundle} />\n            <div class=\"bg-base-200 px-2 py-1 text-right\">\n                {t(\"size\")}: {fsSize} Mb\n            </div>\n            <div class=\"fs-tree\">\n                <CheckboxTree\n                    icons={{\n                        expandOpen: <FolderOpened /> as any,\n                        expandClose: <FolderClosed /> as any,\n                        // expandAll: <div class=\"bg-red-100 w-4 h-4\"></div> as any,\n                        // parentOpen: <div class=\"bg-blue-100 w-4 h-4\"></div> as any,\n                        // parentClose: <div class=\"bg-purple-100 w-4 h-4\"></div> as any,\n                    }}\n                    iconsClass=\"icon\"\n                    nativeCheckboxes={false}\n                    onlyLeafCheckboxes={true}\n                    nodes={fsTree}\n                    checked={checked}\n                    onCheck={onCheck}\n                    expanded={expanded}\n                    onExpand={onExpand} />\n            </div>\n        </div>}\n    </div>;\n}\n\nfunction toNodes(fsTree: FsNode): NodeExt[] {\n    const fs: NodeExt[] = [];\n    for (const next of (fsTree.nodes?.sort(nodeSorter) || [])) {\n        fs.push(toNode(next, \".\"));\n    }\n    return fs;\n}\n\nfunction toNode(fsNode: FsNode, path: string): NodeExt {\n    const fullPath = path + \"/\" + fsNode.name;\n    const nodeExt: NodeExt = {\n        label: fsNode.name,\n        value: fullPath,\n        fsNode,\n    };\n\n    if (fsNode.nodes !== null) {\n        const children = fsNode.nodes.sort(nodeSorter)\n            .map((next) => toNode(next, fullPath));\n        nodeExt.children = children;\n    }\n\n    return nodeExt;\n}\n\nfunction Actions(props: {\n    onRefresh: () => void,\n    onUploadingFile: (file: string | null) => void,\n    onMakingBundle: (making: boolean) => void,\n}) {\n    const t = useT();\n    const uploadDirRef = useRef<HTMLInputElement>(null);\n    const uploadFileRef = useRef<HTMLInputElement>(null);\n    const store = useStore();\n    const nonSerializableStore = useNonSerializableStore();\n    const { onRefresh, onUploadingFile, onMakingBundle } = props;\n\n    useEffect(() => {\n        if (uploadDirRef.current !== null) {\n            uploadDirRef.current.setAttribute(\"directory\", \"\");\n            uploadDirRef.current.setAttribute(\"webkitdirectory\", \"\");\n        }\n    }, [uploadDirRef]);\n\n    function onUploadClick(file: boolean) {\n        const input = (file ? uploadFileRef : uploadDirRef).current;\n        if (input === null) {\n            return;\n        }\n\n        input.click();\n    }\n\n    async function onUpload(event: any) {\n        const ci = nonSerializableStore.ci;\n        const files: FileList = event.target.files;\n        if (ci === null || files === null) {\n            return;\n        }\n\n        try {\n            for (const file of files) {\n                onUploadingFile(file.name);\n                const parts = (file.webkitRelativePath ?? \"\").split(\"/\");\n                parts.shift();\n                const relPath = parts.join(\"/\");\n                await ci.fsWriteFile(relPath.length == 0 ? file.name : relPath, file.stream());\n            }\n        } finally {\n            onUploadingFile(null);\n        }\n\n        await onRefresh();\n    }\n\n    async function onRestart() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null || !window.confirm(t(\"fs_restart\"))) {\n            return;\n        }\n\n        onMakingBundle(true);\n        try {\n            const bundle = await ci.persist(false);\n            if (bundle) {\n                loadBundle(bundle, true, store);\n            }\n        } finally {\n            onMakingBundle(false);\n        }\n    }\n\n    async function onDownload() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null) {\n            return;\n        }\n\n        onMakingBundle(true);\n        try {\n            const bundle = await ci.persist(false);\n            if (bundle) {\n                downloadArrayToFs(\"bundle.jsdos\", bundle);\n            }\n        } finally {\n            onMakingBundle(false);\n        }\n    }\n\n    return <div class=\"h-6 flex flex-row\">\n        <input class=\"hidden\" type=\"file\" multiple ref={uploadDirRef} onChange={onUpload} />\n        <input class=\"hidden\" type=\"file\" multiple ref={uploadFileRef} onChange={onUpload} />\n        <button class=\"refresh btn-xs rounded-none\" onClick={onRefresh}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181\n                    3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181\n                    3.182m0-4.991v4.99\" />\n            </svg>\n        </button>\n        <button class=\"add-file btn-xs rounded-none\" onClick={() => onUploadClick(true)}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19.5 14.25v-2.625a3.375\n                    3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0\n                    00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125\n                    1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9\n                     9 0 00-9-9z\" />\n            </svg>\n        </button>\n        <button class=\"add-dir btn-xs rounded-none\" onClick={() => onUploadClick(false)}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M12 10.5v6m3-3H9m4.06-7.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25\n                    2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75\n                    18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z\" />\n            </svg>\n        </button>\n        <div class=\"flex-grow\"></div>\n        <button class=\"download btn-xs rounded-none\" onClick={onDownload}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 13.5l3 3m0 0l3-3m-3\n                    3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25\n                    0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5\n                    0 01-1.06-.44z\" />\n            </svg>\n        </button>\n        <button class=\"restart btn-xs rounded-none\" onClick={onRestart}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 7.5V18M15 7.5V18M3\n                    16.811V8.69c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 010 1.954l-7.108\n                    4.061A1.125 1.125 0 013 16.811z\" />\n            </svg>\n        </button>\n    </div>;\n}\n\nfunction nodeSorter(a: FsNode, b: FsNode) {\n    if (a.nodes !== null && b.nodes !== null) {\n        return b.name.localeCompare(a.name);\n    }\n\n    return a.nodes === null ? 1 : -1;\n}\n\nfunction FolderOpened() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n        viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4 mr-2\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19.5 8.25l-7.5 7.5-7.5-7.5\" />\n    </svg>;\n}\n\nfunction FolderClosed() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n        stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4 mr-2\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8.25 4.5l7.5 7.5-7.5 7.5\" />\n    </svg>;\n}\n\nfunction calcFsSize(fsTree: NodeExt[] | null) {\n    if (!fsTree) {\n        return 0;\n    }\n\n    let size = 0;\n    for (const next of fsTree) {\n        if (next.fsNode.size !== null) {\n            size += next.fsNode.size!;\n        } else {\n            size += calcFsSize(next.children as NodeExt[]);\n        }\n    }\n\n    return size;\n}\n","import { useT } from \"../i18n\";\n\nexport function Select(props: {\n    class?: string,\n    selectClass?: string,\n    label: string,\n    selected: string,\n    values: string[],\n    onSelect?: (value: string) => void,\n    disabled?: boolean,\n    multiline?: boolean,\n}) {\n    const t = useT();\n    const multiline = props.multiline === true;\n    function onSelect(e: any) {\n        if (props.onSelect !== undefined) {\n            props.onSelect(e.currentTarget.value);\n        }\n    }\n    return <div class={props.class + \" option flex \" +\n        (multiline ? \"flex-col\" : \"flex-row items-center\")}>\n        <div class={ multiline ? \"mb-2\" : \"mr-4\" }>{props.label}</div>\n        <div class=\"flex-grow\">\n            <select class={ props.selectClass ? props.selectClass :\n                (multiline ? \"w-full\" : \"w-28\") }\n            onChange={onSelect} disabled={props.disabled === true}>\n                {props.values.map((v) => {\n                    return <option selected={v === props.selected} value={v}>{t(v)}</option>;\n                })}\n            </select>\n        </div>\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\nimport { Select } from \"./select\";\nimport { AnyAction } from \"@reduxjs/toolkit\";\nimport {\n    Backend, BackendValues, dosSlice, ImageRendering, ImageRenderingValues, RenderAspect, RenderAspectValues,\n    RenderBackend, RenderBackendValues,\n} from \"../store/dos\";\nimport { ThemeValues, Theme, uiSlice } from \"../store/ui\";\nimport { lStorage } from \"../host/lstorage\";\nimport { SockdriveBackendName, initSlice, sockdriveBackendNames } from \"../store/init\";\n\nexport function BackendSelect(props: { multiline?: boolean }) {\n    const locked = useSelector((state: State) => state.dos.backendLocked);\n    return <OptionSelect\n        multiline={props.multiline}\n        label=\"emulation_backend\"\n        values={[...BackendValues]}\n        disabled={locked}\n        selector={(state: State) => state.dos.backend}\n        dispatch={(newValue: Backend) => {\n            lStorage.setItem(\"backend\", newValue);\n            return dosSlice.actions.dosBackend(newValue);\n        }}\n    />;\n}\n\nexport function RenderSelect(props: { multiline?: boolean }) {\n    const disabled = useSelector((state: State) => state.ui.window) === \"run\";\n    return <OptionSelect\n        multiline={props.multiline}\n        label=\"render_backend\"\n        values={[...RenderBackendValues]}\n        disabled={disabled}\n        selector={(state: State) => state.dos.renderBackend}\n        dispatch={(newValue: RenderBackend) => dosSlice.actions.renderBackend(newValue)}\n    />;\n}\n\nexport function RenderAspectSelect(props: { multiline?: boolean }) {\n    return <OptionSelect\n        label=\"render_aspect\"\n        multiline={props.multiline}\n        values={[...RenderAspectValues]}\n        selector={(state: State) => state.dos.renderAspect}\n        dispatch={(newValue: RenderAspect) => dosSlice.actions.renderAspect(newValue)}\n    />;\n}\n\nexport function ImageRenderingSelect(props: { multiline?: boolean }) {\n    return <OptionSelect\n        label=\"image_rendering\"\n        multiline={props.multiline}\n        values={[...ImageRenderingValues]}\n        selector={(state: State) => state.dos.imageRendering}\n        dispatch={(newValue: ImageRendering) => dosSlice.actions.imageRendering(newValue)}\n    />;\n}\n\nexport function ThemeSelect(props: { class?: string, multiline?: boolean }) {\n    return <OptionSelect\n        class={props.class}\n        label=\"theme\"\n        values={[...ThemeValues]}\n        selector={(state: State) => state.ui.theme}\n        dispatch={(newValue: Theme) => uiSlice.actions.theme(newValue)}\n        multiline={props.multiline}\n    />;\n}\n\nexport function SockdriveBackend(props: { class?: string, multiline?: boolean }) {\n    return <OptionSelect<SockdriveBackendName>\n        class={props.class}\n        label=\"FAT16/32 Backend\"\n        values={sockdriveBackendNames}\n        selector={(state: State) => state.init.sockdriveBackendName}\n        dispatch={(newValue) => initSlice.actions.setSockdriveBackendName(newValue)}\n        multiline={props.multiline}\n    />;\n}\n\nfunction OptionSelect<T>(props: {\n    class?: string,\n    selectClass?: string,\n    label: string,\n    values: string[]\n    selector: (state: State) => T,\n    dispatch: (newValue: T) => AnyAction;\n    disabled?: boolean,\n    multiline?: boolean,\n}) {\n    const t = useT();\n    const value = useSelector(props.selector);\n    const dispatch = useDispatch();\n\n    function onBackend(newValue: T) {\n        dispatch(props.dispatch(newValue));\n    }\n    return <Select\n        class={\"mt-4 \" + props.class}\n        selectClass={props.selectClass}\n        disabled={props.disabled}\n        multiline={props.multiline}\n        label={t(props.label)}\n        selected={value as string}\n        values={props.values}\n        onSelect={onBackend as any} />;\n}\n\n","export function LockBadge(props: {\n    class?: string,\n}) {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"\n        class={ props.class ?? \"absolute left-0 top-0 -ml-1 -mt-1 text-error w-4 h-4\" }>\n        <path fill-rule=\"evenodd\" d=\"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003\n                    3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75\n                    8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z\" clip-rule=\"evenodd\" />\n    </svg>;\n}\n","import { useT } from \"../i18n\";\nimport { SockdriveBackend } from \"../components/dos-option-select\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { sockdriveBackend } from \"../store/init\";\nimport { State } from \"../store\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { dispatchLoginAction, uiSlice } from \"../store/ui\";\nimport { LockBadge } from \"../components/lock\";\n\ninterface Drive {\n    name: string,\n    owner: string\n    fork_of: string[],\n    template: string,\n}\n\nexport function FatDrivesFrame() {\n    const t = useT();\n    const account = useSelector((state: State) => state.auth.account);\n    const { sockdriveEndpoint } = useSelector((state: State) =>\n        sockdriveBackend[state.init.sockdriveBackendName] ??\n        sockdriveBackend[\"js-dos\"]);\n    const [myDrives, setMyDrives] = useState<Drive[]>([]);\n    const dispatch = useDispatch();\n    const me = account?.email ?? \"\";\n    const [filter, setFilter] = useState<string>(\"\");\n    const [busy, setBusy] = useState<boolean>(true);\n    const forkDialogRef = useRef<HTMLDialogElement>(null);\n    const deleteDialogRef = useRef<HTMLDialogElement>(null);\n    const [forkName, setForkName] = useState<string>(\"\");\n    const [deleteConfirm, setDeleteConfirm] = useState<string>(\"\");\n    const [dialogError, setDialogError] = useState<string | null>(null);\n    const [dialogIndex, setDialogIndex] = useState<number>(-1);\n    const [sockdrivePremium, setSockdrivePremium] = useState<boolean>(false);\n    const premium = (account?.premium ?? false) || sockdrivePremium;\n\n\n    function reloadDrives() {\n        if (!account || !account.token) {\n            setMyDrives([\n                {\n                    \"fork_of\": [],\n                    \"name\": \"fat32-2gb\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat32-2gb\",\n                },\n                {\n                    \"fork_of\": [],\n                    \"name\": \"fat16-256m\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat16-256m\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat16-256m\",\n                    ],\n                    \"name\": \"win95-v1\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat16-256m\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat16-256m\",\n                    ],\n                    \"name\": \"dos7.1-v1\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat16-256m\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat32-2gb\",\n                    ],\n                    \"name\": \"win98-v1\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat32-2gb\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat32-2gb\",\n                    ],\n                    \"name\": \"win95-v2\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat32-2gb\",\n                },\n            ]);\n            setBusy(false);\n        } else {\n            setBusy(true);\n            fetch(sockdriveEndpoint + \"/list/drives/\" + account.token.access_token)\n                .then((r) => r.json())\n                .then((drives: Drive[]) => {\n                    setMyDrives(drives.sort((a, b) => a.name.localeCompare(b.name)));\n                })\n                .catch(console.error)\n                .finally(() => setBusy(false));\n\n            fetch(sockdriveEndpoint + \"/premium/\" + account.email)\n                .then((r) => r.json())\n                .then((payload: { premium: boolean }) => {\n                    setSockdrivePremium(payload.premium);\n                })\n                .catch((e) => {\n                    console.error(e);\n                    setSockdrivePremium(false);\n                });\n        }\n    }\n\n    useEffect(() => {\n        reloadDrives();\n    }, [account?.token, sockdriveEndpoint]);\n\n    return <div class=\"frame-root items-start gap-3 px-4\">\n        <SockdriveBackend multiline={true} class=\"w-full \" />\n        <input class=\"input input-bordered input-sm w-full\" placeholder={t(\"filter\")}\n            value={filter} onChange={(e) => setFilter(e.currentTarget.value ?? \"\")}></input>\n        <div class=\"w-full\">\n            {!busy && <table class=\"table w-full\">\n                <thead>\n                    <tr>\n                        <th>{t(\"net_drives\")}</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        // eslint-disable-next-line camelcase\n                        myDrives.map(({ name, owner, fork_of }, index) => {\n                            if (filter.length > 0 &&\n                                owner.indexOf(filter) === -1 && name.indexOf(filter) === -1) {\n                                return null;\n                            }\n                            return <>\n                                <tr>\n                                    <td onClick={() => { }}>\n                                        <p class=\"font-bold\">{name}</p>\n                                        {\n                                            // eslint-disable-next-line camelcase\n                                            fork_of.map((path) => {\n                                                return <p class=\"text-xs\">&nbsp;&nbsp;&nbsp;&nbsp;{path}</p>;\n                                            })}\n                                        {owner !== account?.email &&\n                                            <p class=\"text-xs\">{owner}</p>}\n                                    </td>\n                                    {premium && <td>\n                                        {account?.token && <div class=\"btn btn-ghost btn-xs\"\n                                            onClick={() => {\n                                                setDialogIndex(index);\n                                                forkDialogRef.current?.showModal();\n                                            }}>Fork</div>}\n                                        {account?.token && owner === me && <div class=\"btn btn-xs btn-ghost\"\n                                            onClick={() => {\n                                                setDialogIndex(index);\n                                                deleteDialogRef.current?.showModal();\n                                            }}>{t(\"delete\")}</div>}\n                                    </td>}\n                                    {!premium && <td>\n                                        <div class=\"cursor-pointer\"\n                                            onClick={() => dispatchLoginAction(account, dispatch)}>\n                                            <LockBadge class=\"text-error\" />\n                                        </div>\n                                    </td>}\n                                </tr>\n                            </>;\n                        })}\n                </tbody>\n            </table>\n            }\n            {busy && <span class=\"loading loading-spinner loading-lg\"></span>}\n        </div>\n        <dialog ref={forkDialogRef} class=\"modal\">\n            {!busy && dialogIndex >= 0 && account !== null && <div class=\"modal-box\">\n                <h3 class=\"font-bold text-lg\">{t(\"enter_name_of_drive\")}:</h3>\n                <p class=\"text-xs text-neutral-content mt-2\">\n                    fork of: {myDrives[dialogIndex].owner}/{myDrives[dialogIndex].name}\n                </p>\n                <input type=\"text\" placeholder=\"name\" value={forkName}\n                    class=\"mt-6 input input-bordered input-primary w-full\" onChange={(e) =>\n                        setForkName(e.currentTarget.value)} />\n                {dialogError !== null &&\n                    <p class=\"mt-2 text-error\">{t(\"error\")}: {dialogError}</p>}\n                <div class=\"modal-action\">\n                    {forkName.length > 0 && <button class=\"btn mr-2 btn-primary\" onClick={() => {\n                        setDialogIndex(-1);\n                        setBusy(true);\n                        // eslint-disable-next-line max-len\n                        fetch(`${sockdriveEndpoint}/fork/drive/${myDrives[dialogIndex].owner}/${myDrives[dialogIndex].name}/${forkName}/${account.token.access_token}`, {\n                            method: \"POST\",\n                        })\n                            .then((r) => r.json())\n                            .then((response) => {\n                                if (response.error) {\n                                    throw new Error(response.error);\n                                } else {\n                                    setMyDrives([]);\n                                    reloadDrives();\n                                }\n                                forkDialogRef.current?.close();\n                            })\n                            .catch((e) => {\n                                console.error(e.message);\n                                dispatch(uiSlice.actions\n                                    .showToast({ message: e.message, intent: \"error\" }));\n                            })\n                            .finally(() => {\n                                setBusy(false);\n                            });\n                    }}>{t(\"fork\")}</button>}\n                    <button class=\"btn\" onClick={() => forkDialogRef.current?.close()}>{t(\"close\")}</button>\n                </div>\n            </div>}\n        </dialog>\n        <dialog ref={deleteDialogRef} class=\"modal\">\n            {!busy && dialogIndex >= 0 && account !== null && <div class=\"modal-box\">\n                <h3 class=\"font-bold text-lg\">{t(\"enter_name_of_drive\")}:</h3>\n                <p class=\"text-xs text-neutral mt-2\">{myDrives[dialogIndex].owner}/{myDrives[dialogIndex].name}</p>\n                <input type=\"text\" placeholder=\"name\" value={deleteConfirm}\n                    class=\"mt-6 input input-bordered input-primary w-full\"\n                    onChange={(e) => setDeleteConfirm(e.currentTarget.value)} />\n                {dialogError !== null &&\n                    <p class=\"mt-2 text-error\">{t(\"error\")}: {setDialogError}</p>}\n                <div class=\"modal-action\">\n                    {deleteConfirm === myDrives[dialogIndex].owner + \"/\" + myDrives[dialogIndex].name &&\n                        <button class=\"btn mr-2 btn-primary\" onClick={() => {\n                            setDialogIndex(-1);\n                            setBusy(true);\n                            // eslint-disable-next-line max-len\n                            fetch(`${sockdriveEndpoint}/fork/delete/${myDrives[dialogIndex].owner}/${myDrives[dialogIndex].name}/${account.token.access_token}`, { method: \"POST\" })\n                                .then((r) => r.json())\n                                .then((response) => {\n                                    if (response.error) {\n                                        throw new Error(response.error);\n                                    } else {\n                                        const newDrives = [...myDrives];\n                                        newDrives.splice(dialogIndex, 1);\n                                        setMyDrives(newDrives);\n                                    }\n                                    deleteDialogRef.current?.close();\n                                })\n                                .catch((e) => {\n                                    console.error(e.message);\n                                    setDialogError(e.message);\n                                    dispatch(uiSlice.actions\n                                        .showToast({ message: e.message, intent: \"error\" }));\n                                })\n                                .finally(() => {\n                                    setBusy(false);\n                                });\n                        }}>{t(\"delete\")}</button>}\n                    <button class=\"btn\" onClick={() => deleteDialogRef.current?.close()}>{t(\"close\")}</button>\n                </div>\n            </div>\n            }\n        </dialog >\n    </div >;\n}\n","import { useEffect, useRef } from \"preact/hooks\";\n\nexport function Checkbox(props: {\n    class?: string,\n    toggleClass?: string,\n    label: string,\n    checked?: boolean,\n    onChange?: (value: boolean) => void,\n    disabled?: boolean,\n    intermediate?: boolean,\n}) {\n    const ref = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        if (ref === null || ref.current === null) {\n            return;\n        }\n\n        (ref.current as any).indeterminate = props.intermediate;\n    }, [ref, props.intermediate]);\n\n    function onChange() {\n        if (props.onChange) {\n            props.onChange(!(props.checked === true));\n        }\n    }\n\n    return <div className={props.class + \" form-control option\"}\n        onClick={onChange}>\n        <label className=\"label cursor-pointer\">\n            <span className=\"label-text mr-6\">{props.label}</span>\n            <input\n                ref={ref}\n                checked={props.checked === true}\n                type=\"checkbox\"\n                className={ \"toggle \" + (props.checked ? \" toggle-primary \" : \"\") +\n                    props.toggleClass }\n                disabled={props.disabled === true} />\n        </label>\n    </div>;\n}\n","import { useEffect } from \"preact/hooks\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Checkbox } from \"../components/checkbox\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\nimport { dosSlice } from \"../store/dos\";\nimport { Select } from \"../components/select\";\nimport { dispatchLoginAction, uiSlice } from \"../store/ui\";\nimport { LockBadge } from \"../components/lock\";\nimport { Dispatch } from \"@reduxjs/toolkit\";\n\nexport function NetworkFrame() {\n    const account = useSelector((state: State) => state.auth.account);\n    const network = useSelector((state: State) => state.dos.network);\n    const room = network.room;\n    const server = network.server;\n    const disabled = network.ipx !== \"disconnected\";\n    const t = useT();\n    const dispatch = useDispatch();\n    const premium = account?.premium === true;\n    const ipxLink =\n        network.ipx === \"connected\" ?\n            location.href + searchSeparator() +\n            \"ipx=1&server=\" + network.server + \"&room=\" + room :\n            null;\n\n    useEffect(() => {\n        if (server !== \"netherlands\" && account?.premium !== true) {\n            dispatch(dosSlice.actions.setServer(\"netherlands\"));\n        }\n    }, [server, account]);\n\n    function setRoom(room: string) {\n        dispatch(dosSlice.actions.setRoom(room));\n    }\n\n    function setServer(server: string) {\n        dispatch(dosSlice.actions.setServer(server as any));\n    }\n\n    function toggleIpx() {\n        if (network.ipx === \"connected\") {\n            dispatch(dosSlice.actions.disconnectIpx({}));\n        } else {\n            dispatch(dosSlice.actions.connectIpx({\n                room,\n                address: \"wss://\" + (premium ? server : \"netherlands\") + \".dos.zone\",\n            }) as any);\n        }\n    }\n\n    function copyAndClose() {\n        if (ipxLink) {\n            copyToClipBoard(ipxLink, t, dispatch);\n            dispatch(uiSlice.actions.frameNone());\n        }\n    }\n\n    function lockClick() {\n        dispatchLoginAction(account, dispatch);\n    }\n\n    function onServer(newServer: string) {\n        setServer(newServer);\n\n        if (!premium) {\n            dispatchLoginAction(account, dispatch);\n            return;\n        }\n    }\n\n    return <div class=\"network-frame frame-root items-start px-4 relative\">\n        <div class=\"ml-1 mb-4 w-full flex flex-row items-center\">\n            <Select\n                class=\"text-sm\"\n                selectClass=\"w-full\"\n                label={t(\"server\") + \":\"}\n                selected={server}\n                values={[\"netherlands\", \"newyork\", \"singapore\"]}\n                disabled={disabled}\n                onSelect={onServer}\n            />\n            <div onClick={lockClick}>\n                <LockBadge class=\"cursor-pointer ml-2 w-4 h-4 text-error\" />\n            </div>\n        </div>\n        <div class=\"form-control w-full\">\n            <label class=\"label\">\n                <span class=\"label-text\">{t(\"room\")}:</span>\n            </label>\n            <input type=\"text\"\n                class=\"input w-full input-sm input-bordered\"\n                disabled={disabled}\n                onChange={(e) => setRoom(e.currentTarget.value)}\n                value={room}></input>\n        </div>\n        <Checkbox\n            class={\"mt-4 \" + (network.ipx === \"error\" ? \"error\" : \"\")}\n            onChange={toggleIpx}\n            label=\"IPX\"\n            checked={network.ipx === \"connected\"}\n            disabled={network.ipx === \"connecting\"}\n            intermediate={network.ipx === \"connecting\"}\n        />\n\n        {ipxLink !== null && <div class=\"mt-4 text-sm alert alert-success shadow-lg flex flex-col\">\n            <div>{t(\"copy_net_link\")}:</div>\n            <div class=\"flex flex-row\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\"\n                    class=\"w-6 h-6 mx-1 cursor-pointer hover:text-accent-focus flex-shrink-0\"\n                    fill=\"none\" onClick={copyAndClose}\n                    viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        d=\"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125\n                        1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06\n                        9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504\n                        1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0\n                        00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5\n                        10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12\n                        6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125\n                         0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75\" />\n                </svg>\n                <div class=\"contextmenu underline break-all\"\n                    target=\"_blank\">{ipxLink}</div>\n            </div>\n        </div>}\n    </div >;\n}\n\nfunction searchSeparator() {\n    if (location.href.endsWith(\"?\") || location.href.endsWith(\"&\")) {\n        return \"\";\n    }\n    return location.href.indexOf(\"?\") > 0 ? \"&\" : \"?\";\n}\n\nasync function copyToClipBoard(text: string,\n                               t: (key: string) => string,\n                               dispatch: Dispatch) {\n    if (!navigator.clipboard) {\n        return;\n    }\n\n    try {\n        await navigator.clipboard.writeText(text);\n        dispatch(uiSlice.actions.showToast({\n            message: t(\"copied\"),\n            intent: \"success\",\n        }));\n    } catch (e: any) {\n        dispatch(uiSlice.actions.showToast({\n            message: t(\"error\"),\n            intent: \"error\",\n        }));\n    }\n}\n","export function DisketteIcon(props: {\n    class?: string,\n}) {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\"\n        style=\"padding: 2px\"\n        viewBox=\"0 0 16 16\" enable-background=\"new 0 0 16 16\"\n        fill=\"currentColor\" class={ \"w-full h-full rounded-lg \" + props.class }>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n            d=\"M15.71,2.29l-2-2C13.53,0.11,13.28,0,13,0h-1v6H4V0H1C0.45,0,0,0.45,0,1v14\n                c0,0.55,0.45,1,1,1h14c0.55,0,1-0.45,1-1V3C16,2.72,15.89,2.47,15.71,2.29z\n                M14,15H2V9c0-0.55,0.45-1,1-1h10c0.55,0,1,0.45,1,1V15\n                z M11,1H9v4h2V1z\"/>\n    </svg>;\n}\n","import { useState } from \"preact/hooks\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LockBadge } from \"../components/lock\";\nimport { State, useNonSerializableStore } from \"../store\";\nimport { uiSlice } from \"../store/ui\";\nimport { DisketteIcon } from \"./diskette-icon\";\nimport { useT } from \"../i18n\";\nimport { putChanges } from \"../v8/changes\";\n\nexport function CloudSaveButton(props: {\n    class?: string,\n}) {\n    const [busy, setBusy] = useState<boolean>(false);\n    const account = useSelector((state: State) => state.auth.account);\n    const disabled = account === null && false;\n    const dispatch = useDispatch();\n    const t = useT();\n    const cloudSaves = useSelector((state: State) => state.ui.cloudSaves);\n    const nonSerializableStore = useNonSerializableStore();\n\n    if (!cloudSaves ||\n        nonSerializableStore.loadedBundle === null ||\n        nonSerializableStore.loadedBundle.bundleChangesUrl === null) {\n        return null;\n    }\n\n    async function onClick() {\n        if (disabled) {\n            dispatch(uiSlice.actions.modalLogin());\n            return;\n        }\n\n        if (busy) {\n            return;\n        }\n\n        const ci = nonSerializableStore.ci;\n        const changesUrl = nonSerializableStore.loadedBundle?.bundleChangesUrl;\n\n        if (ci === null || !changesUrl) {\n            return;\n        }\n\n        setBusy(true);\n        try {\n            const changes = await ci.persist(true);\n            if (changes !== null) {\n                if (account === null || !account.premium) {\n                    await nonSerializableStore.cache.put(changesUrl, changes);\n                } else {\n                    await Promise.all([\n                        putChanges(changesUrl, changes),\n                        nonSerializableStore.cache.put(changesUrl, changes),\n                    ]);\n                }\n            }\n\n            dispatch(uiSlice.actions.showToast({\n                message: t(\"success\"),\n                intent: \"success\",\n            }));\n        } catch (e: any) {\n            dispatch(uiSlice.actions.showToast({\n                message: t(\"unable_to_save\"),\n                intent: \"error\",\n            }));\n            console.error(e);\n        } finally {\n            setBusy(false);\n        }\n    }\n\n    return <div class={\"save-button sidebar-button overflow-hidden \" +\n        (busy ? \" sidebar-highlight \" : \"\") + props.class +\n        (disabled ? \" opacity-50\" : \"\")} onClick={onClick}>\n        <div class=\"w-full h-full flex justify-center\">\n            <DisketteIcon />\n            {busy && <div class=\"sidebar-badge\" />}\n            {disabled && <LockBadge />}\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\"\n                class=\"absolute bottom-1 w-3 h-3 text-primary-content\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775\n                    5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z\" />\n            </svg>\n        </div>\n    </div >;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { LockBadge } from \"../components/lock\";\nimport { CloudSaveButton } from \"../sidebar/cloud-save-button\";\nimport { DisketteIcon } from \"../sidebar/diskette-icon\";\nimport { State, useNonSerializableStore } from \"../store\";\nimport { dispatchLoginAction } from \"../store/ui\";\n\nexport function QuickSaveFrame() {\n    const premium = useSelector((state: State) => state.auth.account)?.premium && false;\n    return <div class=\"quick-save-frame flex flex-col justify-center items-center -my-2\">\n        <CloudSaveButton />\n        <SaveButton label=\"quick\" bgcolor=\"bg-primary\" textcolor=\"text-primary-content\" />\n        <LoadButton label=\"quick\" bgcolor=\"bg-primary\" />\n        {premium && <>\n            <SaveButton disabled={!premium} label={2} bgcolor=\"bg-secondary\" textcolor=\"text-secondary-content\" />\n            <LoadButton disabled={!premium} label={2} bgcolor=\"bg-secondary\" />\n            <SaveButton disabled={!premium} label={3} bgcolor=\"bg-accent\" textcolor=\"text-accent-content\" />\n            <LoadButton disabled={!premium} label={3} bgcolor=\"bg-accent\" />\n        </>}\n    </div>;\n}\n\nfunction SaveButton(props: {\n    label: number | string,\n    bgcolor: string,\n    textcolor: string,\n    disabled?: boolean,\n}) {\n    const account = useSelector((state: State) => state.auth.account);\n    const dispatch = useDispatch();\n    const nonSerializableStore = useNonSerializableStore();\n    function onClick() {\n        if (props.disabled === true) {\n            dispatchLoginAction(account, dispatch);\n        }\n\n        const ci = nonSerializableStore.ci;\n        if (ci === null) {\n            return;\n        }\n\n        ci.sendBackendEvent({\n            type: \"wc-trigger-event\",\n            event: \"hand_savestate\",\n        });\n    }\n\n    return <div class={\"sidebar-button flex justify-center \" + (props.disabled ? \"opacity-50\" : \"\")}\n        onClick={onClick}>\n        <DisketteIcon />\n        {props.disabled !== true &&\n            <div class={\"text-badge \" + props.textcolor + \" \" + props.bgcolor}>{props.label}</div>}\n        {props.disabled === true && <LockBadge />}\n\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"absolute bottom-1 w-3 h-3\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18\" />\n        </svg>\n    </div>;\n}\n\nfunction LoadButton(props: {\n    label: number | string,\n    bgcolor: string,\n    disabled?: boolean,\n}) {\n    const account = useSelector((state: State) => state.auth.account);\n    const dispatch = useDispatch();\n    const nonSerializableStore = useNonSerializableStore();\n    function onClick() {\n        if (props.disabled === true) {\n            dispatchLoginAction(account, dispatch);\n        }\n\n        const ci = nonSerializableStore.ci;\n        if (ci === null) {\n            return;\n        }\n\n        ci.sendBackendEvent({\n            type: \"wc-trigger-event\",\n            event: \"hand_loadstate\",\n        });\n    }\n\n    return <div class={\"sidebar-button flex justify-center \" + (props.disabled ? \" opacity-50\" : \"\")}\n        onClick={onClick}>\n        <DisketteIcon class=\"opacity-10\" />\n        {props.disabled === true && <LockBadge />}\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"absolute bottom-1 w-6 h-6 -scale-y-100\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                d=\"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3\" />\n        </svg>\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../i18n\";\nimport { State, useNonSerializableStore } from \"../store\";\nimport { dosSlice } from \"../store/dos\";\nimport { dispatchLoginAction, uiSlice } from \"../store/ui\";\nimport { Checkbox } from \"./checkbox\";\n\nexport function Editor() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const editor = useSelector((state: State) => state.ui.editor);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"editor\")}\n        checked={editor}\n        onChange={(e) => dispatch(uiSlice.actions.setEditor(e))}\n    />;\n}\n\nexport function MouseCapture() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => state.dos.mouseCapture);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"mouse_lock\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.mouseCapture(l))}\n    />;\n}\n\nexport function SystemCursor() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => !state.dos.noCursor);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"system_cursor\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.noCursor(!l))}\n    />;\n}\n\nexport function MobileControls() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => state.dos.mobileControls);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"mobile_controls\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.mobileControls(l))}\n    />;\n}\n\nexport function MirroredControls() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => state.dos.mirroredControls);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"mirrored_controls\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.mirroredControls(l))}\n    />;\n}\n\nexport function PauseCheckbox() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const paused = useSelector((state: State) => state.dos.paused);\n    const disabled = useSelector((state: State) => state.ui.window) !== \"run\";\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"pause\")}\n        checked={paused}\n        disabled={disabled}\n        onChange={(p) => dispatch(dosSlice.actions.paused(p))}\n    />;\n}\n\nexport function WorkerCheckbox() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const worker = useSelector((state: State) => state.dos.worker);\n    const hardware = useSelector((state: State) => state.dos.backendHardware);\n    const disabled = useSelector((state: State) => state.ui.window) === \"run\";\n    const nonSerializableStore = useNonSerializableStore();\n    return hardware && nonSerializableStore.options.backendHardware ? null : <Checkbox\n        class=\"mt-4\"\n        label={t(\"worker\")}\n        checked={worker}\n        disabled={disabled}\n        onChange={(w) => dispatch(dosSlice.actions.dosWorker(w))}\n    />;\n}\n\nexport function HardwareCheckbox() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const hardware = useSelector((state: State) => state.dos.backendHardware);\n    const nonSerializableStore = useNonSerializableStore();\n    return nonSerializableStore.options.backendHardware ? <Checkbox\n        class=\"mt-4\"\n        label={t(\"hardware\")}\n        checked={hardware}\n        onChange={(h) => dispatch(dosSlice.actions.dosBackendHardware(h))}\n    /> : null;\n}\n\nexport function SockdriveWrite() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const account = useSelector((state: State) => state.auth.account);\n    const visible = useSelector((state: State) => state.dos.backend === \"dosboxX\");\n    const checked = useSelector((state: State) => state.dos.sockdriveWrite) && account !== null;\n    return visible ? <Checkbox\n        class=\"mt-4\"\n        label={t(\"fat_write\")}\n        checked={checked}\n        onChange={(c) => {\n            if (!account) {\n                dispatchLoginAction(account, dispatch);\n            } else {\n                dispatch(dosSlice.actions.setSockdriveWrite(c));\n            }\n        }}\n    /> : null;\n}\n","import { useEffect, useRef } from \"preact/hooks\";\n\nexport function Slider(props: {\n    class?: string,\n    label: string,\n    value: number,\n    onChange: (value: number) => void,\n}) {\n    const sliderRef = useRef<HTMLDivElement>(null);\n    const pointRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (sliderRef?.current === null) {\n            return;\n        }\n\n        const sliderEl = sliderRef.current;\n\n        let pressed = false;\n        function updatePercent(e: PointerEvent) {\n            const boundingRect = sliderEl.getBoundingClientRect();\n            const percent = Math.min(1, Math.max(0,\n                (e.clientX - boundingRect.left) / boundingRect.width));\n            props.onChange(percent);\n        }\n\n        function onPointerDown(e: PointerEvent) {\n            pressed = true;\n            updatePercent(e);\n        }\n        function onPointerMove(e: PointerEvent) {\n            if (!pressed) {\n                return;\n            }\n\n            updatePercent(e);\n        }\n\n        function onPointerUp(e: PointerEvent) {\n            pressed = false;\n        }\n\n\n        sliderEl.addEventListener(\"pointerdown\", onPointerDown);\n        sliderEl.addEventListener(\"pointermove\", onPointerMove);\n        sliderEl.addEventListener(\"pointerup\", onPointerUp);\n        sliderEl.addEventListener(\"pointercancel\", onPointerUp);\n        sliderEl.addEventListener(\"pointerleave\", onPointerUp);\n\n        return () => {\n            sliderEl.removeEventListener(\"pointerdown\", onPointerDown);\n            sliderEl.removeEventListener(\"pointermove\", onPointerMove);\n            sliderEl.removeEventListener(\"pointerup\", onPointerUp);\n            sliderEl.removeEventListener(\"pointercancel\", onPointerUp);\n            sliderEl.removeEventListener(\"pointerleave\", onPointerUp);\n        };\n    }, [sliderRef]);\n\n    const percent = Math.min(Math.max(0, props.value * 100), 100);\n\n    return <div class={props.class + \" slider option\"}>\n        <div class=\"label\">{props.label}</div>\n        <div class=\"touch\" ref={sliderRef}>\n            <div class=\"bg\"></div>\n            <div class=\"point\" ref={pointRef}\n                style={{ left: \"calc(\" + percent + \"%\" + \" - 12px)\" }}></div>\n        </div>\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../i18n\";\nimport { dosSlice } from \"../store/dos\";\nimport { Slider } from \"./slider\";\nimport { State } from \"../store\";\n\nexport function MouseSensitiviySlider(props: {\n    class?: string,\n}) {\n    const t = useT();\n    const sensitivity = useSelector((state: State) => state.dos.mouseSensitivity);\n    const dispatch = useDispatch();\n\n    return <Slider\n        class={props.class}\n        label={t(\"mouse_sensitivity\")}\n        value={sensitivity}\n        onChange={(value) => dispatch(dosSlice.actions.mouseSensitivity(value)) }\n    />;\n}\n\nexport function ScaleControlsSlider(props: {\n    class?: string,\n}) {\n    const t = useT();\n    const sensitivity = useSelector((state: State) => state.dos.scaleControls);\n    const dispatch = useDispatch();\n\n    return <Slider\n        class={props.class}\n        label={t(\"scale_controls\")}\n        value={sensitivity}\n        onChange={(value) => dispatch(dosSlice.actions.scaleControls(value)) }\n    />;\n}\n\nexport function VolumeSlider(props: {\n    class?: string,\n}) {\n    const t = useT();\n    const volume = useSelector((state: State) => state.dos.volume);\n    const dispatch = useDispatch();\n\n    return <Slider\n        class={props.class}\n        label={t(\"volume\")}\n        value={volume}\n        onChange={(value) => dispatch(dosSlice.actions.volume(value)) }\n    />;\n}\n","import { MirroredControls, MobileControls,\n    MouseCapture, SystemCursor, PauseCheckbox } from \"../components/dos-option-checkbox\";\nimport { ThemeSelect } from \"../components/dos-option-select\";\nimport { MouseSensitiviySlider, ScaleControlsSlider, VolumeSlider } from \"../components/dos-option-slider\";\n\nexport function SettingsFrame(props: {}) {\n    return <div class=\"settings-frame frame-root items-start pl-4\">\n        <PauseCheckbox />\n        <SystemCursor />\n        <MouseCapture />\n        <MobileControls />\n        <MirroredControls />\n        <ScaleControlsSlider class=\"mt-4\" />\n        <MouseSensitiviySlider />\n        <VolumeSlider />\n        <ThemeSelect multiline={true} />\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\n\nexport function StatsFrame() {\n    const startedAt = useSelector((state: State) => state.dos.ciStartedAt);\n    const stats = useSelector((state: State) => state.dos.stats);\n    const cycles = Math.round(useSelector((state: State) => state.dos.stats.cyclesPerMs) / 1000);\n    const driveRecvMb = Math.round(stats.driveRecv / 1024 / 1024 * 100) / 100;\n    const driveSpeedMb = (stats.driveRecvTime / 1000) > 1 ?\n        Math.round(driveRecvMb / stats.driveRecvTime * 1000 * 100) / 100 : 0;\n    return <div class=\"stats-frame frame-root items-start px-4\">\n        <div class=\"w-full overflow-x-auto\">\n            <table class=\"table table-compact w-full\">\n                <thead>\n                    <tr>\n                        <th>Metric</th>\n                        <th>Value</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>Uptime</td>\n                        <td>{Math.round((Date.now() - startedAt) / 100) / 10} s</td>\n                    </tr>\n                    <tr>\n                        <td>Cycles/ms</td>\n                        { cycles <= 0 && <td>~ K</td> }\n                        { cycles > 0 && cycles <= 1000 && <td>{cycles} K</td> }\n                        { cycles > 1000 && <td>{Math.round(cycles / 1000)} KK</td> }\n                    </tr>\n                    <tr>\n                        <td>NonSkipSleep COUNT/s</td>\n                        <td>{stats.nonSkippableSleepPreSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Sleep COUNT/s</td>\n                        <td>{stats.sleepPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Sleep TIME/s</td>\n                        <td>{stats.sleepTimePerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg FRAME/s</td>\n                        <td>{stats.framePerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg SOUND/s</td>\n                        <td>{stats.soundPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg SENT/s</td>\n                        <td>{stats.msgSentPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg RECV/s</td>\n                        <td>{stats.msgRecvPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Net SENT/s</td>\n                        <td>{Math.round(stats.netSent / 1024 * 100) / 100}Kb</td>\n                    </tr>\n                    <tr>\n                        <td>Net RECV/s</td>\n                        <td>{Math.round(stats.netRecv / 1024 * 100) / 100}Kb</td>\n                    </tr>\n                    <tr>\n                        <td>HDD RECV/s</td>\n                        <td>{driveRecvMb}Mb (~{driveSpeedMb}Mb/s)</td>\n                    </tr>\n                    <tr>\n                        <td>HDD SENT/s</td>\n                        <td>{Math.round(stats.driveSent / 1024 / 1024 * 100) / 100}Mb</td>\n                    </tr>\n                    <tr>\n                        <td>HDD Cache</td>\n                        <td>{Math.round(stats.driveCacheUsed / 1024 / 1024 * 100) / 100}Mb</td>\n                    </tr>\n                    <tr>\n                        <td>HDD Cache Hit/Miss</td>\n                        <td>{stats.driveCacheHit} / {stats.driveCacheMiss}</td>\n                    </tr>\n                    <tr>\n                        <td>HDD RX</td>\n                        <td>{stats.driveIo.map((io) => {\n                            return io.read;\n                        }).join(\", \")}</td>\n                    </tr>\n                    <tr>\n                        <td>HDD TX</td>\n                        <td>{stats.driveIo.map((io) => {\n                            return io.write;\n                        }).join(\", \")}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>;\n}\n","import { ImageRenderingSelect, RenderAspectSelect } from \"../components/dos-option-select\";\n\nexport function ImageRenderingFrame(props: {}) {\n    return <div class=\"image-rendering-frame frame-root items-start pl-4\">\n        <RenderAspectSelect multiline={true} />\n        <ImageRenderingSelect multiline={true} />\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { dosSlice } from \"../store/dos\";\nimport { State, useNonSerializableStore } from \"../store\";\nimport { useT } from \"../i18n\";\nimport { uiSlice } from \"../store/ui\";\nimport { Emulators } from \"emulators\";\n\ndeclare const emulators: Emulators;\n\nexport function PreRunWindow() {\n    const emuVersion = useSelector((state: State) => state.dos.emuVersion);\n    const dispatch = useDispatch();\n    const t = useT();\n\n    return <div class=\"pre-run-window\">\n        <Play />\n        <div class=\"mt-4 flex float items-center\">\n            {t(\"prerun_line\")}\n\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n                stroke=\"currentColor\" class=\"w-5 h-5 mx-1 cursor-pointer text-primary flex-shrink-0\"\n                onClick={() => dispatch(uiSlice.actions.framePreRun())}>\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55\n                        0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257\n                        1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26\n                        1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010\n                        .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298\n                        2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0\n                        01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55\n                        0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0\n                        01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0\n                        01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932\n                        6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0\n                        01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072\n                        1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n        </div>\n        <div class=\"text-center mt-8 absolute bottom-4\">jsdos/emu version:&nbsp;\n            <span class=\"text-ellipsis overflow-hidden\">{JSDOS_VERSION}/{emuVersion}</span></div>\n    </div>;\n}\n\nexport function Play(props: { class?: string, button?: boolean }) {\n    const configChanged = useSelector((state: State) => state.editor.configChanged);\n    const bundleConfig = useSelector((state: State) => state.editor.bundleConfig);\n    const nonSerializableStore = useNonSerializableStore();\n    const dispatch = useDispatch();\n    const t = useT();\n\n    async function onPlay() {\n        if (configChanged) {\n            const config = bundleConfig;\n            const bundle = nonSerializableStore.loadedBundle?.bundle;\n            if (bundle === null || config === null || !ArrayBuffer.isView(bundle)) {\n                throw new Error(\"Unexpected behaviour (internal state is broken), bundle is null\");\n            }\n\n            try {\n                nonSerializableStore.loadedBundle!.bundle =\n                    await emulators.bundleUpdateConfig(bundle, config);\n                dispatch(dosSlice.actions.bndPlay({}));\n            } catch (e) {\n                dispatch(dosSlice.actions.bndError((e as Error).message ?? \"unexpected error\"));\n            }\n        } else {\n            dispatch(dosSlice.actions.bndPlay({}));\n        }\n    }\n\n    if (props.button === true) {\n        return <div class=\"btn btn-accent w-full sm:hidden\" onClick={onPlay}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"w-6 h-6\">\n                <path fill-rule=\"evenodd\" d=\"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25\n                        0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786\n                        0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z\" clip-rule=\"evenodd\" />\n            </svg>\n\n            {t(\"play\")}\n        </div>;\n    } else {\n        return <div class={props.class + \" cursor-pointer w-1/4 h-1/4 min-w-48 \" +\n            \"min-h-48 max-w-96 max-h-96\"} onClick={onPlay}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full play-button\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.91 11.672a.375.375 0 010\n                .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z\" />\n            </svg>\n        </div>;\n    }\n}\n","import { Editor, HardwareCheckbox, MirroredControls, MobileControls,\n    MouseCapture,\n    SockdriveWrite,\n    SystemCursor,\n    WorkerCheckbox } from \"../components/dos-option-checkbox\";\nimport { BackendSelect, RenderAspectSelect, RenderSelect, ThemeSelect } from \"../components/dos-option-select\";\nimport { MouseSensitiviySlider, ScaleControlsSlider, VolumeSlider } from \"../components/dos-option-slider\";\nimport { Play } from \"../window/prerun-window\";\n\nexport function PreRunFrame(props: {}) {\n    return <div class=\"prerun-frame frame-root items-start pl-4\">\n        <Play button={true} />\n        <SystemCursor />\n        <MouseCapture />\n        <MobileControls />\n        <MirroredControls />\n        <ScaleControlsSlider class=\"mt-4\" />\n        <MouseSensitiviySlider />\n        <VolumeSlider />\n        <BackendSelect multiline={true} />\n        <WorkerCheckbox />\n        <RenderSelect multiline={true} />\n        <RenderAspectSelect multiline={true} />\n        <HardwareCheckbox />\n        <SockdriveWrite />\n        <Editor />\n        <ThemeSelect multiline={true} />\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { AccountFrame } from \"./account-frame\";\nimport { EditorConf } from \"./editor/editor-conf-frame\";\nimport { EditorFsFrame } from \"./editor/editor-fs-frame\";\nimport { FatDrivesFrame } from \"./fat-drives-frame\";\nimport { NetworkFrame } from \"./network-frame\";\nimport { QuickSaveFrame } from \"./quick-save-frame\";\nimport { SettingsFrame } from \"./settings-frame\";\nimport { StatsFrame } from \"./stats-frame\";\nimport { ImageRenderingFrame } from \"./image-rendering-frame\";\nimport { PreRunFrame } from \"./prerun-frame\";\n\nexport function Frame(props: {}) {\n    const frame = useSelector((state: State) => state.ui.frame);\n    const frameXs = useSelector((state: State) => state.ui.frameXs);\n    const wideScreen = useSelector((state: State) => state.ui.wideScreen);\n    if (frame === \"none\") {\n        return null;\n    }\n\n\n    return <div class={\"frame \" + (frameXs ? \" frame-xs \" : \"\") +\n        (frameXs || wideScreen ? \"\" : \" frame-md\")}>\n        { frame === \"account\" && <AccountFrame /> }\n        { frame === \"settings\" && <SettingsFrame /> }\n        { frame === \"editor-conf\" && <EditorConf /> }\n        { frame === \"editor-fs\" && <EditorFsFrame /> }\n        { frame === \"network\" && <NetworkFrame /> }\n        { frame === \"stats\" && <StatsFrame /> }\n        { frame === \"fat-drives\" && <FatDrivesFrame /> }\n        { frame === \"quick-save\" && <QuickSaveFrame /> }\n        { frame === \"image-rendering\" && <ImageRenderingFrame /> }\n        { frame === \"prerun\" && <PreRunFrame /> }\n    </div>;\n};\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { dispatchLoginAction } from \"../store/ui\";\nimport { State } from \"../store\";\n\nexport function AccountButton(props: {\n    class?: string,\n}) {\n    const account = useSelector((state: State) => state.auth.account);\n    const loggedIn = account !== null;\n    const hightlight = useSelector((state: State) => state.ui.frame) === \"account\";\n    const dispatch = useDispatch();\n\n    function onClick() {\n        dispatchLoginAction(account, dispatch);\n    }\n\n    return <div class={\"sidebar-button \" + (hightlight ? \"sidebar-highlight \" : \"\") +\n        (account?.email === \"dz.caiiiycuk@gmail.com\" ? \"bg-accent \" : \"\") +\n        props.class} onClick={onClick}>\n\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                d=\"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963\n                    0m11.963 0A8.966 8.966 0 0112 21a8.966\n                    8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n\n        {loggedIn === false && <div class=\"sidebar-badge\" />}\n    </div>;\n}\n","import { Store, getNonSerializableStore } from \"../store\";\nimport { uiSlice } from \"../store/ui\";\n\nexport function browserSetFullScreen(fullScreen: boolean, store: Store) {\n    const root = getNonSerializableStore(store).root as any;\n    if (fullScreen) {\n        if (root.requestFullscreen) {\n            root.requestFullscreen();\n        } else if (root.webkitRequestFullscreen) {\n            root.webkitRequestFullscreen();\n        } else if (root.mozRequestFullScreen) {\n            root.mozRequestFullScreen();\n        } else if (root.msRequestFullscreen) {\n            root.msRequestFullscreen();\n        } else if (root.webkitEnterFullscreen) {\n            root.webkitEnterFullscreen();\n        } else {\n            root.classList.add(\"jsdos-fullscreen-workaround\");\n        }\n    } else {\n        if (root.classList.contains(\"jsdos-fullscreen-workaround\")) {\n            root.classList.remove(\"jsdos-fullscreen-workaround\");\n        } else if (document.exitFullscreen) {\n            document.exitFullscreen();\n        } else if ((document as any).webkitExitFullscreen) {\n            (document as any).webkitExitFullscreen();\n        } else if ((document as any).mozCancelFullScreen) {\n            (document as any).mozCancelFullScreen();\n        } else if ((document as any).msExitFullscreen) {\n            (document as any).msExitFullscreen();\n        }\n    }\n\n    store.dispatch(uiSlice.actions.setFullScreen(fullScreen));\n}\n","import { useSelector, useStore } from \"react-redux\";\nimport { State, Store } from \"../store\";\nimport { browserSetFullScreen } from \"../host/fullscreen\";\n\nexport function FullscreenButton(props: {\n    class?: string,\n}) {\n    const fullScreen = useSelector((state: State) => state.ui.fullScreen);\n    const store = useStore() as Store;\n\n    function onClick() {\n        browserSetFullScreen(!fullScreen, store);\n    }\n    /* eslint-disable max-len */\n    return <div class={\"fullscreen-button sidebar-button \" + props.class} onClick={onClick}>\n        <div class={\"w-full h-full scale-75 hover:scale-90\"}>\n            {!fullScreen &&\n                <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n                    viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" enable-background=\"new 0 0 16 16\" >\n                    <g>\n                        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.99,8.99c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29v-1.59c0-0.55-0.45-1-1-1\n                                s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1H3.41L6.7,10.7c0.18-0.18,0.29-0.43,0.29-0.71\n                                C6.99,9.44,6.54,8.99,5.99,8.99z M14.99-0.01h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59L9.28,5.29C9.1,5.47,8.99,5.72,8.99,5.99\n                                c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C15.99,0.44,15.54-0.01,14.99-0.01\n                                z\"/>\n                    </g>\n                </svg>\n            }\n            {fullScreen &&\n                <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n                    viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" enable-background=\"new 0 0 16 16\">\n                    <g>\n                        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.99,0.99c0-0.55-0.45-1-1-1c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29V1.99\n                            c0-0.55-0.45-1-1-1s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1h-1.59L15.7,1.7\n                            C15.88,1.52,15.99,1.27,15.99,0.99z M5.99,8.99h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59l-3.29,3.29c-0.18,0.18-0.29,0.43-0.29,0.71\n                            c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C6.99,9.44,6.54,8.99,5.99,8.99z\"\n                        />\n                    </g>\n                </svg>\n            }\n        </div>\n    </div >;\n    /* eslint-enable max-len */\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { uiSlice } from \"../store/ui\";\n\nexport function NetworkButton(props: {\n    class?: string,\n}) {\n    const hightlight = useSelector((state: State) => state.ui.frame) === \"network\";\n    const inactive = useSelector((state: State) => state.dos.network.ipx !== \"connected\");\n    const dispatch = useDispatch();\n\n    function onClick() {\n        if (hightlight) {\n            dispatch(uiSlice.actions.frameNone());\n        } else {\n            dispatch(uiSlice.actions.frameNetwork());\n        }\n    }\n\n    return <div class={\"network-button sidebar-button \" +\n        (hightlight ? \" sidebar-highlight \" : \"\") +\n        (inactive ? \" inactive \" : \"\") +\n        props.class} onClick={onClick}>\n        <div class=\"w-full h-full\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8.288 15.038a5.25 5.25 0\n                 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565\n                 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 011.06 0z\" />\n            </svg>\n            { inactive && <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n                stroke=\"currentColor\" class=\"w-full text-error h-full absolute top-0 left-0\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4 4L18 18\" />\n            </svg> }\n        </div>\n\n\n    </div >;\n}\n","import { AnyAction } from \"@reduxjs/toolkit\";\nimport { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { LockBadge } from \"../components/lock\";\nimport { State, Store } from \"../store\";\nimport { Frame, uiSlice } from \"../store/ui\";\nimport { DisketteIcon } from \"./diskette-icon\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { dosSlice } from \"../store/dos\";\n\nexport function ImageRenderingButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"image-rendering\"\n        action={uiSlice.actions.frameImageRendering()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"\n            class=\"w-full h-full\">\n            <path stroke-linecap=\"round\"\n                stroke-linejoin=\"round\" d=\"M2.25 15.75l5.159-5.159a2.25 2.25 0\n                    013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0\n                    013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5\n                    1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5\n                    1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75\n                    0 .375.375 0 01.75 0z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function QuickSaveButton(props: {\n    class?: string,\n}) {\n    const disabled = useSelector((state: State) => state.auth.account) === null && false;\n    const action = disabled ?\n        uiSlice.actions.modalLogin() :\n        uiSlice.actions.frameQuickSave();\n    return <SidebarButton\n        class={props.class + (disabled ? \" opacity-50\" : \"\")}\n        frame=\"quick-save\"\n        action={action}\n    >\n        <DisketteIcon />\n        {disabled && <LockBadge />}\n    </SidebarButton>;\n}\n\nexport function FatDrivesButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"fat-drives\"\n        action={uiSlice.actions.frameFatDrives()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n            stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.25 14.25h13.5m-13.5\n                0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3\n                0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062\n                 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0\n                 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008zm-3\n                 6h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function DosboxConfButton(props: { class?: string }) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"editor-conf\"\n        action={uiSlice.actions.frameConf()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\" viewBox=\"0 0 24 24\"\n            stroke-width=\"1.5\"\n            stroke=\"currentColor\"\n            class=\"w-full h-full\">\n            <path stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                d=\"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125\n                0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5\n                3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504\n                 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function FsButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"editor-fs\"\n        action={uiSlice.actions.frameFs()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21.75 17.25v-.228a4.5 4.5\n                0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375\n                3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228m19.5 0a3 3\n                0 01-3 3H5.25a3 3 0 01-3-3m19.5 0a3 3 0 00-3-3H5.25a3 3 0 00-3 3m16.5\n                0h.008v.008h-.008v-.008zm-3 0h.008v.008h-.008v-.008z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function CyclesButton() {\n    const cycles = Math.round(useSelector((state: State) => state.dos.stats.cyclesPerMs) / 1000);\n    return <SidebarButton\n        class=\"cycles\"\n        frame=\"stats\"\n        action={uiSlice.actions.frameStats()}>\n        {cycles <= 0 && <><span>~</span><sup>KC</sup></>}\n        {cycles > 0 && cycles <= 1000 && <><span>{cycles}</span><sup>KC</sup></>}\n        {cycles > 0 && cycles > 1000 && <><span>{Math.round(cycles / 1000)}</span><sup><strong>K</strong>KC</sup></>}\n    </SidebarButton>;\n}\n\nexport function HddLed(props: {}) {\n    const store: Store = useStore();\n    const ref = useRef<HTMLDivElement>(null);\n    const [state] = useState<{\n        recv: number, enabled: boolean, delayLedTo: number,\n    }>({ recv: 0, enabled: false, delayLedTo: 0 });\n\n    useEffect(() => {\n        if (ref.current) {\n            const el = ref.current;\n            el.classList.add(\"bg-base-300\");\n\n            const id = setInterval(() => {\n                if (state.delayLedTo <= Date.now()) {\n                    const newRecv = store.getState().dos.stats.driveRecv;\n                    const newEnabled = state.recv !== newRecv;\n                    if (newEnabled !== state.enabled) {\n                        el.classList.remove(\"bg-base-300\", \"bg-green-300\", \"animate-led\");\n                        if (newEnabled) {\n                            el.classList.add(\"bg-green-300\", \"animate-led\");\n                        } else {\n                            el.classList.add(\"bg-base-300\");\n                        }\n                        state.enabled = newEnabled;\n                    }\n\n                    if (newEnabled) {\n                        state.delayLedTo = Date.now() + 300 + Math.random() * 1500;\n                    } else {\n                        state.delayLedTo = 0;\n                    }\n\n                    state.recv = newRecv;\n                }\n            }, 150);\n\n            return () => {\n                el.classList.remove(\"bg-base-300\", \"bg-green-300\", \"animate-led\");\n                clearInterval(id);\n            };\n        }\n    }, [ref, state]);\n    const [on, setOn] = useState<boolean>(false);\n    const [off, setOff] = useState<{ recv: number, timeoutId: number | null }>({\n        recv: 0,\n        timeoutId: null,\n    });\n    const statsRecv = useSelector((state: State) => state.dos.stats.driveRecv);\n    if (off.recv !== statsRecv) {\n        if (!on) {\n            setOn(true);\n        }\n\n        if (off.timeoutId) {\n            clearTimeout(off.timeoutId);\n        }\n\n        const id = setTimeout(() => {\n            setOn(false);\n            setOff({\n                recv: statsRecv,\n                timeoutId: null,\n            });\n        }, 1000);\n\n        setOff({\n            recv: statsRecv,\n            timeoutId: id,\n        });\n    }\n    return <div ref={ref} class=\"self-end mr-2 -mt-3 w-2 h-1\"></div>;\n}\n\nexport function SettingsButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        action={uiSlice.actions.frameSettings()}\n        frame=\"settings\">\n\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55\n                0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257\n                1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26\n                1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010\n                .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298\n                2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0\n                01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55\n                0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0\n                01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0\n                01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932\n                6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0\n                01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072\n                1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n\n    </SidebarButton >;\n}\n\nexport function SidebarButton(props: {\n    class?: string,\n    frame: Frame,\n    action: AnyAction,\n    children: any\n}) {\n    const hightlight = useSelector((state: State) => state.ui.frame) === props.frame;\n    const dispatch = useDispatch();\n\n    function onClick() {\n        if (hightlight) {\n            dispatch(uiSlice.actions.frameNone());\n        } else {\n            dispatch(props.action);\n        }\n    }\n\n    return <div class={\"sidebar-button \" + (hightlight ? \"sidebar-highlight \" : \"\") +\n        props.class} onClick={onClick}>\n        {props.children}\n    </div>;\n}\n\nexport function SoftKeyboardButton(props: {\n    class?: string,\n}) {\n    const softKeyboard = useSelector((state: State) => state.dos.softKeyboard);\n    const dispatch = useDispatch();\n\n    /* eslint-disable max-len */\n    return <div class={\"sidebar-button \" + (softKeyboard ? \"sidebar-highlight \" : \"\") +\n        props.class} onClick={() => dispatch(dosSlice.actions.softKeyboard(!softKeyboard))}>\n        <svg class=\"w-full h-full\" fill=\"currentColor\" stroke=\"currentColor\" version=\"1.1\" id=\"Layer_1\" viewBox=\"0 0 507.9 507.9\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <g> <g> <path d=\"M465.7,140.75H268.1v-77.3c0-7.8-6.3-14.1-14.1-14.1c-7.8,0-14.1,6.3-14.1,14.1v77.3H42.3c-23.3,0-42.3,19-42.3,42.3 v233.2c0,23.3,19,42.3,42.3,42.3h423.3c23.3,0,42.3-19,42.3-42.3v-233.2C508,159.75,489,140.75,465.7,140.75z M465.7,430.35H42.3 c-7.8,0-14.1-6.3-14.1-14.1v-233.2c0-7.8,6.3-14.1,14.1-14.1h423.3c7.8,0,14.1,6.3,14.1,14.1v233.2h0.1 C479.8,424.05,473.5,430.35,465.7,430.35z\"></path> </g> </g> <g> <g> <path d=\"M440.6,194.05h-85.4c-7.8,0-14.1,6.3-14.1,14.1s6.3,14.1,14.1,14.1h85.4c7.8,0,14.1-6.3,14.1-14.1 C454.7,200.35,448.4,194.05,440.6,194.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,377.05H67.4c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95,383.35,88.7,377.05,80.9,377.05z\"></path> </g> </g> <g> <g> <path d=\"M303.3,377.05H141.6c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h161.8c7.8,0,14.1-6.3,14.1-14.1 C317.5,383.35,311.1,377.05,303.3,377.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,255.05H67.4c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95.1,261.35,88.7,255.05,80.9,255.05z\"></path> </g> </g> <g> <g> <path d=\"M152.8,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.4,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C166.9,261.35,160.6,255.05,152.8,255.05z\"></path> </g> </g> <g> <g> <path d=\"M224.8,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C238.9,261.35,232.6,255.05,224.8,255.05z\"></path> </g> </g> <g> <g> <path d=\"M296.7,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C310.8,261.35,304.5,255.05,296.7,255.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,194.05H67.4c-7.8,0-14.1,6.3-14.1,14.1s6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95.1,200.35,88.7,194.05,80.9,194.05z\"></path> </g> </g> <g> <g> <path d=\"M152.8,194.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.4,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C166.9,200.35,160.6,194.05,152.8,194.05z\"></path> </g> </g> <g> <g> <path d=\"M224.8,194.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C238.9,200.35,232.6,194.05,224.8,194.05z\"></path> </g> </g> <g> <g> <path d=\"M296.7,194.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C310.8,200.35,304.5,194.05,296.7,194.05z\"></path> </g> </g> <g> <g> <path d=\"M368.7,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C382.8,261.35,376.4,255.05,368.7,255.05z\"></path> </g> </g> <g> <g> <path d=\"M440.6,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C454.7,261.35,448.4,255.05,440.6,255.05z\"></path> </g> </g> <g> <g> <path d=\"M368.7,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C382.8,322.35,376.4,316.05,368.7,316.05z\"></path> </g> </g> <g> <g> <path d=\"M440.6,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C454.7,322.35,448.4,316.05,440.6,316.05z\"></path> </g> </g> <g> <g> <path d=\"M368.7,377.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C382.8,383.35,376.4,377.05,368.7,377.05z\"></path> </g> </g> <g> <g> <path d=\"M440.6,377.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C454.7,383.35,448.4,377.05,440.6,377.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,316.05H67.4c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95.1,322.35,88.7,316.05,80.9,316.05z\"></path> </g> </g> <g> <g> <path d=\"M152.8,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.4,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C166.9,322.35,160.6,316.05,152.8,316.05z\"></path> </g> </g> <g> <g> <path d=\"M224.8,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C238.9,322.35,232.6,316.05,224.8,316.05z\"></path> </g> </g> <g> <g> <path d=\"M296.7,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C310.8,322.35,304.5,316.05,296.7,316.05z\"></path> </g> </g> </g></svg>\n    </div>;\n    /* eslint-enable max-len */\n}\n\nexport function PreRunButton(props: { class?: string }) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"prerun\"\n        action={uiSlice.actions.framePreRun()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55\n                0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257\n                1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26\n                1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010\n                .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298\n                2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0\n                01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55\n                0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0\n                01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0\n                01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932\n                6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0\n                01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072\n                1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n    </SidebarButton>;\n}\n","function initBind() {\n    const isMobile = /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion) ||\n                /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.userAgent) ||\n                (/MacIntel/.test(navigator.platform) && navigator.maxTouchPoints && navigator.maxTouchPoints > 2);\n    const isTouch = isMobile && !!(\"ontouchstart\" in window);\n    const isPointer = isMobile && (window.PointerEvent ? true : false);\n    const isMSPointer = isMobile && ((window as any).MSPointerEvent ? true : false);\n    let canLock = !isMobile;\n\n    const starters: string[] = [];\n    const changers: string[] = [];\n    const enders: string[] = [];\n    const leavers: string[] = [];\n    const prevents: string[] = [];\n\n    if (isPointer) {\n        starters.push(\"pointerdown\");\n        enders.push(\"pointerup\", \"pointercancel\");\n        changers.push(\"pointermove\");\n        prevents.push(\"touchstart\", \"touchmove\", \"touchend\");\n    } else if (isMSPointer) {\n        starters.push(\"MSPointerDown\");\n        changers.push(\"MSPointerMove\");\n        enders.push(\"MSPointerUp\");\n    } else if (isTouch) {\n        canLock = false;\n        starters.push(\"touchstart\", \"mousedown\");\n        changers.push(\"touchmove\");\n        enders.push(\"touchend\", \"touchcancel\", \"mouseup\");\n    } else {\n        starters.push(\"mousedown\");\n        changers.push(\"mousemove\");\n        enders.push(\"mouseup\");\n        leavers.push(\"mouseleave\");\n    }\n\n    return {\n        mobile: isMobile,\n        canLock,\n        starters,\n        changers,\n        enders,\n        prevents,\n        leavers,\n    };\n}\n\nexport interface PointerState {\n    x: number,\n    y: number,\n    mX: number,\n    mY: number,\n    button?: number,\n}\n\nexport function getPointerState(e: Event, el: HTMLElement): PointerState {\n    if (e.type.match(/^touch/)) {\n        const evt = e as TouchEvent;\n        const rect = el.getBoundingClientRect();\n        return {\n            x: evt.targetTouches[0].clientX - rect.x,\n            y: evt.targetTouches[0].clientY - rect.y,\n            mX: 0,\n            mY: 0,\n        };\n    } else if (e.type.match(/^pointer/)) {\n        const evt = e as PointerEvent;\n        return {\n            x: evt.offsetX,\n            y: evt.offsetY,\n            mX: evt.movementX,\n            mY: evt.movementY,\n        };\n    } else {\n        const evt = e as MouseEvent;\n        return {\n            x: evt.offsetX,\n            y: evt.offsetY,\n            mX: evt.movementX,\n            mY: evt.movementY,\n            button: evt.button === 0 ? 0 : 1,\n        };\n    }\n}\n\nexport const pointer = initBind();\n\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { AccountButton } from \"./account-button\";\nimport { FullscreenButton } from \"./fullscreen-button\";\nimport { NetworkButton } from \"./network-button\";\nimport { CloudSaveButton } from \"./cloud-save-button\";\nimport {\n    DosboxConfButton, SettingsButton, CyclesButton, FsButton,\n    FatDrivesButton, QuickSaveButton, ImageRenderingButton, HddLed,\n    SoftKeyboardButton,\n    PreRunButton,\n} from \"./sidebar-button\";\nimport { pointer } from \"../window/dos/controls/mouse/pointer\";\n\nexport function SideBar(props: {}) {\n    const window = useSelector((state: State) => state.ui.window);\n    const editor = useSelector((state: State) => state.ui.editor);\n    const backend = useSelector((state: State) => state.dos.backend);\n    const kiosk = useSelector((state: State) => state.ui.kiosk);\n    const networking = !useSelector((state: State) => state.ui.noNetworking);\n    const cloud = !useSelector((state: State) => state.ui.noCloud);\n\n    if (kiosk) {\n        return null;\n    }\n\n    return <div class=\"sidebar\">\n        {window === \"run\" && backend === \"dosbox\" && <CloudSaveButton />}\n        {window === \"run\" && backend === \"dosboxX\" && <QuickSaveButton />}\n        {window === \"run\" && pointer.mobile && <SoftKeyboardButton />}\n        {window === \"run\" && <ImageRenderingButton />}\n        {window === \"run\" && networking && <NetworkButton />}\n        {editor && window === \"prerun\" && <DosboxConfButton />}\n        {editor && window === \"prerun\" && backend === \"dosboxX\" && <FatDrivesButton />}\n        {editor && window === \"run\" && <FsButton />}\n        <div class=\"contentbar\"></div>\n        {window === \"run\" && <FullscreenButton />}\n        {window === \"run\" && <CyclesButton />}\n        {window === \"run\" && <HddLed />}\n        {window === \"prerun\" && <PreRunButton />}\n        {window === \"run\" && <SettingsButton />}\n        {window !== \"run\" && cloud && <AccountButton />}\n    </div>;\n};\n","/* eslint-disable camelcase */\n\nexport const KBD_NONE = 0;\nexport const KBD_0 = 48;\nexport const KBD_1 = 49;\nexport const KBD_2 = 50;\nexport const KBD_3 = 51;\nexport const KBD_4 = 52;\nexport const KBD_5 = 53;\nexport const KBD_6 = 54;\nexport const KBD_7 = 55;\nexport const KBD_8 = 56;\nexport const KBD_9 = 57;\nexport const KBD_a = 65;\nexport const KBD_b = 66;\nexport const KBD_c = 67;\nexport const KBD_d = 68;\nexport const KBD_e = 69;\nexport const KBD_f = 70;\nexport const KBD_g = 71;\nexport const KBD_h = 72;\nexport const KBD_i = 73;\nexport const KBD_j = 74;\nexport const KBD_k = 75;\nexport const KBD_l = 76;\nexport const KBD_m = 77;\nexport const KBD_n = 78;\nexport const KBD_o = 79;\nexport const KBD_p = 80;\nexport const KBD_q = 81;\nexport const KBD_r = 82;\nexport const KBD_s = 83;\nexport const KBD_t = 84;\nexport const KBD_u = 85;\nexport const KBD_v = 86;\nexport const KBD_w = 87;\nexport const KBD_x = 88;\nexport const KBD_y = 89;\nexport const KBD_z = 90;\nexport const KBD_f1 = 290;\nexport const KBD_f2 = 291;\nexport const KBD_f3 = 292;\nexport const KBD_f4 = 293;\nexport const KBD_f5 = 294;\nexport const KBD_f6 = 295;\nexport const KBD_f7 = 296;\nexport const KBD_f8 = 297;\nexport const KBD_f9 = 298;\nexport const KBD_f10 = 299;\nexport const KBD_f11 = 300;\nexport const KBD_f12 = 301;\n\nexport const KBD_kp0 = 320;\nexport const KBD_kp1 = 321;\nexport const KBD_kp2 = 322;\nexport const KBD_kp3 = 323;\nexport const KBD_kp4 = 324;\nexport const KBD_kp5 = 325;\nexport const KBD_kp6 = 326;\nexport const KBD_kp7 = 327;\nexport const KBD_kp8 = 328;\nexport const KBD_kp9 = 329;\n\nexport const KBD_kpperiod = 330;\nexport const KBD_kpdivide = 331;\nexport const KBD_kpmultiply = 332;\nexport const KBD_kpminus = 333;\nexport const KBD_kpplus = 334;\nexport const KBD_kpenter = 335;\n\nexport const KBD_esc = 256;\nexport const KBD_tab = 258;\nexport const KBD_backspace = 259;\nexport const KBD_enter = 257;\nexport const KBD_space = 32;\nexport const KBD_leftalt = 342;\nexport const KBD_rightalt = 346;\nexport const KBD_leftctrl = 341;\nexport const KBD_rightctrl = 345;\nexport const KBD_leftshift = 340;\nexport const KBD_rightshift = 344;\nexport const KBD_capslock = 280;\nexport const KBD_scrolllock = 281;\nexport const KBD_numlock = 282;\nexport const KBD_grave = 96;\nexport const KBD_minus = 45;\nexport const KBD_equals = 61;\nexport const KBD_backslash = 92;\nexport const KBD_leftbracket = 91;\nexport const KBD_rightbracket = 93;\nexport const KBD_semicolon = 59;\nexport const KBD_quote = 39;\nexport const KBD_period = 46;\nexport const KBD_comma = 44;\nexport const KBD_slash = 47;\nexport const KBD_printscreen = 283;\nexport const KBD_pause = 284;\nexport const KBD_insert = 260;\nexport const KBD_home = 268;\nexport const KBD_pageup = 266;\nexport const KBD_delete = 261;\nexport const KBD_end = 269;\nexport const KBD_pagedown = 267;\nexport const KBD_left = 263;\nexport const KBD_up = 265;\nexport const KBD_down = 264;\nexport const KBD_right = 262;\nexport const KBD_extra_lt_gt = 348; // ???\n\nexport const domToKeyCodes: {[index: number]: number} = {\n    8: KBD_backspace,\n    9: KBD_tab,\n    13: KBD_enter,\n    16: KBD_leftshift,\n    17: KBD_leftctrl,\n    18: KBD_leftalt,\n    19: KBD_pause,\n    27: KBD_esc,\n    32: KBD_space,\n    33: KBD_pageup,\n    34: KBD_pagedown,\n    35: KBD_end,\n    36: KBD_home,\n    37: KBD_left,\n    38: KBD_up,\n    39: KBD_right,\n    40: KBD_down,\n    45: KBD_insert,\n    46: KBD_delete,\n    48: KBD_0,\n    49: KBD_1,\n    50: KBD_2,\n    51: KBD_3,\n    52: KBD_4,\n    53: KBD_5,\n    54: KBD_6,\n    55: KBD_7,\n    56: KBD_8,\n    57: KBD_9,\n    59: KBD_semicolon,\n    64: KBD_equals,\n    65: KBD_a,\n    66: KBD_b,\n    67: KBD_c,\n    68: KBD_d,\n    69: KBD_e,\n    70: KBD_f,\n    71: KBD_g,\n    72: KBD_h,\n    73: KBD_i,\n    74: KBD_j,\n    75: KBD_k,\n    76: KBD_l,\n    77: KBD_m,\n    78: KBD_n,\n    79: KBD_o,\n    80: KBD_p,\n    81: KBD_q,\n    82: KBD_r,\n    83: KBD_s,\n    84: KBD_t,\n    85: KBD_u,\n    86: KBD_v,\n    87: KBD_w,\n    88: KBD_x,\n    89: KBD_y,\n    90: KBD_z,\n    91: KBD_leftbracket,\n    93: KBD_rightbracket,\n    96: KBD_kp0,\n    97: KBD_kp1,\n    98: KBD_kp2,\n    99: KBD_kp3,\n    100: KBD_kp4,\n    101: KBD_kp5,\n    102: KBD_kp6,\n    103: KBD_kp7,\n    104: KBD_kp8,\n    105: KBD_kp9,\n    // 106: KBD_kpmultiply,\n    // 107: KBD_kpadd,\n    // 109: KBD_kpsubtract,\n    // 110: KBD_kpdecimal,\n    111: KBD_kpdivide,\n    112: KBD_f1,\n    113: KBD_f2,\n    114: KBD_f3,\n    115: KBD_f4,\n    116: KBD_f5,\n    117: KBD_f6,\n    118: KBD_f7,\n    119: KBD_f8,\n    120: KBD_f9,\n    121: KBD_f10,\n    122: KBD_f11,\n    123: KBD_f12,\n    144: KBD_numlock,\n    145: KBD_scrolllock,\n    173: KBD_minus,\n    186: KBD_semicolon,\n    187: KBD_equals,\n    188: KBD_comma,\n    189: KBD_minus,\n    190: KBD_period,\n    191: KBD_slash,\n    // 192: KBD_graveaccent,\n    219: KBD_leftbracket,\n    220: KBD_backslash,\n    221: KBD_rightbracket,\n    // 222: KBD_apostrophe,\n    // 224: KBD_left_super,\n};\n\nexport const namedKeyCodes: {[name: string]: number} = {\n    \"KBD_NONE\": KBD_NONE,\n    \"KBD_0\": KBD_0,\n    \"KBD_1\": KBD_1,\n    \"KBD_2\": KBD_2,\n    \"KBD_3\": KBD_3,\n    \"KBD_4\": KBD_4,\n    \"KBD_5\": KBD_5,\n    \"KBD_6\": KBD_6,\n    \"KBD_7\": KBD_7,\n    \"KBD_8\": KBD_8,\n    \"KBD_9\": KBD_9,\n    \"KBD_a\": KBD_a,\n    \"KBD_b\": KBD_b,\n    \"KBD_c\": KBD_c,\n    \"KBD_d\": KBD_d,\n    \"KBD_e\": KBD_e,\n    \"KBD_f\": KBD_f,\n    \"KBD_g\": KBD_g,\n    \"KBD_h\": KBD_h,\n    \"KBD_i\": KBD_i,\n    \"KBD_j\": KBD_j,\n    \"KBD_k\": KBD_k,\n    \"KBD_l\": KBD_l,\n    \"KBD_m\": KBD_m,\n    \"KBD_n\": KBD_n,\n    \"KBD_o\": KBD_o,\n    \"KBD_p\": KBD_p,\n    \"KBD_q\": KBD_q,\n    \"KBD_r\": KBD_r,\n    \"KBD_s\": KBD_s,\n    \"KBD_t\": KBD_t,\n    \"KBD_u\": KBD_u,\n    \"KBD_v\": KBD_v,\n    \"KBD_w\": KBD_w,\n    \"KBD_x\": KBD_x,\n    \"KBD_y\": KBD_y,\n    \"KBD_z\": KBD_z,\n    \"KBD_f1\": KBD_f1,\n    \"KBD_f2\": KBD_f2,\n    \"KBD_f3\": KBD_f3,\n    \"KBD_f4\": KBD_f4,\n    \"KBD_f5\": KBD_f5,\n    \"KBD_f6\": KBD_f6,\n    \"KBD_f7\": KBD_f7,\n    \"KBD_f8\": KBD_f8,\n    \"KBD_f9\": KBD_f9,\n    \"KBD_f10\": KBD_f10,\n    \"KBD_f11\": KBD_f11,\n    \"KBD_f12\": KBD_f12,\n\n    \"KBD_kp0\": KBD_kp0,\n    \"KBD_kp1\": KBD_kp1,\n    \"KBD_kp2\": KBD_kp2,\n    \"KBD_kp3\": KBD_kp3,\n    \"KBD_kp4\": KBD_kp4,\n    \"KBD_kp5\": KBD_kp5,\n    \"KBD_kp6\": KBD_kp6,\n    \"KBD_kp7\": KBD_kp7,\n    \"KBD_kp8\": KBD_kp8,\n    \"KBD_kp9\": KBD_kp9,\n\n    \"KBD_kpperiod\": KBD_kpperiod,\n    \"KBD_kpdivide\": KBD_kpdivide,\n    \"KBD_kpmultiply\": KBD_kpmultiply,\n    \"KBD_kpminus\": KBD_kpminus,\n    \"KBD_kpplus\": KBD_kpplus,\n    \"KBD_kpenter\": KBD_kpenter,\n\n    \"KBD_esc\": KBD_esc,\n    \"KBD_tab\": KBD_tab,\n    \"KBD_backspace\": KBD_backspace,\n    \"KBD_enter\": KBD_enter,\n    \"KBD_space\": KBD_space,\n    \"KBD_leftalt\": KBD_leftalt,\n    \"KBD_rightalt\": KBD_rightalt,\n    \"KBD_leftctrl\": KBD_leftctrl,\n    \"KBD_rightctrl\": KBD_rightctrl,\n    \"KBD_leftshift\": KBD_leftshift,\n    \"KBD_rightshift\": KBD_rightshift,\n    \"KBD_capslock\": KBD_capslock,\n    \"KBD_scrolllock\": KBD_scrolllock,\n    \"KBD_numlock\": KBD_numlock,\n    \"KBD_grave\": KBD_grave,\n    \"KBD_minus\": KBD_minus,\n    \"KBD_equals\": KBD_equals,\n    \"KBD_backslash\": KBD_backslash,\n    \"KBD_leftbracket\": KBD_leftbracket,\n    \"KBD_rightbracket\": KBD_rightbracket,\n    \"KBD_semicolon\": KBD_semicolon,\n    \"KBD_quote\": KBD_quote,\n    \"KBD_period\": KBD_period,\n    \"KBD_comma\": KBD_comma,\n    \"KBD_slash\": KBD_slash,\n    \"KBD_printscreen\": KBD_printscreen,\n    \"KBD_pause\": KBD_pause,\n    \"KBD_insert\": KBD_insert,\n    \"KBD_home\": KBD_home,\n    \"KBD_pageup\": KBD_pageup,\n    \"KBD_delete\": KBD_delete,\n    \"KBD_end\": KBD_end,\n    \"KBD_pagedown\": KBD_pagedown,\n    \"KBD_left\": KBD_left,\n    \"KBD_up\": KBD_up,\n    \"KBD_down\": KBD_down,\n    \"KBD_right\": KBD_right,\n    \"KBD_extra_lt_gt\": KBD_extra_lt_gt,\n};\n\nexport const keyCodesToDom: {[index: number]: number} = {};\nfor (const next of Object.keys(domToKeyCodes)) {\n    const key = Number.parseInt(next, 10);\n    keyCodesToDom[domToKeyCodes[key]] = key;\n}\n\nexport function domToKeyCode(domCode: number) {\n    return domToKeyCodes[domCode] || 0;\n}\n","import { FitConstant } from \"../../../store/dos\";\n\nexport function resizeCanvas(canvas: HTMLCanvasElement,\n                             frameWidth: number,\n                             frameHeight: number,\n                             forceAspect?: number) {\n    const rect = canvas.parentElement!.getBoundingClientRect();\n    const containerWidth = rect.width;\n    const containerHeight = rect.height;\n\n    if (frameHeight === 0) {\n        return;\n    }\n    const aspect =\n        forceAspect === FitConstant ? (containerWidth / containerHeight) :\n            (forceAspect ?? (frameWidth / frameHeight));\n\n    let width = containerWidth;\n    let height = containerWidth / aspect;\n\n    if (height > containerHeight) {\n        height = containerHeight;\n        width = containerHeight * aspect;\n    }\n\n    canvas.style.position = \"relative\";\n    canvas.style.top = (containerHeight - height) / 2 + \"px\";\n    canvas.style.left = (containerWidth - width) / 2 + \"px\";\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n};\n","import { CommandInterface } from \"emulators\";\nimport { resizeCanvas } from \"./resize\";\n\nconst vsSource = `\nattribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main(void) {\n  gl_Position = aVertexPosition;\n  vTextureCoord = aTextureCoord;\n}\n`;\n\nconst fsSource = `\nvarying highp vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\n\nvoid main(void) {\n  highp vec4 color = texture2D(uSampler, vTextureCoord);\n  gl_FragColor = vec4(color.r, color.g, color.b, 1.0);\n}\n`;\n\nexport function webGl(canvas: HTMLCanvasElement,\n                      ci: CommandInterface,\n                      forceAspect?: number) {\n    const gl = canvas.getContext(\"webgl\");\n    if (gl === null) {\n        throw new Error(\"Unable to create webgl context on given canvas\");\n    }\n\n    const shaderProgram = initShaderProgram(gl, vsSource, fsSource);\n    const vertexPosition = gl.getAttribLocation(shaderProgram, \"aVertexPosition\");\n    const textureCoord = gl.getAttribLocation(shaderProgram, \"aTextureCoord\");\n    const uSampler = gl.getUniformLocation(shaderProgram, \"uSampler\");\n\n    initBuffers(gl, vertexPosition, textureCoord);\n\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n    const pixel = new Uint8Array([0, 0, 0]);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB,\n        1, 1, 0, gl.RGB, gl.UNSIGNED_BYTE,\n        pixel);\n\n    gl.useProgram(shaderProgram);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.uniform1i(uSampler, 0);\n\n    let frameWidth = 0;\n    let frameHeight = 0;\n\n    let requestAnimationFrameId: number | null = null;\n    let frame: Uint8Array | null = null;\n    let frameFormat: number = 0;\n\n    const updateTexture = () => {\n        if (frame !== null) {\n            gl.texImage2D(gl.TEXTURE_2D, 0, frameFormat,\n                frameWidth, frameHeight, 0, frameFormat, gl.UNSIGNED_BYTE,\n                frame);\n            frame = null;\n        }\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n        requestAnimationFrameId = null;\n    };\n\n    const onResize = () => {\n        resizeCanvas(canvas, frameWidth, frameHeight, forceAspect);\n    };\n\n    const onResizeFrame = (w: number, h: number) => {\n        frameWidth = w;\n        frameHeight = h;\n        canvas.width = frameWidth;\n        canvas.height = frameHeight;\n        frame = null;\n        gl.viewport(0, 0, frameWidth, frameHeight);\n        onResize();\n    };\n\n    ci.events().onFrameSize(onResizeFrame);\n    ci.events().onFrame((rgb, rgba) => {\n        frame = rgb != null ? rgb : rgba;\n        frameFormat = rgb != null ? gl.RGB : gl.RGBA;\n        if (requestAnimationFrameId === null) {\n            requestAnimationFrameId = requestAnimationFrame(updateTexture);\n        }\n    });\n\n    onResizeFrame(ci.width(), ci.height());\n\n    const resizeObserver = new ResizeObserver(onResize);\n    resizeObserver.observe(canvas.parentElement!);\n    window.addEventListener(\"resize\", onResize);\n\n    return () => {\n        ci.events().onFrameSize(() => {});\n        ci.events().onFrame(() => {});\n        resizeObserver.disconnect();\n        window.removeEventListener(\"resize\", onResize);\n    };\n}\n\nfunction initShaderProgram(gl: WebGLRenderingContext, vsSource: string, fsSource: string) {\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vsSource);\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fsSource);\n\n    const shaderProgram = gl.createProgram() as WebGLShader;\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n        throw new Error(\"Unable to initialize the shader program: \" + gl.getProgramInfoLog(shaderProgram));\n    }\n\n    return shaderProgram;\n}\n\nfunction loadShader(gl: WebGLRenderingContext, shaderType: GLenum, source: string) {\n    const shader = gl.createShader(shaderType) as WebGLShader;\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        const info = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"An error occurred compiling the shaders: \" + info);\n    }\n\n    return shader;\n}\n\nfunction initBuffers(gl: WebGLRenderingContext, vertexPosition: number, textureCoord: number) {\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    const positions = [\n        -1.0, -1.0, 0.0,\n        1.0, -1.0, 0.0,\n        1.0, 1.0, 0.0,\n        -1.0, -1.0, 0.0,\n        1.0, 1.0, 0.0,\n        -1.0, 1.0, 0.0,\n    ];\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n    gl.vertexAttribPointer(vertexPosition, 3, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(vertexPosition);\n\n    const textureCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, textureCoordBuffer);\n    const textureCoordinates = [\n        0.0, 1.0,\n        1.0, 1.0,\n        1.0, 0.0,\n        0.0, 1.0,\n        1.0, 0.0,\n        0.0, 0.0,\n    ];\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(textureCoordinates),\n        gl.STATIC_DRAW);\n\n    gl.vertexAttribPointer(textureCoord, 2, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(textureCoord);\n}\n","import { CommandInterface } from \"emulators\";\nimport { resizeCanvas } from \"./resize\";\n\nexport function canvas(canvas: HTMLCanvasElement,\n                       ci: CommandInterface,\n                       forceAspect?: number) {\n    const context = canvas.getContext(\"2d\");\n    if (context === null) {\n        throw new Error(\"Unable to create 2d context on given canvas\");\n    }\n\n    let frameWidth = 0;\n    let frameHeight = 0;\n\n    const onResize = () => {\n        resizeCanvas(canvas, frameWidth, frameHeight, forceAspect);\n    };\n\n    let rgba = new Uint8ClampedArray(0);\n    const onResizeFrame = (w: number, h: number) => {\n        frameWidth = w;\n        frameHeight = h;\n        canvas.width = frameWidth;\n        canvas.height = frameHeight;\n        rgba = new Uint8ClampedArray(w * h * 4);\n        onResize();\n    };\n    ci.events().onFrameSize(onResizeFrame);\n    ci.events().onFrame((frameRgb, frameRgba) => {\n        if (frameRgb === null && frameRgba === null) {\n            return;\n        }\n\n        const frame = (frameRgb !== null ? frameRgb : frameRgba) as Uint8Array;\n\n        let frameOffset = 0;\n        let rgbaOffset = 0;\n\n        while (rgbaOffset < rgba.length) {\n            rgba[rgbaOffset++] = frame[frameOffset++];\n            rgba[rgbaOffset++] = frame[frameOffset++];\n            rgba[rgbaOffset++] = frame[frameOffset++];\n            rgba[rgbaOffset++] = 255;\n\n            if (frame.length === rgba.length) {\n                frameOffset++;\n            }\n        }\n\n        context.putImageData(new ImageData(rgba, frameWidth, frameHeight), 0, 0);\n    });\n\n    onResizeFrame(ci.width(), ci.height());\n\n    const resizeObserver = new ResizeObserver(onResize);\n    resizeObserver.observe(canvas.parentElement!);\n    window.addEventListener(\"resize\", onResize);\n\n    return () => {\n        ci.events().onFrameSize(() => {});\n        ci.events().onFrame(() => {});\n        resizeObserver.disconnect();\n        window.removeEventListener(\"resize\", onResize);\n    };\n}\n","import { CommandInterface } from \"emulators\";\n\nclass SamplesQueue {\n    private samplesQueue: Float32Array[] = [];\n\n    push(samples: Float32Array) {\n        this.samplesQueue.push(samples);\n    }\n\n    length() {\n        let total = 0;\n        for (const next of this.samplesQueue) {\n            total += next.length;\n        }\n        return total;\n    }\n\n    writeTo(dst: Float32Array, bufferSize: number) {\n        let writeIt = 0;\n        while (this.samplesQueue.length > 0) {\n            const src = this.samplesQueue[0];\n            const toRead = Math.min(bufferSize - writeIt, src.length);\n            if (toRead === src.length) {\n                dst.set(src, writeIt);\n                this.samplesQueue.shift();\n            } else {\n                dst.set(src.slice(0, toRead), writeIt);\n                this.samplesQueue[0] = src.slice(toRead);\n            }\n\n            writeIt += toRead;\n\n            if (writeIt === bufferSize) {\n                break;\n            }\n        }\n\n        if (writeIt < bufferSize) {\n            dst.fill(0, writeIt);\n        }\n    }\n}\n\nexport function audioNode(ci: CommandInterface,\n                          bindVolumeFn?: (fn: (volume: number) => void) => () => void) {\n    const sampleRate = ci.soundFrequency();\n    const channels = 1;\n\n    if (sampleRate === 0) {\n        console.warn(\"Can't create audio node with sampleRate === 0, ingnoring\");\n        return () => {};\n    }\n\n    let audioContext: AudioContext | null = null;\n\n    if (typeof AudioContext !== \"undefined\") {\n        audioContext = new AudioContext({\n            sampleRate,\n            latencyHint: \"interactive\",\n        });\n    } else if (typeof (window as any).webkitAudioContext !== \"undefined\") {\n        // eslint-disable-next-line new-cap\n        audioContext = new (window as any).webkitAudioContext({\n            sampleRate,\n            latencyHint: \"interactive\",\n        });\n    }\n\n    if (audioContext == null) {\n        return () => {};\n    }\n\n    const samplesQueue = new SamplesQueue();\n    const bufferSize = 2048;\n    const preBufferSize = 2048;\n\n    ci.events().onSoundPush((samples) => {\n        if (samplesQueue.length() < bufferSize * 2 + preBufferSize) {\n            samplesQueue.push(samples);\n        }\n    });\n\n    const audioNode = audioContext.createScriptProcessor(bufferSize, 0, channels);\n    let started = false;\n\n    const onQueueProcess = (event: AudioProcessingEvent) => {\n        const numFrames = event.outputBuffer.length;\n        const numChannels = event.outputBuffer.numberOfChannels;\n        const samplesCount = samplesQueue.length();\n\n        if (!started) {\n            started = samplesCount >= preBufferSize;\n        }\n\n        if (!started) {\n            return;\n        }\n\n        for (let channel = 0; channel < numChannels; channel++) {\n            const channelData = event.outputBuffer.getChannelData(channel);\n            samplesQueue.writeTo(channelData, numFrames);\n        }\n    };\n\n    audioNode.onaudioprocess = onQueueProcess;\n\n    const gainNode = audioContext.createGain();\n    gainNode.connect(audioContext.destination);\n    audioNode.connect(gainNode);\n\n    gainNode.gain.value = 1.0;\n\n    let unbindVolumeFn: () => void;\n    if (bindVolumeFn) {\n        unbindVolumeFn = bindVolumeFn((volume: number) => {\n            gainNode.gain.value = volume;\n        });\n    }\n\n    const resumeWebAudio = () => {\n        if (audioContext !== null && audioContext.state === \"suspended\") {\n            audioContext.resume();\n        }\n    };\n\n    document.addEventListener(\"pointerdown\", resumeWebAudio, { once: true });\n    document.addEventListener(\"keydown\", resumeWebAudio, { once: true });\n\n    return () => {\n        ci.events().onSoundPush(() => {});\n\n        if (audioContext !== null) {\n            audioNode.disconnect();\n            gainNode.disconnect();\n            audioContext\n                .close()\n                .catch(console.error);\n            audioContext = null;\n        }\n\n        if (unbindVolumeFn !== undefined) {\n            unbindVolumeFn();\n        }\n\n        document.removeEventListener(\"pointerdown\", resumeWebAudio);\n        document.removeEventListener(\"keydown\", resumeWebAudio);\n    };\n}\n","import { pointer, getPointerState } from \"./pointer\";\n\nexport function mount(el: HTMLElement,\n                      onMouseDown: (x: number, y: number, button?: number) => void,\n                      onMouseMove: (x: number, y: number, mX: number, mY: number) => void,\n                      onMouseUp: (x: number, y: number, button?: number) => void,\n                      onMouseLeave: (x: number, y: number) => void) {\n    // eslint-disable-next-line\n    function preventDefaultIfNeeded(e: Event) {\n        // not needed yet\n    }\n\n    const onStart = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseDown(state.x, state.y, state.button);\n\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onChange = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseMove(state.x, state.y, state.mX, state.mY);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onEnd = (e: Event) => {\n        const state = getPointerState(e, el);\n        onMouseUp(state.x, state.y, state.button);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onLeave = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseLeave(state.x, state.y);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const options = {\n        capture: false,\n    };\n\n    for (const next of pointer.starters) {\n        el.addEventListener(next, onStart, options);\n    }\n    for (const next of pointer.changers) {\n        el.addEventListener(next, onChange, options);\n    }\n    for (const next of pointer.enders) {\n        el.addEventListener(next, onEnd, options);\n    }\n    for (const next of pointer.prevents) {\n        el.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.leavers) {\n        el.addEventListener(next, onLeave, options);\n    }\n\n    return () => {\n        for (const next of pointer.starters) {\n            el.removeEventListener(next, onStart, options);\n        }\n        for (const next of pointer.changers) {\n            el.removeEventListener(next, onChange, options);\n        }\n        for (const next of pointer.enders) {\n            el.removeEventListener(next, onEnd, options);\n        }\n        for (const next of pointer.prevents) {\n            el.removeEventListener(next, onPrevent, options);\n        }\n        for (const next of pointer.leavers) {\n            el.removeEventListener(next, onLeave, options);\n        }\n    };\n}\n","import { CommandInterface } from \"emulators\";\nimport { mount } from \"./mount\";\n\nconst insensitivePadding = 1 / 100;\n\nexport function mouseDefault(pointerButton: number,\n                             el: HTMLElement,\n                             ci: CommandInterface) {\n    const mapXY = (x: number, y: number) => doMapXY(x, y, el, ci);\n\n    if (document.pointerLockElement === el) {\n        document.exitPointerLock();\n    }\n\n    function onMouseDown(x: number, y: number, button?: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button ?? pointerButton, true);\n    }\n\n    function onMouseUp(x: number, y: number, button?: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button ?? pointerButton, false);\n    }\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    function onMouseLeave(x: number, y: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    return mount(el, onMouseDown, onMouseMove, onMouseUp, onMouseLeave);\n}\n\nfunction doMapXY(eX: number,\n                 eY: number,\n                 el: HTMLElement,\n                 ci: CommandInterface) {\n    const { width: containerWidth, height: containerHeight } = el.getBoundingClientRect();\n    const frameWidth = ci.width();\n    const frameHeight = ci.height();\n\n    const aspect = frameWidth / frameHeight;\n\n    let width = containerWidth;\n    let height = containerWidth / aspect;\n\n    if (height > containerHeight) {\n        height = containerHeight;\n        width = containerHeight * aspect;\n    }\n\n    const top = (containerHeight - height) / 2;\n    const left = (containerWidth - width) / 2;\n\n    let x = Math.max(0, Math.min(1, (eX - left) / width));\n    let y = Math.max(0, Math.min(1, (eY - top) / height));\n\n    if (x <= insensitivePadding) {\n        x = 0;\n    }\n\n    if (x >= (1 - insensitivePadding)) {\n        x = 1;\n    }\n\n    if (y <= insensitivePadding) {\n        y = 0;\n    }\n\n    if (y >= (1 - insensitivePadding)) {\n        y = 1;\n    }\n\n    return {\n        x,\n        y,\n    };\n}\n","import { CommandInterface } from \"emulators\";\nimport { mount } from \"./mount\";\n\nconst clickDelay = 500;\nconst clickThreshold = 50;\n\nexport function mouseSwipe(sensitivity: number,\n                           pointerButton: number,\n                           el: HTMLElement,\n                           ci: CommandInterface) {\n    let startedAt = -1;\n    let acc = 0;\n    let prevX = 0;\n    let prevY = 0;\n\n    const onMouseDown = (x: number, y: number, mouseButton?: number) => {\n        startedAt = Date.now();\n        acc = 0;\n        prevX = x;\n        prevY = y;\n\n        if (mouseButton !== undefined) {\n            ci.sendMouseButton(mouseButton, true);\n        }\n    };\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        if (mX === undefined) {\n            mX = x - prevX;\n        }\n\n        if (mY === undefined) {\n            mY = y - prevY;\n        }\n\n        prevX = x;\n        prevY = y;\n\n        if (mX === 0 && mY === 0) {\n            return;\n        }\n\n        acc += Math.abs(mX) + Math.abs(mY);\n\n        ci.sendMouseRelativeMotion(mX * sensitivity * 2, mY * sensitivity * 2);\n    }\n\n    const onMouseUp = (x: number, y: number, mouseButton?: number) => {\n        if (mouseButton !== undefined) {\n            ci.sendMouseButton(mouseButton, false);\n        } else {\n            const delay = Date.now() - startedAt;\n\n            if (delay < clickDelay && acc < clickThreshold) {\n                const button = mouseButton ?? pointerButton;\n                ci.sendMouseButton(button, true);\n                setTimeout(() => ci.sendMouseButton(button, false), 60);\n            }\n        }\n    };\n\n    const noop = () => {};\n\n    return mount(el, onMouseDown, onMouseMove, onMouseUp, noop);\n}\n","import { CommandInterface } from \"emulators\";\nimport { mousePointerLock } from \"./mouse/mouse-locked\";\nimport { mouseDefault } from \"./mouse/mouse-not-locked\";\nimport { mouseSwipe } from \"./mouse/mouse-swipe\";\nimport { pointer } from \"./mouse/pointer\";\n\nexport function mouse(lock: boolean,\n                      sensitivity: number,\n                      pointerButton: number,\n                      el: HTMLElement,\n                      ci: CommandInterface) {\n    if (lock && !pointer.canLock) {\n        return mouseSwipe(sensitivity, pointerButton, el, ci);\n    }\n\n    if (lock) {\n        const unlock = mousePointerLock(el);\n        const umount = mouseSwipe(sensitivity, pointerButton, el, ci);\n\n        return () => {\n            umount();\n            unlock();\n        };\n    }\n\n    return mouseDefault(pointerButton, el, ci);\n}\n","import { pointer } from \"./pointer\";\n\nexport function mousePointerLock(el: HTMLElement) {\n    function requestLock() {\n        if (document.pointerLockElement !== el) {\n            const requestPointerLock = el.requestPointerLock ||\n                (el as any).mozRequestPointerLock ||\n                (el as any).webkitRequestPointerLock;\n\n            requestPointerLock.call(el);\n\n            return;\n        }\n    }\n\n    const options = {\n        capture: true,\n    };\n\n    for (const next of pointer.starters) {\n        el.addEventListener(next, requestLock, options);\n    }\n\n    return () => {\n        for (const next of pointer.starters) {\n            el.removeEventListener(next, requestLock, options);\n        }\n    };\n}\n","import { pointer } from \"../../window/dos/controls/mouse/pointer\";\n\nexport function createDiv(className: string, innerHtml?: string) {\n    const el = document.createElement(\"div\");\n    el.className = className;\n    if (innerHtml !== undefined) {\n        el.innerHTML = innerHtml;\n    }\n    return el;\n}\n\nexport function stopPropagation(el: HTMLElement, preventDefault = true) {\n    const onStop = (e: Event) => {\n        e.stopPropagation();\n    };\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        if (preventDefault) {\n            e.preventDefault();\n        }\n    };\n    const options = {\n        capture: false,\n    };\n    for (const next of pointer.starters) {\n        el.addEventListener(next, onStop, options);\n    }\n    for (const next of pointer.enders) {\n        el.addEventListener(next, onStop, options);\n    }\n    for (const next of pointer.prevents) {\n        el.addEventListener(next, onPrevent, options);\n    }\n}\n","import { createDiv } from \"./helpers\";\n\n// eslint-disable-next-line\nexport interface LayersOptions {\n    optionControls?: string[];\n}\n\nexport class Layers {\n    options: LayersOptions;\n    root: HTMLDivElement;\n    canvas: HTMLCanvasElement;\n    mouseOverlay: HTMLDivElement;\n    width: number;\n    height: number;\n    keyboardVisible = false;\n    pointerLock = false;\n    pointerDisabled = false;\n    pointerButton: 0 | 1 = 0;\n\n    toggleKeyboard: () => void;\n\n    private onResize: ((width: number, height: number) => void)[];\n\n    private onKeyDown: (keyCode: number) => void;\n    private onKeyUp: (keyCode: number) => void;\n    private onKeyPress: (keyCode: number) => void;\n    private onKeysPress: (keyCodes: number[]) => void;\n\n    // eslint-disable-next-line\n    constructor(root: HTMLDivElement, canvas: HTMLCanvasElement, toggleKeyboard: () => void, options: LayersOptions) {\n        this.toggleKeyboard = toggleKeyboard;\n        this.options = options;\n        this.root = root;\n        this.root.classList.add(\"emulator-root\");\n\n        this.canvas = canvas;\n        this.canvas.className = \"emulator-canvas\";\n        this.mouseOverlay = createMouseOverlayLayer();\n\n        this.root.appendChild(this.mouseOverlay);\n\n        this.width = root.offsetWidth;\n        this.height = root.offsetHeight;\n\n        this.onResize = [];\n        this.onKeyDown = () => {/**/};\n        this.onKeyUp = () => {/**/};\n        this.onKeyPress = () => {/**/};\n        this.onKeysPress = () => {/**/};\n\n        new ResizeObserver((entries) => {\n            for (const e of entries) {\n                if (e.target === root) {\n                    this.width = e.contentRect.width;\n                    this.height = e.contentRect.height;\n                    for (const next of this.onResize) {\n                        next(this.width, this.height);\n                    }\n                }\n            }\n        }).observe(this.root);\n    }\n\n    addOnResize(handler: (width: number, height: number) => void) {\n        this.onResize.push(handler);\n    }\n\n    removeOnResize(handler: (width: number, height: number) => void) {\n        this.onResize = this.onResize.filter((n) => n !== handler);\n    }\n\n    setOnKeyDown(handler: (keyCode: number) => void) {\n        this.onKeyDown = handler;\n    }\n\n    fireKeyDown(keyCode: number) {\n        this.onKeyDown(keyCode);\n    }\n\n    setOnKeyUp(handler: (keyCode: number) => void) {\n        this.onKeyUp = handler;\n    }\n\n    fireKeyUp(keyCode: number) {\n        this.onKeyUp(keyCode);\n    }\n\n    setOnKeyPress(handler: (keyCode: number) => void) {\n        this.onKeyPress = handler;\n    }\n\n    fireKeyPress(keyCode: number) {\n        this.onKeyPress(keyCode);\n    }\n\n    setOnKeysPress(handler: (keyCodes: number[]) => void) {\n        this.onKeysPress = handler;\n    }\n\n\n    fireKeysPress(keyCodes: number[]) {\n        this.onKeysPress(keyCodes);\n    }\n}\n\nfunction createMouseOverlayLayer() {\n    return createDiv(\"emulator-mouse-overlay\", \"\");\n}\n","import { Button } from \"./button\";\nimport { EventMapping } from \"./nipple\";\nimport { Mapper } from \"./keyboard\";\n\nimport { GridType } from \"./grid\";\n\nexport type LayerControlType =\n    \"Options\" | \"Key\" | \"Keyboard\" |\n    \"Switch\" | \"ScreenMove\" |\n    \"PointerButton\" | \"NippleActivator\";\n\nexport interface LayerPosition {\n    column: number;\n    row: number;\n}\n\nexport interface LayerControl extends LayerPosition {\n    type: LayerControlType,\n    symbol: string;\n}\n\nexport interface LayerKeyControl extends LayerControl {\n    mapTo: number[];\n}\n\nexport interface LayerSwitchControl extends LayerControl {\n    layerName: string,\n}\n\nexport interface LayerScreenMoveControl extends LayerControl {\n    direction: \"up\" | \"down\" | \"left\" | \"right\" |\n        \"up-left\" | \"up-right\" | \"down-left\" | \"down-right\";\n}\n\nexport interface LayerPointerButtonControl extends LayerControl {\n    button: 0 | 1;\n    click: boolean;\n}\n\n// eslint-disable-next-line\nexport interface LayerNippleActivatorControl extends LayerControl {\n}\n\n// eslint-disable-next-line\nexport interface LayerPointerResetControl extends LayerControl {\n}\n\n// eslint-disable-next-line\nexport interface LayerPointerToggleControl extends LayerControl {\n}\n\nexport interface LayerPointerMoveControl extends LayerControl {\n    x: number;\n    y: number;\n}\n\n\nexport interface LayerConfig {\n    grid: GridType,\n    title: string,\n    controls: LayerControl[],\n}\n\nexport interface LayersConfig {\n    version: number,\n    layers: LayerConfig[],\n}\n\n\nexport interface LegacyLayerConfig {\n    name: string,\n    buttons: Button[],\n    gestures: EventMapping[],\n    mapper: Mapper,\n}\n\nexport type LegacyLayersConfig = {[index: string]: LegacyLayerConfig};\n\nexport function extractLayersConfig(config: any): LayersConfig | LegacyLayersConfig | null {\n    if (config.layersConfig !== undefined) {\n        if (config.layersConfig.version === 1) {\n            migrateV1ToV2(config.layersConfig);\n        }\n\n        return config.layersConfig;\n    }\n\n    if (config.layers !== undefined) {\n        return config.layers;\n    }\n\n    return null;\n}\n\nfunction migrateV1ToV2(config: LayersConfig) {\n    for (const layer of config.layers) {\n        for (const control of layer.controls) {\n            if (control.type === \"Key\") {\n                const keyControl = control as LayerKeyControl;\n                if (typeof keyControl.mapTo === \"number\") {\n                    keyControl.mapTo = [keyControl.mapTo];\n                }\n            }\n        }\n    }\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../dom/layers\";\nimport { namedKeyCodes, KBD_NONE } from \"../../window/dos/controls/keys\";\nimport { pointer } from \"../../window/dos/controls/mouse/pointer\";\nimport { LayoutPosition } from \"./layout\";\n\nexport type ActionType = \"click\" | \"hold\";\n// hold - means track press/release events separately\n\nexport type Binding = number;\n\nexport interface Button {\n    action: ActionType,\n    mapTo: Binding,\n    symbol?: string,\n    position: LayoutPosition,\n}\n\nconst keyCodeToName = initKeyCodeToName();\n\nfunction initKeyCodeToName() {\n    const keyCodeToName: {[keyCode: number]: string} = {};\n    for (const next of Object.keys(namedKeyCodes)) {\n        keyCodeToName[namedKeyCodes[next]] = next.substr(4, 2);\n    }\n    return keyCodeToName;\n}\n\nexport interface ButtonHandler {\n    onDown?: () => void;\n    onUp?: () => void;\n    onClick?: () => void;\n}\n\nexport interface HTMLJsDosButtonElement extends HTMLDivElement {\n    widthPx: number;\n    heightPx: number;\n}\n\nexport function createButton(symbol: string,\n                             handler: ButtonHandler,\n                             size: number): HTMLJsDosButtonElement {\n    const innerSize = Math.round(size * 0.6);\n    const innerTextSize = Math.round(size * 0.5);\n    const borderWidth = Math.max(1, Math.round(size / 20));\n    const backgroundImage = symbolToUrl[symbol.toLowerCase()];\n    const text = backgroundImage === undefined ? symbol : \"\";\n    const button = createDiv(\"emulator-button-touch-zone\") as HTMLJsDosButtonElement;\n    const innerButton = createDiv(\"emulator-button\");\n    const innerText = createDiv(\"emulator-button-text\",\n        backgroundImage === undefined ? ((text === undefined || text.length === 0) ?\n            \"\" : text.substr(0, 1).toUpperCase()) : \"\");\n\n    if (backgroundImage !== undefined) {\n        innerButton.style.backgroundImage = \"url(\\\"\" + backgroundImage + \"\\\")\";\n    }\n    innerButton.style.width = innerSize + \"px\";\n    innerButton.style.height = innerSize + \"px\";\n    innerText.style.fontSize = innerTextSize + \"px\";\n\n    button.widthPx = size - borderWidth * 2;\n    button.heightPx = size - borderWidth * 2;\n    button.style.width = button.widthPx + \"px\";\n    button.style.height = button.heightPx + \"px\";\n    button.style.borderWidth = borderWidth + \"px\";\n    button.appendChild(innerButton);\n    button.appendChild(innerText);\n\n    const onStart = (e: Event) => {\n        if (handler.onDown !== undefined) {\n            handler.onDown();\n        }\n        if (handler.onClick !== undefined) {\n            handler.onClick();\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    const onEnd = (e: Event) => {\n        if (handler.onUp !== undefined) {\n            handler.onUp();\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    const options = {\n        capture: true,\n    };\n    for (const next of pointer.starters) {\n        button.addEventListener(next, onStart, options);\n    }\n    for (const next of pointer.enders) {\n        button.addEventListener(next, onEnd, options);\n    }\n    for (const next of pointer.changers) {\n        button.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.leavers) {\n        button.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.prevents) {\n        button.addEventListener(next, onPrevent, options);\n    }\n    return button;\n}\n\nexport function deprecatedButton(layers: Layers,\n                                 ci: CommandInterface,\n                                 buttons: Button[],\n                                 size: number) {\n    const ident = Math.round(size / 4);\n    const toRemove: HTMLElement[] = [];\n\n    for (const next of buttons) {\n        if (next.mapTo === KBD_NONE) {\n            continue;\n        }\n\n        const symbol = (next.symbol || mapToSymbol(next.mapTo)).toUpperCase();\n        const handler = deprecatedCreateHandler(next, layers);\n        const button = createButton(symbol, handler, size);\n\n        button.style.position = \"absolute\";\n        const cssStyle = (next as any).style;\n        if (cssStyle) {\n            for (const prop of Object.keys(cssStyle)) {\n                (button.style as any)[prop] = (cssStyle as any)[prop];\n            }\n        }\n\n        if (next.position !== undefined) {\n            const left = next.position.left;\n            const top = next.position.top;\n            const bottom = next.position.bottom;\n            const right = next.position.right;\n\n            if (left !== undefined) {\n                button.style.left = (ident * left + size * (left - 1)) + \"px\";\n            }\n\n            if (right !== undefined) {\n                button.style.right = (ident * right + size * (right - 1)) + \"px\";\n            }\n\n            if (top !== undefined) {\n                button.style.top = (ident * top + size * (top - 1)) + \"px\";\n            }\n\n            if (bottom !== undefined) {\n                button.style.bottom = (ident * bottom + size * (bottom - 1)) + \"px\";\n            }\n        }\n        layers.mouseOverlay.appendChild(button);\n        toRemove.push(button);\n    }\n\n    return () => {\n        for (const next of toRemove) {\n            if (next.parentElement === layers.mouseOverlay) {\n                layers.mouseOverlay.removeChild(next);\n            }\n        }\n    };\n}\n\nfunction createDiv(className: string, innerHtml?: string) {\n    const el = document.createElement(\"div\");\n    el.className = className;\n    if (innerHtml !== undefined) {\n        el.innerHTML = innerHtml;\n    }\n    return el;\n}\n\nfunction mapToSymbol(mapTo: Binding): string {\n    if (typeof mapTo === \"number\") {\n        return keyCodeToName[mapTo];\n    }\n\n    return mapTo;\n}\n\nfunction deprecatedCreateHandler(button: Button,\n                                 layers: Layers): ButtonHandler {\n    return button.action === \"click\" ?\n        { onClick: () => layers.fireKeyPress(button.mapTo) } :\n        {\n            onDown: () => layers.fireKeyDown(button.mapTo),\n            onUp: () => layers.fireKeyUp(button.mapTo),\n        };\n}\n\n/* eslint-disable max-len */\nconst down = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns:sketch='http://www.bohemiancoding.com/sketch/ns' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' fill='%23FFF' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Ctitle%3EShape%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Page-1' sketch:type='MSPage'%3E%3Cg id='Artboard-1' transform='translate(-3.000000, -1.000000)' sketch:type='MSArtboardGroup'%3E%3Cpath id='Shape' sketch:type='MSShapeGroup' d='M19,12c-0.3,0-0.5,0.1-0.7,0.3L14,16.6V3c0-0.5-0.4-1-1-1s-1,0.5-1,1v13.6 l-4.3-4.3C7.5,12.1,7.3,12,7,12c-0.5,0-1,0.4-1,1c0,0.3,0.1,0.5,0.3,0.7l6,6c0.2,0.2,0.4,0.3,0.7,0.3s0.5-0.1,0.7-0.3l6-6 c0.2-0.2,0.3-0.4,0.3-0.7C20,12.4,19.5,12,19,12L19,12z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst left = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' fill='%23FFF' xml:space='preserve'%3E%3Cg id='left_arrow_1_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18,9H4.41l4.29-4.29C8.89,4.53,9,4.28,9,4c0-0.55-0.45-1-1-1 C7.72,3,7.47,3.11,7.29,3.29l-6,6C1.11,9.47,1,9.72,1,10c0,0.28,0.11,0.53,0.29,0.71l6,6C7.47,16.89,7.72,17,8,17 c0.55,0,1-0.45,1-1c0-0.28-0.11-0.53-0.29-0.71L4.41,11H18c0.55,0,1-0.45,1-1C19,9.45,18.55,9,18,9z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst right = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' fill='%23fff' viewBox='0 0 20 20' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Cg id='right_arrow_1_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18.71,9.29l-6-6C12.53,3.11,12.28,3,12,3c-0.55,0-1,0.45-1,1 c0,0.28,0.11,0.53,0.29,0.71L15.59,9H2c-0.55,0-1,0.45-1,1c0,0.55,0.45,1,1,1h13.59l-4.29,4.29C11.11,15.47,11,15.72,11,16 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l6-6C18.89,10.53,19,10.28,19,10C19,9.72,18.89,9.47,18.71,9.29z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst enter = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' fill='%23fff' viewBox='0 0 20 20' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Cg id='key_enter_1_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18,2c-0.55,0-1,0.45-1,1v5c0,2.21-1.79,4-4,4H4.41l2.29-2.29 C6.89,9.53,7,9.28,7,9c0-0.55-0.45-1-1-1C5.72,8,5.47,8.11,5.29,8.29l-4,4C1.11,12.47,1,12.72,1,13c0,0.28,0.11,0.53,0.29,0.71 l4,4C5.47,17.89,5.72,18,6,18c0.55,0,1-0.45,1-1c0-0.28-0.11-0.53-0.29-0.71L4.41,14H13c3.31,0,6-2.69,6-6V3C19,2.45,18.55,2,18,2 z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst symbolToUrl: {[symbol: string]: string} = {\n    fullscreen: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' xml:space='preserve'%3E%3Cg id='maximize_1_' fill='%23FFFFFF'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5.99,8.99c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29v-1.59c0-0.55-0.45-1-1-1 s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1H3.41L6.7,10.7c0.18-0.18,0.29-0.43,0.29-0.71 C6.99,9.44,6.54,8.99,5.99,8.99z M14.99-0.01h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59L9.28,5.29C9.1,5.47,8.99,5.72,8.99,5.99 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C15.99,0.44,15.54-0.01,14.99-0.01 z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    save: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' fill='%23FFFFFF' xml:space='preserve'%3E%3Cg id='floppy_disk'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.71,2.29l-2-2C13.53,0.11,13.28,0,13,0h-1v6H4V0H1C0.45,0,0,0.45,0,1v14 c0,0.55,0.45,1,1,1h14c0.55,0,1-0.45,1-1V3C16,2.72,15.89,2.47,15.71,2.29z M14,15H2V9c0-0.55,0.45-1,1-1h10c0.55,0,1,0.45,1,1V15 z M11,1H9v4h2V1z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\",\n    options: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' fill='%23FFF' xml:space='preserve'%3E%3Cg id='cog_2_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M19,8h-2.31c-0.14-0.46-0.33-0.89-0.56-1.3l1.7-1.7c0.39-0.39,0.39-1.02,0-1.41 l-1.41-1.41c-0.39-0.39-1.02-0.39-1.41,0l-1.7,1.7c-0.41-0.22-0.84-0.41-1.3-0.55V1c0-0.55-0.45-1-1-1H9C8.45,0,8,0.45,8,1v2.33 C7.52,3.47,7.06,3.67,6.63,3.91L5,2.28c-0.37-0.37-0.98-0.37-1.36,0L2.28,3.64C1.91,4.02,1.91,4.63,2.28,5l1.62,1.62 C3.66,7.06,3.46,7.51,3.31,8H1C0.45,8,0,8.45,0,9v2c0,0.55,0.45,1,1,1h2.31c0.14,0.46,0.33,0.89,0.56,1.3L2.17,15 c-0.39,0.39-0.39,1.02,0,1.41l1.41,1.41c0.39,0.39,1.02,0.39,1.41,0l1.7-1.7c0.41,0.22,0.84,0.41,1.3,0.55V19c0,0.55,0.45,1,1,1h2 c0.55,0,1-0.45,1-1v-2.33c0.48-0.14,0.94-0.35,1.37-0.59L15,17.72c0.37,0.37,0.98,0.37,1.36,0l1.36-1.36 c0.37-0.37,0.37-0.98,0-1.36l-1.62-1.62c0.24-0.43,0.45-0.89,0.6-1.38H19c0.55,0,1-0.45,1-1V9C20,8.45,19.55,8,19,8z M10,14 c-2.21,0-4-1.79-4-4c0-2.21,1.79-4,4-4s4,1.79,4,4C14,12.21,12.21,14,10,14z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    keyboard: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' xml:space='preserve'%3E%3Cg id='manually_entered_data_2_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' fill-rule='evenodd' clip-rule='evenodd' d='M1,8h3.76l2-2H1C0.45,6,0,6.45,0,7C0,7.55,0.45,8,1,8z M15.49,3.99 C15.8,3.67,16,3.23,16,2.75C16,1.78,15.22,1,14.25,1c-0.48,0-0.92,0.2-1.24,0.51l-1.44,1.44l2.47,2.47L15.49,3.99z M1,4h7.76l2-2 H1C0.45,2,0,2.45,0,3C0,3.55,0.45,4,1,4z M1,10c-0.55,0-1,0.45-1,1c0,0.48,0.35,0.86,0.8,0.96L2.76,10H1z M10.95,3.57l-6.69,6.69 l2.47,2.47l6.69-6.69L10.95,3.57z M15.2,6.04L13.24,8H15c0.55,0,1-0.45,1-1C16,6.52,15.65,6.14,15.2,6.04z M2,15l3.86-1.39 l-2.46-2.44L2,15z M15,10h-3.76l-2,2H15c0.55,0,1-0.45,1-1C16,10.45,15.55,10,15,10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    up: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns:sketch='http://www.bohemiancoding.com/sketch/ns' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' fill='%23FFF' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Ctitle%3EShape%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Page-1' sketch:type='MSPage'%3E%3Cg id='Artboard-1' transform='translate(-3.000000, -1.000000)' sketch:type='MSArtboardGroup'%3E%3Cpath id='Shape' sketch:type='MSShapeGroup' d='M19.7,8.3l-6-6C13.5,2.1,13.3,2,13,2s-0.5,0.1-0.7,0.3l-6,6C6.1,8.5,6,8.7,6,9 c0,0.6,0.5,1,1,1c0.3,0,0.5-0.1,0.7-0.3L12,5.4V19c0,0.5,0.4,1,1,1s1-0.5,1-1V5.4l4.3,4.3C18.5,9.9,18.7,10,19,10c0.5,0,1-0.4,1-1 C20,8.7,19.9,8.5,19.7,8.3L19.7,8.3z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    down,\n    do: down,\n    dw: down,\n    dwn: down,\n    left,\n    le: left,\n    lft: left,\n    right,\n    ri: right,\n    rght: right,\n    rgh: right,\n    enter,\n    en: enter,\n    enr: enter,\n    ent: enter,\n    entr: enter,\n};\n\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\n\nimport { mount } from \"./mouse-common\";\n\nconst clickDelay = 500;\nconst clickThreshold = 50;\n\nexport function mouseSwipe(sensitivity: number, layers: Layers, ci: CommandInterface) {\n    const el = layers.mouseOverlay;\n\n    let startedAt = -1;\n    let acc = 0;\n    let prevX = 0;\n    let prevY = 0;\n\n    const onMouseDown = (x: number, y: number) => {\n        startedAt = Date.now();\n        acc = 0;\n        prevX = x;\n        prevY = y;\n    };\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        if (mX === undefined) {\n            mX = x - prevX;\n        }\n\n        if (mY === undefined) {\n            mY = y - prevY;\n        }\n\n        prevX = x;\n        prevY = y;\n\n        if (mX === 0 && mY === 0) {\n            return;\n        }\n\n        acc += Math.abs(mX) + Math.abs(mY);\n\n        (ci as any).sendMouseRelativeMotion(mX * sensitivity * 2, mY * sensitivity * 2);\n    }\n\n    const onMouseUp = (x: number, y: number) => {\n        const delay = Date.now() - startedAt;\n\n        if (delay < clickDelay && acc < clickThreshold) {\n            const button = layers.pointerButton || 0;\n            ci.sendMouseButton(button, true);\n            setTimeout(() => ci.sendMouseButton(button, false), 60);\n        }\n    };\n\n    const noop = () => {};\n\n    return mount(el, layers, onMouseDown, onMouseMove, onMouseUp, noop);\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\n\nimport { mapXY as doMapXY, mount } from \"./mouse-common\";\n\nexport function mouseNotLocked(layers: Layers, ci: CommandInterface) {\n    const el = layers.mouseOverlay;\n    const mapXY = (x: number, y: number) => doMapXY(x, y, ci, layers);\n\n    if (document.pointerLockElement === el) {\n        document.exitPointerLock();\n    }\n\n    function onMouseDown(x: number, y: number, button: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button, true);\n    }\n\n    function onMouseUp(x: number, y: number, button: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button, false);\n    }\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    function onMouseLeave(x: number, y: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    return mount(el, layers, onMouseDown, onMouseMove, onMouseUp, onMouseLeave);\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\nimport { pointer, getPointerState } from \"../../../window/dos/controls/mouse/pointer\";\nimport { mouseSwipe } from \"./mouse-swipe\";\nimport { mouseNotLocked } from \"./mouse-not-locked\";\nimport { mouseLocked } from \"./mouse-locked\";\n\nconst insensitivePadding = 1 / 100;\n\nexport function mapXY(eX: number, eY: number,\n                      ci: CommandInterface, layers: Layers) {\n    const frameWidth = ci.width();\n    const frameHeight = ci.height();\n    const containerWidth = layers.width;\n    const containerHeight = layers.height;\n\n    const aspect = frameWidth / frameHeight;\n\n    let width = containerWidth;\n    let height = containerWidth / aspect;\n\n    if (height > containerHeight) {\n        height = containerHeight;\n        width = containerHeight * aspect;\n    }\n\n    const top = (containerHeight - height) / 2;\n    const left = (containerWidth - width) / 2;\n\n    let x = Math.max(0, Math.min(1, (eX - left) / width));\n    let y = Math.max(0, Math.min(1, (eY - top) / height));\n\n    if (x <= insensitivePadding) {\n        x = 0;\n    }\n\n    if (x >= (1 - insensitivePadding)) {\n        x = 1;\n    }\n\n    if (y <= insensitivePadding) {\n        y = 0;\n    }\n\n    if (y >= (1 - insensitivePadding)) {\n        y = 1;\n    }\n\n    return {\n        x,\n        y,\n    };\n}\n\nexport function mount(el: HTMLDivElement, layers: Layers,\n                      onMouseDown: (x: number, y: number, button: number) => void,\n                      onMouseMove: (x: number, y: number, mX: number, mY: number) => void,\n                      onMouseUp: (x: number, y: number, button: number) => void,\n                      onMouseLeave: (x: number, y: number) => void) {\n    // eslint-disable-next-line\n    function preventDefaultIfNeeded(e: Event) {\n        // not needed yet\n    }\n\n    let pressedButton = 0;\n    const onStart = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        pressedButton = state.button || layers.pointerButton;\n        onMouseDown(state.x, state.y, pressedButton);\n\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onChange = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseMove(state.x, state.y, state.mX, state.mY);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onEnd = (e: Event) => {\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseUp(state.x, state.y, pressedButton);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onLeave = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseLeave(state.x, state.y);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const options = {\n        capture: false,\n    };\n\n    for (const next of pointer.starters) {\n        el.addEventListener(next, onStart, options);\n    }\n    for (const next of pointer.changers) {\n        el.addEventListener(next, onChange, options);\n    }\n    for (const next of pointer.enders) {\n        el.addEventListener(next, onEnd, options);\n    }\n    for (const next of pointer.prevents) {\n        el.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.leavers) {\n        el.addEventListener(next, onLeave, options);\n    }\n\n    return () => {\n        for (const next of pointer.starters) {\n            el.removeEventListener(next, onStart, options);\n        }\n        for (const next of pointer.changers) {\n            el.removeEventListener(next, onChange, options);\n        }\n        for (const next of pointer.enders) {\n            el.removeEventListener(next, onEnd, options);\n        }\n        for (const next of pointer.prevents) {\n            el.removeEventListener(next, onPrevent, options);\n        }\n        for (const next of pointer.leavers) {\n            el.removeEventListener(next, onLeave, options);\n        }\n    };\n}\n\nexport function mouse(autolock: boolean, sensitivity: number, layers: Layers, ci: CommandInterface) {\n    if (autolock && !pointer.canLock) {\n        return mouseSwipe(sensitivity, layers, ci);\n    }\n\n    if (autolock) {\n        return mouseLocked(sensitivity, layers, ci);\n    }\n\n    return mouseNotLocked(layers, ci);\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\nimport { mount } from \"./mouse-common\";\n\nexport function mouseLocked(sensitivity: number, layers: Layers, ci: CommandInterface) {\n    const el = layers.mouseOverlay;\n\n    function isNotLocked() {\n        return document.pointerLockElement !== el;\n    }\n\n    function onMouseDown(x: number, y: number, button: number) {\n        if (isNotLocked()) {\n            const requestPointerLock = el.requestPointerLock ||\n                (el as any).mozRequestPointerLock ||\n                (el as any).webkitRequestPointerLock;\n\n            requestPointerLock.call(el);\n\n            return;\n        }\n\n        ci.sendMouseButton(button, true);\n    }\n\n    function onMouseUp(x: number, y: number, button: number) {\n        if (isNotLocked()) {\n            return;\n        }\n\n        ci.sendMouseButton(button, false);\n    }\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        if (isNotLocked()) {\n            return;\n        }\n\n        if (mX === 0 && mY === 0) {\n            return;\n        }\n\n        (ci as any).sendMouseRelativeMotion(mX * sensitivity, mY * sensitivity);\n    }\n\n    function onMouseLeave(x: number, y: number) {\n        // nothing to do\n    }\n\n    return mount(el, layers, onMouseDown, onMouseMove, onMouseUp, onMouseLeave);\n}\n","///////////////////////\n///      UTILS      ///\n///////////////////////\n\nexport const distance = (p1, p2) => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n\n    return Math.sqrt((dx * dx) + (dy * dy));\n};\n\nexport const angle = (p1, p2) => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n\n    return degrees(Math.atan2(dy, dx));\n};\n\nexport const findCoord = (p, d, a) => {\n    const b = {x: 0, y: 0};\n    a = radians(a);\n    b.x = p.x - d * Math.cos(a);\n    b.y = p.y - d * Math.sin(a);\n    return b;\n};\n\nexport const radians = (a) => {\n    return a * (Math.PI / 180);\n};\n\nexport const degrees = (a) => {\n    return a * (180 / Math.PI);\n};\n\nexport const isPressed = (evt) => {\n    if (isNaN(evt.buttons)) {\n        return evt.pressure !== 0;\n    }\n    return evt.buttons !== 0;\n};\n\nconst timers = new Map();\nexport const throttle = (cb) => {\n    if (timers.has(cb)) {\n        clearTimeout(timers.get(cb));\n    }\n    timers.set(cb, setTimeout(cb, 100));\n};\n\nexport const bindEvt = (el, arg, handler) => {\n    const types = arg.split(/[ ,]+/g);\n    let type;\n    for (let i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (el.addEventListener) {\n            el.addEventListener(type, handler, false);\n        } else if (el.attachEvent) {\n            el.attachEvent(type, handler);\n        }\n    }\n};\n\nexport const unbindEvt = (el, arg, handler) => {\n    const types = arg.split(/[ ,]+/g);\n    let type;\n    for (let i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (el.removeEventListener) {\n            el.removeEventListener(type, handler);\n        } else if (el.detachEvent) {\n            el.detachEvent(type, handler);\n        }\n    }\n};\n\nexport const trigger = (el, type, data) => {\n    const evt = new CustomEvent(type, data);\n    el.dispatchEvent(evt);\n};\n\nexport const prepareEvent = (evt) => {\n    evt.preventDefault();\n    return evt.type.match(/^touch/) ? evt.changedTouches : evt;\n};\n\nexport const getScroll = () => {\n    const x = (window.pageXOffset !== undefined) ?\n        window.pageXOffset :\n        (document.documentElement || document.body.parentNode || document.body)\n            .scrollLeft;\n\n    const y = (window.pageYOffset !== undefined) ?\n        window.pageYOffset :\n        (document.documentElement || document.body.parentNode || document.body)\n            .scrollTop;\n    return {\n        x: x,\n        y: y\n    };\n};\n\nexport const applyPosition = (el, pos) => {\n    if (pos.top || pos.right || pos.bottom || pos.left) {\n        el.style.top = pos.top;\n        el.style.right = pos.right;\n        el.style.bottom = pos.bottom;\n        el.style.left = pos.left;\n    } else {\n        el.style.left = pos.x + 'px';\n        el.style.top = pos.y + 'px';\n    }\n};\n\nexport const getTransitionStyle = (property, values, time) => {\n    const obj = configStylePropertyObject(property);\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (typeof values === 'string') {\n                obj[i] = values + ' ' + time;\n            } else {\n                let st = '';\n                for (let j = 0, max = values.length; j < max; j += 1) {\n                    st += values[j] + ' ' + time + ', ';\n                }\n                obj[i] = st.slice(0, -2);\n            }\n        }\n    }\n    return obj;\n};\n\nexport const getVendorStyle = (property, value) => {\n    const obj = configStylePropertyObject(property);\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            obj[i] = value;\n        }\n    }\n    return obj;\n};\n\nexport const configStylePropertyObject = (prop) => {\n    const obj = {};\n    obj[prop] = '';\n    const vendors = ['webkit', 'Moz', 'o'];\n    vendors.forEach(function (vendor) {\n        obj[vendor + prop.charAt(0).toUpperCase() + prop.slice(1)] = '';\n    });\n    return obj;\n};\n\nexport const extend = (objA, objB) => {\n    for (let i in objB) {\n        if (objB.hasOwnProperty(i)) {\n            objA[i] = objB[i];\n        }\n    }\n    return objA;\n};\n\n// Overwrite only what's already present\nexport const safeExtend = (objA, objB) => {\n    const obj = {};\n    for (let i in objA) {\n        if (objA.hasOwnProperty(i) && objB.hasOwnProperty(i)) {\n            obj[i] = objB[i];\n        } else if (objA.hasOwnProperty(i)) {\n            obj[i] = objA[i];\n        }\n    }\n    return obj;\n};\n\n// Map for array or unique item.\nexport const map = (ar, fn) => {\n    if (ar.length) {\n        for (let i = 0, max = ar.length; i < max; i += 1) {\n            fn(ar[i]);\n        }\n    } else {\n        fn(ar);\n    }\n};\n\n// Clamp position within the range\nexport const clamp = (pos, nipplePos, size) => ({\n    //                          left-clamping        right-clamping\n    x: Math.min(Math.max(pos.x, nipplePos.x - size), nipplePos.x + size),\n    //                          top-clamping         bottom-clamping\n    y: Math.min(Math.max(pos.y, nipplePos.y - size), nipplePos.y + size)\n});\n","///////////////////////\n///   SUPER CLASS   ///\n///////////////////////\nimport * as u from './utils';\n\n// Constants\nvar isTouch = !!('ontouchstart' in window);\nvar isPointer = window.PointerEvent ? true : false;\nvar isMSPointer = window.MSPointerEvent ? true : false;\nvar events = {\n    touch: {\n        start: 'touchstart',\n        move: 'touchmove',\n        end: 'touchend, touchcancel'\n    },\n    mouse: {\n        start: 'mousedown',\n        move: 'mousemove',\n        end: 'mouseup'\n    },\n    pointer: {\n        start: 'pointerdown',\n        move: 'pointermove',\n        end: 'pointerup, pointercancel'\n    },\n    MSPointer: {\n        start: 'MSPointerDown',\n        move: 'MSPointerMove',\n        end: 'MSPointerUp'\n    }\n};\nvar toBind;\nvar secondBind = {};\nif (isPointer) {\n    toBind = events.pointer;\n} else if (isMSPointer) {\n    toBind = events.MSPointer;\n} else if (isTouch) {\n    toBind = events.touch;\n    secondBind = events.mouse;\n} else {\n    toBind = events.mouse;\n}\n\nfunction Super () {}\n\n// Basic event system.\nSuper.prototype.on = function (arg, cb) {\n    var self = this;\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    self._handlers_ = self._handlers_ || {};\n\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        self._handlers_[type] = self._handlers_[type] || [];\n        self._handlers_[type].push(cb);\n    }\n    return self;\n};\n\nSuper.prototype.off = function (type, cb) {\n    var self = this;\n    self._handlers_ = self._handlers_ || {};\n\n    if (type === undefined) {\n        self._handlers_ = {};\n    } else if (cb === undefined) {\n        self._handlers_[type] = null;\n    } else if (self._handlers_[type] &&\n            self._handlers_[type].indexOf(cb) >= 0) {\n        self._handlers_[type].splice(self._handlers_[type].indexOf(cb), 1);\n    }\n\n    return self;\n};\n\nSuper.prototype.trigger = function (arg, data) {\n    var self = this;\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    self._handlers_ = self._handlers_ || {};\n\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (self._handlers_[type] && self._handlers_[type].length) {\n            self._handlers_[type].forEach(function (handler) {\n                handler.call(self, {\n                    type: type,\n                    target: self\n                }, data);\n            });\n        }\n    }\n};\n\n// Configuration\nSuper.prototype.config = function (options) {\n    var self = this;\n    self.options = self.defaults || {};\n    if (options) {\n        self.options = u.safeExtend(self.options, options);\n    }\n};\n\n// Bind internal events.\nSuper.prototype.bindEvt = function (el, type) {\n    var self = this;\n    self._domHandlers_ = self._domHandlers_ || {};\n\n    self._domHandlers_[type] = function () {\n        if (typeof self['on' + type] === 'function') {\n            self['on' + type].apply(self, arguments);\n        } else {\n            // eslint-disable-next-line no-console\n            console.warn('[WARNING] : Missing \"on' + type + '\" handler.');\n        }\n    };\n\n    u.bindEvt(el, toBind[type], self._domHandlers_[type]);\n\n    if (secondBind[type]) {\n        // Support for both touch and mouse at the same time.\n        u.bindEvt(el, secondBind[type], self._domHandlers_[type]);\n    }\n\n    return self;\n};\n\n// Unbind dom events.\nSuper.prototype.unbindEvt = function (el, type) {\n    var self = this;\n    self._domHandlers_ = self._domHandlers_ || {};\n\n    u.unbindEvt(el, toBind[type], self._domHandlers_[type]);\n\n    if (secondBind[type]) {\n        // Support for both touch and mouse at the same time.\n        u.unbindEvt(el, secondBind[type], self._domHandlers_[type]);\n    }\n\n    delete self._domHandlers_[type];\n\n    return this;\n};\n\nexport default Super;\n","import Super from './super';\nimport * as u from './utils';\n\n///////////////////////\n///   THE NIPPLE    ///\n///////////////////////\n\nfunction Nipple (collection, options) {\n    this.identifier = options.identifier;\n    this.position = options.position;\n    this.frontPosition = options.frontPosition;\n    this.collection = collection;\n\n    // Defaults\n    this.defaults = {\n        size: 100,\n        threshold: 0.1,\n        color: 'white',\n        fadeTime: 250,\n        dataOnly: false,\n        restJoystick: true,\n        restOpacity: 0.5,\n        mode: 'dynamic',\n        zone: document.body,\n        lockX: false,\n        lockY: false,\n        shape: 'circle'\n    };\n\n    this.config(options);\n\n    // Overwrites\n    if (this.options.mode === 'dynamic') {\n        this.options.restOpacity = 0;\n    }\n\n    this.id = Nipple.id;\n    Nipple.id += 1;\n    this.buildEl()\n        .stylize();\n\n    // Nipple's API.\n    this.instance = {\n        el: this.ui.el,\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        show: this.show.bind(this),\n        hide: this.hide.bind(this),\n        add: this.addToDom.bind(this),\n        remove: this.removeFromDom.bind(this),\n        destroy: this.destroy.bind(this),\n        setPosition:this.setPosition.bind(this),\n        resetDirection: this.resetDirection.bind(this),\n        computeDirection: this.computeDirection.bind(this),\n        trigger: this.trigger.bind(this),\n        position: this.position,\n        frontPosition: this.frontPosition,\n        ui: this.ui,\n        identifier: this.identifier,\n        id: this.id,\n        options: this.options\n    };\n\n    return this.instance;\n}\n\nNipple.prototype = new Super();\nNipple.constructor = Nipple;\nNipple.id = 0;\n\n// Build the dom element of the Nipple instance.\nNipple.prototype.buildEl = function (options) {\n    this.ui = {};\n\n    if (this.options.dataOnly) {\n        return this;\n    }\n\n    this.ui.el = document.createElement('div');\n    this.ui.back = document.createElement('div');\n    this.ui.front = document.createElement('div');\n\n    this.ui.el.className = 'nipple collection_' + this.collection.id;\n    this.ui.back.className = 'back';\n    this.ui.front.className = 'front';\n\n    this.ui.el.setAttribute('id', 'nipple_' + this.collection.id +\n        '_' + this.id);\n\n    this.ui.el.appendChild(this.ui.back);\n    this.ui.el.appendChild(this.ui.front);\n\n    return this;\n};\n\n// Apply CSS to the Nipple instance.\nNipple.prototype.stylize = function () {\n    if (this.options.dataOnly) {\n        return this;\n    }\n    var animTime = this.options.fadeTime + 'ms';\n    var borderStyle = u.getVendorStyle('borderRadius', '50%');\n    var transitStyle = u.getTransitionStyle('transition', 'opacity', animTime);\n    var styles = {};\n    styles.el = {\n        position: 'absolute',\n        opacity: this.options.restOpacity,\n        display: 'block',\n        'zIndex': 999\n    };\n\n    styles.back = {\n        position: 'absolute',\n        display: 'block',\n        width: this.options.size + 'px',\n        height: this.options.size + 'px',\n        left: 0,\n        marginLeft: -this.options.size / 2 + 'px',\n        marginTop: -this.options.size / 2 + 'px',\n        background: this.options.color,\n        'opacity': '.5'\n    };\n\n    styles.front = {\n        width: this.options.size / 2 + 'px',\n        height: this.options.size / 2 + 'px',\n        position: 'absolute',\n        display: 'block',\n        left: 0,\n        marginLeft: -this.options.size / 4 + 'px',\n        marginTop: -this.options.size / 4 + 'px',\n        background: this.options.color,\n        'opacity': '.5',\n        transform: 'translate(0px, 0px)'\n    };\n\n    u.extend(styles.el, transitStyle);\n    if(this.options.shape === 'circle'){\n        u.extend(styles.back, borderStyle);\n    }\n    u.extend(styles.front, borderStyle);\n\n    this.applyStyles(styles);\n\n    return this;\n};\n\nNipple.prototype.applyStyles = function (styles) {\n    // Apply styles\n    for (var i in this.ui) {\n        if (this.ui.hasOwnProperty(i)) {\n            for (var j in styles[i]) {\n                this.ui[i].style[j] = styles[i][j];\n            }\n        }\n    }\n\n    return this;\n};\n\n// Inject the Nipple instance into DOM.\nNipple.prototype.addToDom = function () {\n    // We're not adding it if we're dataOnly or already in dom.\n    if (this.options.dataOnly || document.body.contains(this.ui.el)) {\n        return this;\n    }\n    this.options.zone.appendChild(this.ui.el);\n    return this;\n};\n\n// Remove the Nipple instance from DOM.\nNipple.prototype.removeFromDom = function () {\n    if (this.options.dataOnly || !document.body.contains(this.ui.el)) {\n        return this;\n    }\n    this.options.zone.removeChild(this.ui.el);\n    return this;\n};\n\n// Entirely destroy this nipple\nNipple.prototype.destroy = function () {\n    clearTimeout(this.removeTimeout);\n    clearTimeout(this.showTimeout);\n    clearTimeout(this.restTimeout);\n    this.trigger('destroyed', this.instance);\n    this.removeFromDom();\n    this.off();\n};\n\n// Fade in the Nipple instance.\nNipple.prototype.show = function (cb) {\n    var self = this;\n\n    if (self.options.dataOnly) {\n        return self;\n    }\n\n    clearTimeout(self.removeTimeout);\n    clearTimeout(self.showTimeout);\n    clearTimeout(self.restTimeout);\n\n    self.addToDom();\n\n    self.restCallback();\n\n    setTimeout(function () {\n        self.ui.el.style.opacity = 1;\n    }, 0);\n\n    self.showTimeout = setTimeout(function () {\n        self.trigger('shown', self.instance);\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }, self.options.fadeTime);\n\n    return self;\n};\n\n// Fade out the Nipple instance.\nNipple.prototype.hide = function (cb) {\n    var self = this;\n\n    if (self.options.dataOnly) {\n        return self;\n    }\n\n    self.ui.el.style.opacity = self.options.restOpacity;\n\n    clearTimeout(self.removeTimeout);\n    clearTimeout(self.showTimeout);\n    clearTimeout(self.restTimeout);\n\n    self.removeTimeout = setTimeout(\n        function () {\n            var display = self.options.mode === 'dynamic' ? 'none' : 'block';\n            self.ui.el.style.display = display;\n            if (typeof cb === 'function') {\n                cb.call(self);\n            }\n\n            self.trigger('hidden', self.instance);\n        },\n        self.options.fadeTime\n    );\n\n    if (self.options.restJoystick) {\n        const rest = self.options.restJoystick;\n        const newPosition = {};\n\n        newPosition.x = rest === true || rest.x !== false ? 0 : self.instance.frontPosition.x;\n        newPosition.y = rest === true || rest.y !== false ? 0 : self.instance.frontPosition.y;\n\n        self.setPosition(cb, newPosition);\n    }\n\n    return self;\n};\n\n// Set the nipple to the specified position\nNipple.prototype.setPosition = function (cb, position) {\n    var self = this;\n    self.frontPosition = {\n        x: position.x,\n        y: position.y\n    };\n    var animTime = self.options.fadeTime + 'ms';\n\n    var transitStyle = {};\n    transitStyle.front = u.getTransitionStyle('transition',\n        ['transform'], animTime);\n\n    var styles = {front: {}};\n    styles.front = {\n        transform: 'translate(' + self.frontPosition.x + 'px,' + self.frontPosition.y + 'px)'\n    };\n\n    self.applyStyles(transitStyle);\n    self.applyStyles(styles);\n\n    self.restTimeout = setTimeout(\n        function () {\n            if (typeof cb === 'function') {\n                cb.call(self);\n            }\n            self.restCallback();\n        },\n        self.options.fadeTime\n    );\n};\n\nNipple.prototype.restCallback = function () {\n    var self = this;\n    var transitStyle = {};\n    transitStyle.front = u.getTransitionStyle('transition', 'none', '');\n    self.applyStyles(transitStyle);\n    self.trigger('rested', self.instance);\n};\n\nNipple.prototype.resetDirection = function () {\n    // Fully rebuild the object to let the iteration possible.\n    this.direction = {\n        x: false,\n        y: false,\n        angle: false\n    };\n};\n\nNipple.prototype.computeDirection = function (obj) {\n    var rAngle = obj.angle.radian;\n    var angle45 = Math.PI / 4;\n    var angle90 = Math.PI / 2;\n    var direction, directionX, directionY;\n\n    // Angular direction\n    //     \\  UP /\n    //      \\   /\n    // LEFT       RIGHT\n    //      /   \\\n    //     /DOWN \\\n    //\n    if (\n        rAngle > angle45 &&\n        rAngle < (angle45 * 3) &&\n        !obj.lockX\n    ) {\n        direction = 'up';\n    } else if (\n        rAngle > -angle45 &&\n        rAngle <= angle45 &&\n        !obj.lockY\n    ) {\n        direction = 'left';\n    } else if (\n        rAngle > (-angle45 * 3) &&\n        rAngle <= -angle45 &&\n        !obj.lockX\n    ) {\n        direction = 'down';\n    } else if (!obj.lockY) {\n        direction = 'right';\n    }\n\n    // Plain direction\n    //    UP                 |\n    // _______               | RIGHT\n    //                  LEFT |\n    //   DOWN                |\n    if (!obj.lockY) {\n        if (rAngle > -angle90 && rAngle < angle90) {\n            directionX = 'left';\n        } else {\n            directionX = 'right';\n        }\n    }\n\n    if (!obj.lockX) {\n        if (rAngle > 0) {\n            directionY = 'up';\n        } else {\n            directionY = 'down';\n        }\n    }\n\n    if (obj.force > this.options.threshold) {\n        var oldDirection = {};\n        var i;\n        for (i in this.direction) {\n            if (this.direction.hasOwnProperty(i)) {\n                oldDirection[i] = this.direction[i];\n            }\n        }\n\n        var same = {};\n\n        this.direction = {\n            x: directionX,\n            y: directionY,\n            angle: direction\n        };\n\n        obj.direction = this.direction;\n\n        for (i in oldDirection) {\n            if (oldDirection[i] === this.direction[i]) {\n                same[i] = true;\n            }\n        }\n\n        // If all 3 directions are the same, we don't trigger anything.\n        if (same.x && same.y && same.angle) {\n            return obj;\n        }\n\n        if (!same.x || !same.y) {\n            this.trigger('plain', obj);\n        }\n\n        if (!same.x) {\n            this.trigger('plain:' + directionX, obj);\n        }\n\n        if (!same.y) {\n            this.trigger('plain:' + directionY, obj);\n        }\n\n        if (!same.angle) {\n            this.trigger('dir dir:' + direction, obj);\n        }\n    } else {\n        this.resetDirection();\n    }\n\n    return obj;\n};\n\nexport default Nipple;\n","import Nipple from './nipple';\nimport Super from './super';\nimport * as u from './utils';\n\n///////////////////////////\n///   THE COLLECTION    ///\n///////////////////////////\n\nfunction Collection (manager, options) {\n    var self = this;\n    self.nipples = [];\n    self.idles = [];\n    self.actives = [];\n    self.ids = [];\n    self.pressureIntervals = {};\n    self.manager = manager;\n    self.id = Collection.id;\n    Collection.id += 1;\n\n    // Defaults\n    self.defaults = {\n        zone: document.body,\n        multitouch: false,\n        maxNumberOfNipples: 10,\n        mode: 'dynamic',\n        position: {top: 0, left: 0},\n        catchDistance: 200,\n        size: 100,\n        threshold: 0.1,\n        color: 'white',\n        fadeTime: 250,\n        dataOnly: false,\n        restJoystick: true,\n        restOpacity: 0.5,\n        lockX: false,\n        lockY: false,\n        shape: 'circle',\n        dynamicPage: false,\n        follow: false\n    };\n\n    self.config(options);\n\n    // Overwrites\n    if (self.options.mode === 'static' || self.options.mode === 'semi') {\n        self.options.multitouch = false;\n    }\n\n    if (!self.options.multitouch) {\n        self.options.maxNumberOfNipples = 1;\n    }\n    const computedStyle = getComputedStyle(self.options.zone.parentElement);\n    if (computedStyle && computedStyle.display === 'flex') {\n        self.parentIsFlex = true;\n    }\n\n    self.updateBox();\n    self.prepareNipples();\n    self.bindings();\n    self.begin();\n\n    return self.nipples;\n}\n\nCollection.prototype = new Super();\nCollection.constructor = Collection;\nCollection.id = 0;\n\nCollection.prototype.prepareNipples = function () {\n    var self = this;\n    var nips = self.nipples;\n\n    // Public API Preparation.\n    nips.on = self.on.bind(self);\n    nips.off = self.off.bind(self);\n    nips.options = self.options;\n    nips.destroy = self.destroy.bind(self);\n    nips.ids = self.ids;\n    nips.id = self.id;\n    nips.processOnMove = self.processOnMove.bind(self);\n    nips.processOnEnd = self.processOnEnd.bind(self);\n    nips.get = function (id) {\n        if (id === undefined) {\n            return nips[0];\n        }\n        for (var i = 0, max = nips.length; i < max; i += 1) {\n            if (nips[i].identifier === id) {\n                return nips[i];\n            }\n        }\n        return false;\n    };\n};\n\nCollection.prototype.bindings = function () {\n    var self = this;\n    // Touch start event.\n    self.bindEvt(self.options.zone, 'start');\n    // Avoid native touch actions (scroll, zoom etc...) on the zone.\n    self.options.zone.style.touchAction = 'none';\n    self.options.zone.style.msTouchAction = 'none';\n};\n\nCollection.prototype.begin = function () {\n    var self = this;\n    var opts = self.options;\n\n    // We place our static nipple\n    // if needed.\n    if (opts.mode === 'static') {\n        var nipple = self.createNipple(\n            opts.position,\n            self.manager.getIdentifier()\n        );\n        // Add it to the dom.\n        nipple.add();\n        // Store it in idles.\n        self.idles.push(nipple);\n    }\n};\n\n// Nipple Factory\nCollection.prototype.createNipple = function (position, identifier) {\n    var self = this;\n    var scroll = self.manager.scroll;\n    var toPutOn = {};\n    var opts = self.options;\n    var offset = {\n        x: self.parentIsFlex ? scroll.x : (scroll.x + self.box.left),\n        y: self.parentIsFlex ? scroll.y : (scroll.y + self.box.top)\n    };\n\n    if (position.x && position.y) {\n        toPutOn = {\n            x: position.x - offset.x,\n            y: position.y - offset.y\n        };\n    } else if (\n        position.top ||\n        position.right ||\n        position.bottom ||\n        position.left\n    ) {\n\n        // We need to compute the position X / Y of the joystick.\n        var dumb = document.createElement('DIV');\n        dumb.style.display = 'hidden';\n        dumb.style.top = position.top;\n        dumb.style.right = position.right;\n        dumb.style.bottom = position.bottom;\n        dumb.style.left = position.left;\n        dumb.style.position = 'absolute';\n\n        opts.zone.appendChild(dumb);\n        var dumbBox = dumb.getBoundingClientRect();\n        opts.zone.removeChild(dumb);\n\n        toPutOn = position;\n        position = {\n            x: dumbBox.left + scroll.x,\n            y: dumbBox.top + scroll.y\n        };\n    }\n\n    var nipple = new Nipple(self, {\n        color: opts.color,\n        size: opts.size,\n        threshold: opts.threshold,\n        fadeTime: opts.fadeTime,\n        dataOnly: opts.dataOnly,\n        restJoystick: opts.restJoystick,\n        restOpacity: opts.restOpacity,\n        mode: opts.mode,\n        identifier: identifier,\n        position: position,\n        zone: opts.zone,\n        frontPosition: {\n            x: 0,\n            y: 0\n        },\n        shape: opts.shape\n    });\n\n    if (!opts.dataOnly) {\n        u.applyPosition(nipple.ui.el, toPutOn);\n        u.applyPosition(nipple.ui.front, nipple.frontPosition);\n    }\n    self.nipples.push(nipple);\n    self.trigger('added ' + nipple.identifier + ':added', nipple);\n    self.manager.trigger('added ' + nipple.identifier + ':added', nipple);\n\n    self.bindNipple(nipple);\n\n    return nipple;\n};\n\nCollection.prototype.updateBox = function () {\n    var self = this;\n    self.box = self.options.zone.getBoundingClientRect();\n};\n\nCollection.prototype.bindNipple = function (nipple) {\n    var self = this;\n    var type;\n    // Bubble up identified events.\n    var handler = function (evt, data) {\n        // Identify the event type with the nipple's id.\n        type = evt.type + ' ' + data.id + ':' + evt.type;\n        self.trigger(type, data);\n    };\n\n    // When it gets destroyed.\n    nipple.on('destroyed', self.onDestroyed.bind(self));\n\n    // Other events that will get bubbled up.\n    nipple.on('shown hidden rested dir plain', handler);\n    nipple.on('dir:up dir:right dir:down dir:left', handler);\n    nipple.on('plain:up plain:right plain:down plain:left', handler);\n};\n\nCollection.prototype.pressureFn = function (touch, nipple, identifier) {\n    var self = this;\n    var previousPressure = 0;\n    clearInterval(self.pressureIntervals[identifier]);\n    // Create an interval that will read the pressure every 100ms\n    self.pressureIntervals[identifier] = setInterval(function () {\n        var pressure = touch.force || touch.pressure ||\n            touch.webkitForce || 0;\n        if (pressure !== previousPressure) {\n            nipple.trigger('pressure', pressure);\n            self.trigger('pressure ' +\n                nipple.identifier + ':pressure', pressure);\n            previousPressure = pressure;\n        }\n    }.bind(self), 100);\n};\n\nCollection.prototype.onstart = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var origEvt = evt;\n    evt = u.prepareEvent(evt);\n\n    // Update the box position\n    self.updateBox();\n\n    var process = function (touch) {\n        // If we can create new nipples\n        // meaning we don't have more active nipples than we should.\n        if (self.actives.length < opts.maxNumberOfNipples) {\n            self.processOnStart(touch);\n        }\n        else if(origEvt.type.match(/^touch/)){\n            // zombies occur when end event is not received on Safari\n            // first touch removed before second touch, we need to catch up...\n            // so remove where touches in manager that no longer exist\n            Object.keys(self.manager.ids).forEach(function(k){\n                if(Object.values(origEvt.touches).findIndex(function(t){return t.identifier===k;}) < 0){\n                    // manager has id that doesn't exist in touches\n                    var e = [evt[0]];\n                    e.identifier = k;\n                    self.processOnEnd(e);\n                }\n            });\n            if(self.actives.length < opts.maxNumberOfNipples){\n                self.processOnStart(touch);\n            }\n        }\n    };\n\n    u.map(evt, process);\n\n    // We ask upstream to bind the document\n    // on 'move' and 'end'\n    self.manager.bindDocument();\n    return false;\n};\n\nCollection.prototype.processOnStart = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var indexInIdles;\n    var identifier = self.manager.getIdentifier(evt);\n    var pressure = evt.force || evt.pressure || evt.webkitForce || 0;\n    var position = {\n        x: evt.pageX,\n        y: evt.pageY\n    };\n\n    var nipple = self.getOrCreate(identifier, position);\n\n    // Update its touch identifier\n    if (nipple.identifier !== identifier) {\n        self.manager.removeIdentifier(nipple.identifier);\n    }\n    nipple.identifier = identifier;\n\n    var process = function (nip) {\n        // Trigger the start.\n        nip.trigger('start', nip);\n        self.trigger('start ' + nip.id + ':start', nip);\n\n        nip.show();\n        if (pressure > 0) {\n            self.pressureFn(evt, nip, nip.identifier);\n        }\n        // Trigger the first move event.\n        self.processOnMove(evt);\n    };\n\n    // Transfer it from idles to actives.\n    if ((indexInIdles = self.idles.indexOf(nipple)) >= 0) {\n        self.idles.splice(indexInIdles, 1);\n    }\n\n    // Store the nipple in the actives array\n    self.actives.push(nipple);\n    self.ids.push(nipple.identifier);\n\n    if (opts.mode !== 'semi') {\n        process(nipple);\n    } else {\n        // In semi we check the distance of the touch\n        // to decide if we have to reset the nipple\n        var distance = u.distance(position, nipple.position);\n        if (distance <= opts.catchDistance) {\n            process(nipple);\n        } else {\n            nipple.destroy();\n            self.processOnStart(evt);\n            return;\n        }\n    }\n\n    return nipple;\n};\n\nCollection.prototype.getOrCreate = function (identifier, position) {\n    var self = this;\n    var opts = self.options;\n    var nipple;\n\n    // If we're in static or semi, we might already have an active.\n    if (/(semi|static)/.test(opts.mode)) {\n        // Get the active one.\n        // TODO: Multi-touche for semi and static will start here.\n        // Return the nearest one.\n        nipple = self.idles[0];\n        if (nipple) {\n            self.idles.splice(0, 1);\n            return nipple;\n        }\n\n        if (opts.mode === 'semi') {\n            // If we're in semi mode, we need to create one.\n            return self.createNipple(position, identifier);\n        }\n\n        // eslint-disable-next-line no-console\n        console.warn('Coudln\\'t find the needed nipple.');\n        return false;\n    }\n    // In dynamic, we create a new one.\n    nipple = self.createNipple(position, identifier);\n    return nipple;\n};\n\nCollection.prototype.processOnMove = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var identifier = self.manager.getIdentifier(evt);\n    var nipple = self.nipples.get(identifier);\n    var scroll = self.manager.scroll;\n\n    // If we're moving without pressing\n    // it's that we went out the active zone\n    if (!u.isPressed(evt)) {\n        this.processOnEnd(evt);\n        return;\n    }\n\n    if (!nipple) {\n        // This is here just for safety.\n        // It shouldn't happen.\n        // eslint-disable-next-line no-console\n        console.error('Found zombie joystick with ID ' + identifier);\n        self.manager.removeIdentifier(identifier);\n        return;\n    }\n\n    if (opts.dynamicPage) {\n        var elBox = nipple.el.getBoundingClientRect();\n        nipple.position = {\n            x: scroll.x + elBox.left,\n            y: scroll.y + elBox.top\n        };\n    }\n\n    nipple.identifier = identifier;\n\n    var size = nipple.options.size / 2;\n    var pos = {\n        x: evt.pageX,\n        y: evt.pageY\n    };\n\n    if (opts.lockX){\n        pos.y = nipple.position.y;\n    }\n    if (opts.lockY) {\n        pos.x = nipple.position.x;\n    }\n\n    var dist = u.distance(pos, nipple.position);\n    var angle = u.angle(pos, nipple.position);\n    var rAngle = u.radians(angle);\n    var force = dist / size;\n\n    var raw = {\n        distance: dist,\n        position: pos\n    };\n\n    // Clamp the position\n    var clamped_dist;\n    var clamped_pos;\n    if (nipple.options.shape === 'circle') {\n        // Clamp to a circle\n        clamped_dist = Math.min(dist, size);\n        clamped_pos = u.findCoord(nipple.position, clamped_dist, angle);\n    } else {\n        // Clamp to a square\n        clamped_pos = u.clamp(pos, nipple.position, size);\n        clamped_dist = u.distance(clamped_pos, nipple.position);\n    }\n\n    if (opts.follow) {\n        // follow behaviour\n        if (dist > size) {\n            let delta_x = pos.x - clamped_pos.x;\n            let delta_y = pos.y - clamped_pos.y;\n            nipple.position.x += delta_x;\n            nipple.position.y += delta_y;\n            nipple.el.style.top = (nipple.position.y - (self.box.top + scroll.y)) + 'px';\n            nipple.el.style.left = (nipple.position.x - (self.box.left + scroll.x)) + 'px';\n\n            dist = u.distance(pos, nipple.position);\n        }\n    } else {\n        // clamp behaviour\n        pos = clamped_pos;\n        dist = clamped_dist;\n    }\n\n    var xPosition = pos.x - nipple.position.x;\n    var yPosition = pos.y - nipple.position.y;\n\n    nipple.frontPosition = {\n        x: xPosition,\n        y: yPosition\n    };\n\n    if (!opts.dataOnly) {\n        nipple.ui.front.style.transform = 'translate(' + xPosition + 'px,' + yPosition + 'px)';\n    }\n\n    // Prepare event's datas.\n    var toSend = {\n        identifier: nipple.identifier,\n        position: pos,\n        force: force,\n        pressure: evt.force || evt.pressure || evt.webkitForce || 0,\n        distance: dist,\n        angle: {\n            radian: rAngle,\n            degree: angle\n        },\n        vector: {\n            x: xPosition / size,\n            y: - yPosition / size\n        },\n        raw: raw,\n        instance: nipple,\n        lockX: opts.lockX,\n        lockY: opts.lockY\n    };\n\n    // Compute the direction's datas.\n    toSend = nipple.computeDirection(toSend);\n\n    // Offset angles to follow units circle.\n    toSend.angle = {\n        radian: u.radians(180 - angle),\n        degree: 180 - angle\n    };\n\n    // Send everything to everyone.\n    nipple.trigger('move', toSend);\n    self.trigger('move ' + nipple.id + ':move', toSend);\n};\n\nCollection.prototype.processOnEnd = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var identifier = self.manager.getIdentifier(evt);\n    var nipple = self.nipples.get(identifier);\n    var removedIdentifier = self.manager.removeIdentifier(nipple.identifier);\n\n    if (!nipple) {\n        return;\n    }\n\n    if (!opts.dataOnly) {\n        nipple.hide(function () {\n            if (opts.mode === 'dynamic') {\n                nipple.trigger('removed', nipple);\n                self.trigger('removed ' + nipple.id + ':removed', nipple);\n                self.manager\n                    .trigger('removed ' + nipple.id + ':removed', nipple);\n                nipple.destroy();\n            }\n        });\n    }\n\n    // Clear the pressure interval reader\n    clearInterval(self.pressureIntervals[nipple.identifier]);\n\n    // Reset the direciton of the nipple, to be able to trigger a new direction\n    // on start.\n    nipple.resetDirection();\n\n    nipple.trigger('end', nipple);\n    self.trigger('end ' + nipple.id + ':end', nipple);\n\n    // Remove identifier from our bank.\n    if (self.ids.indexOf(nipple.identifier) >= 0) {\n        self.ids.splice(self.ids.indexOf(nipple.identifier), 1);\n    }\n\n    // Clean our actives array.\n    if (self.actives.indexOf(nipple) >= 0) {\n        self.actives.splice(self.actives.indexOf(nipple), 1);\n    }\n\n    if (/(semi|static)/.test(opts.mode)) {\n        // Transfer nipple from actives to idles\n        // if we're in semi or static mode.\n        self.idles.push(nipple);\n    } else if (self.nipples.indexOf(nipple) >= 0) {\n        // Only if we're not in semi or static mode\n        // we can remove the instance.\n        self.nipples.splice(self.nipples.indexOf(nipple), 1);\n    }\n\n    // We unbind move and end.\n    self.manager.unbindDocument();\n\n    // We add back the identifier of the idle nipple;\n    if (/(semi|static)/.test(opts.mode)) {\n        self.manager.ids[removedIdentifier.id] = removedIdentifier.identifier;\n    }\n};\n\n// Remove destroyed nipple from the lists\nCollection.prototype.onDestroyed = function(evt, nipple) {\n    var self = this;\n    if (self.nipples.indexOf(nipple) >= 0) {\n        self.nipples.splice(self.nipples.indexOf(nipple), 1);\n    }\n    if (self.actives.indexOf(nipple) >= 0) {\n        self.actives.splice(self.actives.indexOf(nipple), 1);\n    }\n    if (self.idles.indexOf(nipple) >= 0) {\n        self.idles.splice(self.idles.indexOf(nipple), 1);\n    }\n    if (self.ids.indexOf(nipple.identifier) >= 0) {\n        self.ids.splice(self.ids.indexOf(nipple.identifier), 1);\n    }\n\n    // Remove the identifier from our bank\n    self.manager.removeIdentifier(nipple.identifier);\n\n    // We unbind move and end.\n    self.manager.unbindDocument();\n};\n\n// Cleanly destroy the manager\nCollection.prototype.destroy = function () {\n    var self = this;\n    self.unbindEvt(self.options.zone, 'start');\n\n    // Destroy nipples.\n    self.nipples.forEach(function(nipple) {\n        nipple.destroy();\n    });\n\n    // Clean 3DTouch intervals.\n    for (var i in self.pressureIntervals) {\n        if (self.pressureIntervals.hasOwnProperty(i)) {\n            clearInterval(self.pressureIntervals[i]);\n        }\n    }\n\n    // Notify the manager passing the instance\n    self.trigger('destroyed', self.nipples);\n    // We unbind move and end.\n    self.manager.unbindDocument();\n    // Unbind everything.\n    self.off();\n};\n\nexport default Collection;\n","import Collection from './collection';\nimport Super from './super';\nimport * as u from './utils';\n\n///////////////////////\n///     MANAGER     ///\n///////////////////////\n\nfunction Manager (options) {\n    var self = this;\n    self.ids = {};\n    self.index = 0;\n    self.collections = [];\n    self.scroll = u.getScroll();\n\n    self.config(options);\n    self.prepareCollections();\n\n    // Listen for resize, to reposition every joysticks\n    var resizeHandler = function () {\n        var pos;\n        self.collections.forEach(function (collection) {\n            collection.forEach(function (nipple) {\n                pos = nipple.el.getBoundingClientRect();\n                nipple.position = {\n                    x: self.scroll.x + pos.left,\n                    y: self.scroll.y + pos.top\n                };\n            });\n        });\n    };\n    u.bindEvt(window, 'resize', function () {\n        u.throttle(resizeHandler);\n    });\n\n    // Listen for scrolls, so we have a global scroll value\n    // without having to request it all the time.\n    var scrollHandler = function () {\n        self.scroll = u.getScroll();\n    };\n    u.bindEvt(window, 'scroll', function () {\n        u.throttle(scrollHandler);\n    });\n\n    return self.collections;\n}\n\nManager.prototype = new Super();\nManager.constructor = Manager;\n\nManager.prototype.prepareCollections = function () {\n    var self = this;\n    // Public API Preparation.\n    self.collections.create = self.create.bind(self);\n    // Listen to anything\n    self.collections.on = self.on.bind(self);\n    // Unbind general events\n    self.collections.off = self.off.bind(self);\n    // Destroy everything\n    self.collections.destroy = self.destroy.bind(self);\n    // Get any nipple\n    self.collections.get = function (id) {\n        var nipple;\n        // Use .every() to break the loop as soon as found.\n        self.collections.every(function (collection) {\n            nipple = collection.get(id);\n            return nipple ? false : true;\n        });\n        return nipple;\n    };\n};\n\nManager.prototype.create = function (options) {\n    return this.createCollection(options);\n};\n\n// Collection Factory\nManager.prototype.createCollection = function (options) {\n    var self = this;\n    var collection = new Collection(self, options);\n\n    self.bindCollection(collection);\n    self.collections.push(collection);\n\n    return collection;\n};\n\nManager.prototype.bindCollection = function (collection) {\n    var self = this;\n    var type;\n    // Bubble up identified events.\n    var handler = function (evt, data) {\n        // Identify the event type with the nipple's identifier.\n        type = evt.type + ' ' + data.id + ':' + evt.type;\n        self.trigger(type, data);\n    };\n\n    // When it gets destroyed we clean.\n    collection.on('destroyed', self.onDestroyed.bind(self));\n\n    // Other events that will get bubbled up.\n    collection.on('shown hidden rested dir plain', handler);\n    collection.on('dir:up dir:right dir:down dir:left', handler);\n    collection.on('plain:up plain:right plain:down plain:left', handler);\n};\n\nManager.prototype.bindDocument = function () {\n    var self = this;\n    // Bind only if not already binded\n    if (!self.binded) {\n        self.bindEvt(document, 'move')\n            .bindEvt(document, 'end');\n        self.binded = true;\n    }\n};\n\nManager.prototype.unbindDocument = function (force) {\n    var self = this;\n    // If there are no touch left\n    // unbind the document.\n    if (!Object.keys(self.ids).length || force === true) {\n        self.unbindEvt(document, 'move')\n            .unbindEvt(document, 'end');\n        self.binded = false;\n    }\n};\n\nManager.prototype.getIdentifier = function (evt) {\n    var id;\n    // If no event, simple increment\n    if (!evt) {\n        id = this.index;\n    } else {\n        // Extract identifier from event object.\n        // Unavailable in mouse events so replaced by latest increment.\n        id = evt.identifier === undefined ? evt.pointerId : evt.identifier;\n        if (id === undefined) {\n            id = this.latest || 0;\n        }\n    }\n\n    if (this.ids[id] === undefined) {\n        this.ids[id] = this.index;\n        this.index += 1;\n    }\n\n    // Keep the latest id used in case we're using an unidentified mouseEvent\n    this.latest = id;\n    return this.ids[id];\n};\n\nManager.prototype.removeIdentifier = function (identifier) {\n    var removed = {};\n    for (var id in this.ids) {\n        if (this.ids[id] === identifier) {\n            removed.id = id;\n            removed.identifier = this.ids[id];\n            delete this.ids[id];\n            break;\n        }\n    }\n    return removed;\n};\n\nManager.prototype.onmove = function (evt) {\n    var self = this;\n    self.onAny('move', evt);\n    return false;\n};\n\nManager.prototype.onend = function (evt) {\n    var self = this;\n    self.onAny('end', evt);\n    return false;\n};\n\nManager.prototype.oncancel = function (evt) {\n    var self = this;\n    self.onAny('end', evt);\n    return false;\n};\n\nManager.prototype.onAny = function (which, evt) {\n    var self = this;\n    var id;\n    var processFn = 'processOn' + which.charAt(0).toUpperCase() +\n        which.slice(1);\n    evt = u.prepareEvent(evt);\n    var processColl = function (e, id, coll) {\n        if (coll.ids.indexOf(id) >= 0) {\n            coll[processFn](e);\n            // Mark the event to avoid cleaning it later.\n            e._found_ = true;\n        }\n    };\n    var processEvt = function (e) {\n        id = self.getIdentifier(e);\n        u.map(self.collections, processColl.bind(null, e, id));\n        // If the event isn't handled by any collection,\n        // we need to clean its identifier.\n        if (!e._found_) {\n            self.removeIdentifier(id);\n        }\n    };\n\n    u.map(evt, processEvt);\n\n    return false;\n};\n\n// Cleanly destroy the manager\nManager.prototype.destroy = function () {\n    var self = this;\n    self.unbindDocument(true);\n    self.ids = {};\n    self.index = 0;\n    self.collections.forEach(function(collection) {\n        collection.destroy();\n    });\n    self.off();\n};\n\n// When a collection gets destroyed\n// we clean behind.\nManager.prototype.onDestroyed = function (evt, coll) {\n    var self = this;\n    if (self.collections.indexOf(coll) < 0) {\n        return false;\n    }\n    self.collections.splice(self.collections.indexOf(coll), 1);\n};\n\nexport default Manager;\n","import Manager from './manager';\n\nconst factory = new Manager();\nexport default {\n    create: function (options) {\n        return factory.create(options);\n    },\n    factory: factory\n};\n","import { Layers } from \"../dom/layers\";\nimport { createButton } from \"./button\";\nimport { createDiv, stopPropagation } from \"../dom/helpers\";\n\nexport function options(layers: Layers,\n                        layersNames: string[],\n                        onLayerChange: (layer: string) => void,\n                        size: number,\n                        top: number,\n                        right: number) {\n    const ident = Math.round(size / 4);\n\n    let controlsVisbile = false;\n    const keyboardVisible = false;\n\n    const updateVisibility = () => {\n        const display = controlsVisbile ? \"flex\" : \"none\";\n        for (const next of children) {\n            if (next == options) {\n                continue;\n            }\n\n            next.style.display = display;\n        }\n    };\n\n    const toggleOptions = () => {\n        controlsVisbile = !controlsVisbile;\n\n        if (!controlsVisbile && keyboardVisible) {\n            layers.toggleKeyboard();\n        }\n\n        updateVisibility();\n    };\n\n    const children: HTMLElement[] = [\n        createSelectForLayers(layersNames, onLayerChange),\n        createButton(\"keyboard\", {\n            onClick: () => {\n                layers.toggleKeyboard();\n\n                if (controlsVisbile && !keyboardVisible) {\n                    controlsVisbile = false;\n                    updateVisibility();\n                }\n            },\n        }, size),\n        createButton(\"options\", {\n            onClick: toggleOptions,\n        }, size),\n    ];\n    const options = children[children.length - 1];\n\n    const container = createDiv(\"emulator-options\");\n    const intialDisplay = keyboardVisible ? \"flex\" : \"none\";\n    for (const next of children) {\n        if (next !== options) {\n            next.classList.add(\"emulator-button-control\");\n        }\n        next.style.marginRight = ident + \"px\";\n        next.style.marginBottom = ident + \"px\";\n        if (next !== options) {\n            next.style.display = intialDisplay;\n        }\n        container.appendChild(next);\n    }\n\n    container.style.position = \"absolute\";\n    container.style.right = right + \"px\";\n    container.style.top = top + \"px\";\n\n    layers.mouseOverlay.appendChild(container);\n\n    return () => {\n        layers.mouseOverlay.removeChild(container);\n    };\n}\n\nfunction createSelectForLayers(layers: string[], onChange: (layer: string) => void) {\n    if (layers.length <= 1) {\n        return document.createElement(\"div\");\n    }\n\n    const select = document.createElement(\"select\");\n    select.classList.add(\"emulator-control-select\");\n\n\n    for (const next of layers) {\n        const option = document.createElement(\"option\");\n        option.value = next;\n        option.innerHTML = next;\n        select.appendChild(option);\n    }\n\n    select.onchange = (e: any) => {\n        const layer = e.target.value;\n        onChange(layer);\n    };\n\n    stopPropagation(select, false);\n\n    return select;\n}\n\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../dom/layers\";\n\nexport type Mapper = {[keyCode: number]: number};\n\nexport function keyboard(layers: Layers,\n                         ci: CommandInterface,\n                         mapperOpt?: Mapper) {\n    const mapper = mapperOpt || {};\n    function map(keyCode: number) {\n        if (mapper[keyCode] !== undefined) {\n            return mapper[keyCode];\n        }\n\n        return keyCode;\n    }\n\n    layers.setOnKeyDown((keyCode: number) => {\n        ci.sendKeyEvent(map(keyCode), true);\n    });\n    layers.setOnKeyUp((keyCode: number) => {\n        ci.sendKeyEvent(map(keyCode), false);\n    });\n    layers.setOnKeyPress((keyCode: number) => {\n        ci.simulateKeyPress(map(keyCode));\n    });\n    layers.setOnKeysPress((keyCodes: number[]) => {\n        ci.simulateKeyPress(...keyCodes);\n    });\n\n    return () => {\n        // eslint-disable-next-line\n        layers.setOnKeyDown((keyCode: number) => { /**/ });\n        // eslint-disable-next-line\n        layers.setOnKeyUp((keyCode: number) => { /**/ });\n        // eslint-disable-next-line\n        layers.setOnKeyPress((keyCode: number) => { /**/ });\n        // eslint-disable-next-line\n        layers.setOnKeysPress((keyCodes: number[]) => { /**/ });\n    };\n}\n","import { LegacyLayersConfig } from \"./layers-config\";\nimport { Layers } from \"../dom/layers\";\nimport { CommandInterface } from \"emulators\";\nimport { deprecatedButton } from \"./button\";\nimport { mouse } from \"./mouse/mouse-common\";\nimport { nipple } from \"./nipple\";\nimport { options } from \"./options\";\nimport { keyboard } from \"./keyboard\";\nimport { LayersInstance } from \"../instance\";\n\nexport function initLegacyLayersControl(\n    dosInstance: LayersInstance,\n    layers: Layers,\n    layersConfig: LegacyLayersConfig,\n    ci: CommandInterface) {\n    const layersNames = Object.keys(layersConfig);\n\n    const unbind = {\n        keyboard: () => {/**/},\n        mouse: () => {/**/},\n        gestures: () => {/**/},\n        buttons: () => {/**/},\n    };\n\n    const changeControlLayer = (layerName: string) => {\n        unbind.keyboard();\n        unbind.mouse();\n        unbind.gestures();\n        unbind.buttons();\n\n        unbind.keyboard = () => {/**/};\n        unbind.mouse = () => {/**/};\n        unbind.gestures = () => {/**/};\n        unbind.buttons = () => {/**/};\n\n        const layer = layersConfig[layerName];\n        if (layer === undefined) {\n            return;\n        }\n\n        unbind.keyboard = keyboard(layers, ci, layer.mapper);\n\n        if (layer.gestures !== undefined && layer.gestures.length > 0) {\n            unbind.gestures = nipple(layers, ci, layer.gestures);\n        } else {\n            unbind.mouse = mouse(dosInstance.autolock, dosInstance.sensitivity, layers, ci);\n        }\n\n        if (layer.buttons !== undefined && layer.buttons.length) {\n            unbind.buttons = deprecatedButton(layers, ci, layer.buttons, 54);\n        }\n    };\n\n\n    const unbindOptions =\n        (layers.options.optionControls?.length === 0) ?\n            () => {/**/} :\n            options(layers, layersNames, changeControlLayer, 54, 54 / 4, 0);\n\n    changeControlLayer(\"default\");\n\n    return () => {\n        unbind.gestures();\n        unbind.buttons();\n        unbind.mouse();\n        unbind.keyboard();\n        unbindOptions();\n    };\n}\n","import nipplejs from \"nipplejs\";\n\nimport { KBD_NONE } from \"../../window/dos/controls/keys\";\n\nimport { CommandInterface } from \"emulators\";\nimport { Layers } from \"../dom/layers\";\n\nexport type Event =\n    \"dir:up\" | \"dir:down\" | \"dir:left\" | \"dir:right\" |\n    \"plain:up\" | \"plain:down\" | \"plain:left\" | \"plain:right\" |\n    \"end:release\" | \"tap\";\n\nexport interface EventMapping {\n    joystickId: 0 | 1,\n    event: Event,\n    mapTo: number,\n}\n\nexport function nipple(layers: Layers,\n                       ci: CommandInterface,\n                       mapping: EventMapping[]) {\n    const manager = nipplejs.create({\n        zone: layers.mouseOverlay,\n        multitouch: true,\n        maxNumberOfNipples: 2,\n    });\n\n    let pressed = -1;\n\n    const press = (keyCode: number) => {\n        layers.fireKeyDown(keyCode);\n        pressed = keyCode;\n    };\n\n    const release = () => {\n        if (pressed !== -1) {\n            layers.fireKeyUp(pressed);\n            pressed = -1;\n        }\n    };\n\n    const releaseOnEnd: {[index: number]: boolean} = {};\n    const tapJoysticks: {[index: number]: number} = {};\n    const usedTimes: {[index: number]: number} = {\n    };\n    for (const next of mapping) {\n        if (next.event === \"end:release\") {\n            releaseOnEnd[next.joystickId] = true;\n        } else if (next.mapTo !== KBD_NONE) {\n            if (next.event === \"tap\") {\n                tapJoysticks[next.joystickId] = next.mapTo;\n            } else {\n                manager.on(next.event, () => {\n                    usedTimes[next.joystickId] = Date.now();\n                    release();\n                    press(next.mapTo);\n                });\n            }\n        }\n    }\n\n    const startTimes: {[index: number]: number} = {};\n    manager.on(\"start\", () => {\n        const id = manager.ids.length - 1;\n        startTimes[id] = Date.now();\n    });\n\n    manager.on(\"end\", () => {\n        const id = manager.ids.length - 1;\n        const delay = Date.now() - startTimes[id];\n\n        if (releaseOnEnd[id] === true) {\n            release();\n        }\n\n        if (tapJoysticks[id] && delay < 500 && usedTimes[id] < startTimes[id]) {\n            layers.fireKeyPress(tapJoysticks[id]);\n        }\n    });\n\n    return () => manager.destroy();\n}\n\n","export type GridType = \"square\" | \"honeycomb\";\n\nexport interface Cell {\n    centerX: number;\n    centerY: number;\n}\n\nexport interface GridConfiguration {\n    gridType: GridType,\n    cells: Cell[][];\n    columnWidth: number;\n    rowHeight: number;\n    columnsPadding: number;\n    rowsPadding: number;\n    width: number;\n    height: number;\n}\n\nexport interface Grid {\n    getConfiguration(width: number, height: number, scale?: number): GridConfiguration;\n}\n\nexport function getGrid(gridType: GridType) {\n    switch (gridType) {\n        case \"square\": return getSquareGrid();\n        case \"honeycomb\": return getHoneyCombGrid();\n    }\n\n    throw new Error(\"Unknown grid type \" + gridType);\n}\n\nfunction getSquareGrid(): Grid {\n    class SquareGrid implements Grid {\n        aspect = 200 / 320;\n\n        getConfiguration(width: number, height: number, scale = 1): GridConfiguration {\n            const cols = this.getCols();\n            const rows = this.getRows();\n            const middleCol = Math.floor(cols / 2);\n            const middleRow = Math.floor(rows / 2);\n            const columnsPadding = width * 5 / 100 / 2;\n            const rowsPadding = columnsPadding;\n            const columnWidth = (width - columnsPadding * 2) / cols * scale;\n            const rowHeight = (height - rowsPadding * 2) / rows * scale;\n            const size = Math.min(columnWidth, rowHeight);\n            const cells: Cell[][] = [];\n            for (let row = 0; row < rows; ++row) {\n                const cellRow: Cell[] = [];\n                for (let col = 0; col < cols; ++col) {\n                    cellRow.push({\n                        centerX: col < middleCol ?\n                            columnsPadding + size * (col + 1 / 2) :\n                            width - columnsPadding - size * ((cols - col - 1) + 1 / 2),\n                        centerY: row < middleRow ?\n                            rowsPadding + size * (row + 1 / 2) :\n                            height - rowsPadding - size * ((rows - row - 1) + 1 / 2),\n                    });\n                }\n                cells.push(cellRow);\n            }\n            return {\n                gridType: \"square\",\n                cells,\n                columnWidth: size,\n                rowHeight: size,\n                columnsPadding,\n                rowsPadding,\n                width,\n                height,\n            };\n        }\n\n        private getCols() {\n            return 10;\n        }\n\n        private getRows() {\n            return Math.floor(this.getCols() * this.aspect) + 1;\n        }\n    }\n\n    return new SquareGrid();\n}\n\nfunction getHoneyCombGrid(): Grid {\n    class SquareGrid implements Grid {\n        aspect = 200 / 320;\n\n        getConfiguration(width: number, height: number, scale = 1): GridConfiguration {\n            const cols = this.getCols();\n            const rows = this.getRows();\n            const middleCol = Math.floor(cols / 2);\n            const middleRow = Math.floor(rows / 2);\n            const columnsPadding = width * 5 / 100 / 2;\n            const rowsPadding = columnsPadding;\n            const columnWidth = (width - columnsPadding * 2) / cols * scale;\n            const rowHeight = (height - rowsPadding * 2) / rows * scale;\n            const size = Math.min(columnWidth, rowHeight);\n            const cells: Cell[][] = [];\n            for (let row = 0; row < rows; ++row) {\n                const cellRow: Cell[] = [];\n                const cellCols = row % 2 == 0 ? cols : cols - 1;\n                const padding = row % 2 == 0 ? 0 : size / 2;\n                for (let col = 0; col < cellCols; ++col) {\n                    cellRow.push({\n                        centerX: col < middleCol ?\n                            padding + columnsPadding + size * (col + 1 / 2):\n                            padding + width - columnsPadding - size * ((cols - col - 1) + 1/2),\n                        centerY: row < middleRow ?\n                            rowsPadding + size * (row + 1 / 2) :\n                            height - rowsPadding - size * ((rows - row - 1) + 1 / 2),\n                    });\n                }\n                cells.push(cellRow);\n            }\n            return {\n                gridType: \"honeycomb\",\n                cells,\n                columnWidth: size,\n                rowHeight: size,\n                columnsPadding,\n                rowsPadding,\n                width,\n                height,\n            };\n        }\n\n        getCols() {\n            return 10;\n        }\n\n        getRows() {\n            return Math.floor(this.getCols() * this.aspect) + 1;\n        }\n    }\n\n    return new SquareGrid();\n}\n","import { Layers } from \"../dom/layers\";\nimport { CommandInterface } from \"emulators\";\nimport {\n    LayersConfig, LayerConfig, LayerKeyControl,\n    LayerControl, LayerSwitchControl, LayerScreenMoveControl,\n    LayerPointerButtonControl, LayerPointerMoveControl, LayerPointerResetControl,\n    LayerPointerToggleControl, LayerNippleActivatorControl,\n} from \"./layers-config\";\nimport { Cell, getGrid, GridConfiguration } from \"./grid\";\nimport { createButton } from \"./button\";\nimport { keyboard } from \"./keyboard\";\nimport { mouse } from \"./mouse/mouse-common\";\nimport { options } from \"./options\";\nimport { pointer } from \"../../window/dos/controls/mouse/pointer\";\nimport { LayersInstance } from \"../instance\";\nimport nipplejs from \"nipplejs\";\n\nexport function initLayersControl(\n    layers: Layers,\n    layersConfig: LayersConfig,\n    ci: CommandInterface,\n    dosInstance: LayersInstance,\n    mirrored: boolean,\n    scale: number,\n    layerName?: string): () => void {\n    let selectedLayer = layersConfig.layers[0];\n    if (layerName !== undefined) {\n        for (const next of layersConfig.layers) {\n            if (next.title === layerName) {\n                selectedLayer = next;\n                break;\n            }\n        }\n    }\n    return initLayerConfig(selectedLayer, layers, ci, dosInstance, mirrored, scale);\n}\n\ninterface CellWithMeta extends Cell {\n    hidden?: boolean,\n}\n\ninterface Sensor {\n    activate: () => void;\n    deactivate: () => void;\n}\n\ninterface MirroredInfo {\n    leftStart: number;\n    leftEnd: number;\n    rightStart: number;\n    rightEnd: number;\n}\n\nclass ControlSensors {\n    sensors: { [key: string]: Sensor } = {};\n\n    activate(row: number, column: number) {\n        const sensor = this.sensors[column + \"_\" + row];\n        if (sensor !== undefined) {\n            sensor.activate();\n        }\n    }\n\n    deactivate(row: number, column: number) {\n        const sensor = this.sensors[column + \"_\" + row];\n        if (sensor !== undefined) {\n            sensor.deactivate();\n        }\n    }\n\n    register(row: number, column: number, sensor: Sensor) {\n        this.sensors[column + \"_\" + row] = sensor;\n    }\n}\n\ntype ControlFactory = (control: any,\n    layers: Layers,\n    ci: CommandInterface,\n    gridConfig: GridConfiguration,\n    sensors: ControlSensors,\n    dosInstance: LayersInstance) => () => void;\n\nconst factoryMapping: { [type: string]: ControlFactory } = {\n    Key: createKeyControl,\n    Options: createOptionsControl,\n    Keyboard: createKeyboardControl,\n    Switch: createSwitchControl,\n    ScreenMove: createScreenMoveControl,\n    PointerButton: createPointerButtonControl,\n    PointerMove: createPointerMoveControl,\n    PointerReset: createPointerResetControl,\n    PointerToggle: createPointerToggleControl,\n    NippleActivator: createNippleActivatorControl,\n};\n\nfunction initLayerConfig(layerConfig: LayerConfig,\n                         layers: Layers,\n                         ci: CommandInterface,\n                         dosInstance: LayersInstance,\n                         mirrored: boolean,\n                         scale: number): () => void {\n    const unbindKeyboard = keyboard(layers, ci);\n    const unbindMouse = mouse(dosInstance.autolock, dosInstance.sensitivity, layers, ci);\n\n    const unbindControls: (() => void)[] = [];\n    function rebuild(width: number, height: number) {\n        for (const next of unbindControls) {\n            next();\n        }\n        unbindControls.splice(0, unbindControls.length);\n\n        const grid = getGrid(layerConfig.grid);\n        const gridConfig = grid.getConfiguration(width, height, scale);\n        const sensors = new ControlSensors();\n\n        for (const next of layerConfig.controls) {\n            const { row, column, type } = next;\n            if (type === \"NippleActivator\") {\n                setHiddenAround(gridConfig, row, column);\n            }\n        }\n\n        let doOffsetColumnInRow = -1;\n        if (layers.options.optionControls?.length === 0) {\n            for (const next of layerConfig.controls) {\n                const { row, type } = next;\n                if (type === \"Options\") {\n                    doOffsetColumnInRow = row;\n                    break;\n                }\n            }\n        }\n\n        const mirroredInfo: { [row: number]: MirroredInfo } = {};\n        if (mirrored) {\n            for (const next of layerConfig.controls) {\n                const { row } = next;\n                let column = next.column;\n                const columnsCount = gridConfig.cells[row].length;\n                const middleColumn = columnsCount / 2;\n\n                if (row === doOffsetColumnInRow && column >= middleColumn) {\n                    column = Math.min(column + 1, columnsCount - 1);\n                }\n\n                if (mirroredInfo[row] === undefined) {\n                    mirroredInfo[row] = {\n                        leftStart: middleColumn,\n                        leftEnd: 0,\n                        rightStart: columnsCount - 1,\n                        rightEnd: middleColumn,\n                    };\n                }\n\n                if (column < middleColumn) {\n                    mirroredInfo[row].leftStart = Math.min(mirroredInfo[row].leftStart, column);\n                    mirroredInfo[row].leftEnd = Math.max(mirroredInfo[row].leftEnd, column);\n                } else {\n                    mirroredInfo[row].rightStart = Math.min(mirroredInfo[row].rightStart, column);\n                    mirroredInfo[row].rightEnd = Math.max(mirroredInfo[row].rightEnd, column);\n                }\n            }\n        }\n\n        for (const next of layerConfig.controls) {\n            const factory = factoryMapping[next.type];\n            if (factory === undefined) {\n                console.error(\"Factory for control '\" + next.type + \"' is not defined\");\n                continue;\n            }\n\n            const copy = { ...next };\n            const columnsCount = gridConfig.cells[next.row].length;\n            const middleColumn = columnsCount / 2;\n            if (doOffsetColumnInRow === next.row && next.column >= middleColumn) {\n                copy.column = Math.min(copy.column + 1, columnsCount - 1);\n            }\n\n            if (mirrored) {\n                const { leftStart, leftEnd, rightStart, rightEnd } = mirroredInfo[copy.row];\n                const leftSide = copy.column < middleColumn;\n                if (leftSide) {\n                    copy.column += middleColumn + (middleColumn - leftEnd) - leftStart - 1;\n                } else {\n                    copy.column -= middleColumn + (rightStart - middleColumn) - (columnsCount - rightEnd) + 1;\n                }\n\n                if (copy.column >= columnsCount) {\n                    console.error(\"Column\", copy.column, \"is out of bound\",\n                        columnsCount, leftSide ? \"[leftSide]\" : \"[rightSide]\", mirroredInfo);\n                    copy.column = columnsCount - 1;\n                } else if (copy.column < 0) {\n                    console.error(\"Column\", copy.column, \"is out of bound\",\n                        0, leftSide ? \"[leftSide]\" : \"[rightSide]\", mirroredInfo);\n                    copy.column = 0;\n                }\n            }\n\n            const unbind = factory(copy, layers, ci, gridConfig, sensors, dosInstance);\n            unbindControls.push(unbind);\n        }\n    }\n\n    layers.addOnResize(rebuild);\n    rebuild(layers.width, layers.height);\n\n    return () => {\n        layers.removeOnResize(rebuild);\n        unbindKeyboard();\n        unbindMouse();\n        for (const next of unbindControls) {\n            next();\n        }\n    };\n}\n\nfunction createKeyControl(keyControl: LayerKeyControl,\n                          layers: Layers,\n                          ci: CommandInterface,\n                          gridConfig: GridConfiguration,\n                          sensors: ControlSensors,\n                          dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = keyControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            for (const next of keyControl.mapTo) {\n                ci.sendKeyEvent(next, true);\n            }\n        },\n        onUp: () => {\n            for (const next of keyControl.mapTo) {\n                ci.sendKeyEvent(next, false);\n            }\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(keyControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createOptionsControl(optionControl: LayerControl,\n                              layers: Layers,\n                              ci: CommandInterface,\n                              gridConfig: GridConfiguration,\n                              sensors: ControlSensors,\n                              dosInstance: LayersInstance) {\n    if (layers.options.optionControls?.length === 0) {\n        return () => {/**/};\n    }\n\n    if (layers.options.optionControls !== undefined &&\n        layers.options.optionControls.length === 1 &&\n        layers.options.optionControls[0] === \"keyboard\") {\n        return createKeyboardControl(optionControl, layers, ci, gridConfig, sensors, dosInstance);\n    }\n\n    const { cells, columnWidth, rowHeight } = gridConfig;\n    const { row, column } = optionControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const top = centerY - rowHeight / 2;\n    const left = centerX - columnWidth / 2;\n    const right = gridConfig.width - left - columnWidth;\n\n    return options(layers, [\"default\"], () => {/**/},\n        columnWidth,\n        top,\n        right);\n}\n\nfunction createKeyboardControl(keyboardControl: LayerControl,\n                               layers: Layers,\n                               ci: CommandInterface,\n                               gridConfig: GridConfiguration,\n                               sensors: ControlSensors,\n                               dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = keyboardControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const button = createButton(\"keyboard\", {\n        onUp: () => layers.toggleKeyboard(),\n    }, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => {\n        layers.mouseOverlay.removeChild(button);\n    };\n}\n\nfunction createSwitchControl(switchControl: LayerSwitchControl,\n                             layers: Layers,\n                             ci: CommandInterface,\n                             gridConfig: GridConfiguration,\n                             sensors: ControlSensors,\n                             dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = switchControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const button = createButton(switchControl.symbol, {\n        onUp: () => dosInstance.setActiveConfig(dosInstance.getActiveConfig(), switchControl.layerName),\n    }, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => {\n        layers.mouseOverlay.removeChild(button);\n    };\n}\n\nfunction createScreenMoveControl(screenMoveControl: LayerScreenMoveControl,\n                                 layers: Layers,\n                                 ci: CommandInterface,\n                                 gridConfig: GridConfiguration,\n                                 sensors: ControlSensors,\n                                 dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = screenMoveControl;\n    const { centerX, centerY } = cells[row][column];\n\n    let mX = 0.5;\n    let mY = 0.5;\n\n    if (screenMoveControl.direction.indexOf(\"up\") >= 0) {\n        mY = 0;\n    }\n\n    if (screenMoveControl.direction.indexOf(\"down\") >= 0) {\n        mY = 1;\n    }\n\n    if (screenMoveControl.direction.indexOf(\"left\") >= 0) {\n        mX = 0;\n    }\n\n    if (screenMoveControl.direction.indexOf(\"right\") >= 0) {\n        mX = 1;\n    }\n\n    const handler = {\n        onDown: () => {\n            ci.sendMouseMotion(mX, mY);\n        },\n        onUp: () => {\n            ci.sendMouseMotion(0.5, 0.5);\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(screenMoveControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerButtonControl(pointerButtonControl: LayerPointerButtonControl,\n                                    layers: Layers,\n                                    ci: CommandInterface,\n                                    gridConfig: GridConfiguration,\n                                    sensors: ControlSensors,\n                                    dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column, click } = pointerButtonControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            if (!click) {\n                layers.pointerButton = pointerButtonControl.button;\n            } else {\n                ci.sendMouseButton(pointerButtonControl.button, true);\n            }\n        },\n        onUp: () => {\n            if (!click) {\n                layers.pointerButton = 0;\n            } else {\n                ci.sendMouseButton(pointerButtonControl.button, false);\n            }\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerButtonControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerMoveControl(pointerMoveControl: LayerPointerMoveControl,\n                                  layers: Layers,\n                                  ci: CommandInterface,\n                                  gridConfig: GridConfiguration,\n                                  sensors: ControlSensors,\n                                  dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column, x, y } = pointerMoveControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            ci.sendMouseMotion(x, y);\n        },\n        onUp: () => {\n            ci.sendMouseMotion(x, y);\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerMoveControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerResetControl(pointerResetControl: LayerPointerResetControl,\n                                   layers: Layers,\n                                   ci: CommandInterface,\n                                   gridConfig: GridConfiguration,\n                                   sensors: ControlSensors,\n                                   dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = pointerResetControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            ci.sendMouseSync();\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: () => { },\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerResetControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerToggleControl(pointerToggleControl: LayerPointerToggleControl,\n                                    layers: Layers,\n                                    ci: CommandInterface,\n                                    gridConfig: GridConfiguration,\n                                    sensors: ControlSensors,\n                                    dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = pointerToggleControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            layers.pointerDisabled = !layers.pointerDisabled;\n            if (layers.pointerDisabled) {\n                if (!button.classList.contains(\"emulator-button-highlight\")) {\n                    button.classList.add(\"emulator-button-highlight\");\n                }\n            } else {\n                button.classList.remove(\"emulator-button-highlight\");\n            }\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: () => { },\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerToggleControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createNippleActivatorControl(nippleActivatorControl: LayerNippleActivatorControl,\n                                      layers: Layers,\n                                      ci: CommandInterface,\n                                      gridConfig: GridConfiguration,\n                                      sensors: ControlSensors,\n                                      dosInstance: LayersInstance) {\n    const { cells, columnWidth, rowHeight, width, height } = gridConfig;\n    const { row, column } = nippleActivatorControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const nippleContainer = document.createElement(\"div\");\n    const cellSize = 1.5;\n    const left = Math.max(0, centerX - columnWidth * cellSize);\n    const top = Math.max(0, centerY - rowHeight * cellSize);\n    const right = Math.max(0, width - centerX - columnWidth * cellSize);\n    const bottom = Math.max(0, height - centerY - rowHeight * cellSize);\n\n    nippleContainer.style.position = \"absolute\";\n    nippleContainer.style.zIndex = \"999\";\n    nippleContainer.style.left = left + \"px\";\n    nippleContainer.style.top = top + \"px\";\n    nippleContainer.style.right = right + \"px\";\n    nippleContainer.style.bottom = bottom + \"px\";\n\n    layers.mouseOverlay.appendChild(nippleContainer);\n\n    const manager = nipplejs.create({\n        zone: nippleContainer,\n        multitouch: false,\n        maxNumberOfNipples: 1,\n        mode: \"static\",\n        follow: false,\n        dynamicPage: true,\n        size: Math.max(columnWidth, rowHeight) * 1.5,\n        position: {\n            left: (width - right - left) / 2 + \"px\",\n            top: (height - bottom - top) / 2 + \"px\",\n        },\n    });\n\n    let activeColumn = -1;\n    let activeRow = -1;\n    manager.on(\"move\", (evt: any, data: any) => {\n        if (data.distance < 10) {\n            sensors.deactivate(activeRow, activeColumn);\n            activeColumn = -1;\n            activeRow = -1;\n            return;\n        }\n        let targetColumn = -1;\n        let targetRow = -1;\n        const step = 360 / 8;\n        const half = step / 2;\n        const degree = data.angle.degree;\n        if (degree > half && degree <= half + step) {\n            // console.log(\"up-right\")\n            targetColumn = column + 1;\n            targetRow = row - 1;\n        } else if (degree > half + step && degree <= half + step * 2) {\n            // console.log(\"up\");\n            targetColumn = column;\n            targetRow = row - 1;\n        } else if (degree > half + step * 2 && degree <= half + step * 3) {\n            // console.log(\"up-left\");\n            targetColumn = column - 1;\n            targetRow = row - 1;\n        } else if (degree > half + step * 3 && degree <= half + step * 4) {\n            // console.log(\"left\");\n            targetColumn = column - 1;\n            targetRow = row;\n        } else if (degree > half + step * 4 && degree <= half + step * 5) {\n            // console.log(\"down-left\");\n            targetColumn = column - 1;\n            targetRow = row + 1;\n        } else if (degree > half + step * 5 && degree <= half + step * 6) {\n            // console.log(\"down\")\n            targetColumn = column;\n            targetRow = row + 1;\n        } else if (degree > half + step * 6 && degree <= half + step * 7) {\n            // console.log(\"down-right\");\n            targetColumn = column + 1;\n            targetRow = row + 1;\n        } else {\n            // console.log(\"right\");\n            targetColumn = column + 1;\n            targetRow = row;\n        }\n\n        if (activeColumn !== targetColumn || activeRow !== targetRow) {\n            sensors.deactivate(activeRow, activeColumn);\n            sensors.activate(targetRow, targetColumn);\n            activeColumn = targetColumn;\n            activeRow = targetRow;\n        }\n    });\n\n    let started = false;\n    manager.on(\"start\", () => {\n        started = true;\n    });\n\n    manager.on(\"end\", () => {\n        started = false;\n        sensors.deactivate(activeRow, activeColumn);\n        activeRow = -1;\n        activeColumn = -1;\n    });\n\n    const options = {\n        capture: true,\n    };\n\n    function onEnd(e: Event) {\n        if (started) {\n            (manager as any).processOnEnd(e);\n        }\n    }\n\n    for (const next of pointer.enders) {\n        layers.mouseOverlay.addEventListener(next, onEnd, options);\n    }\n\n    return () => {\n        manager.destroy();\n        layers.mouseOverlay.removeChild(nippleContainer);\n        for (const next of pointer.enders) {\n            layers.mouseOverlay.removeEventListener(next, onEnd, options);\n        }\n    };\n}\n\nfunction isHidden(config: GridConfiguration, row: number, column: number) {\n    return (config.cells[row][column] as CellWithMeta).hidden === true;\n}\n\nfunction setHiddenAround(config: GridConfiguration,\n                         centralRow: number,\n                         centralColumn: number) {\n    function setHiddenIfValid(row: number, column: number) {\n        if (row === centralRow && column === centralColumn) {\n            return;\n        }\n\n        if (row >= 0 && row < config.cells.length) {\n            const rowCells = config.cells[row];\n            if (column >= 0 && column < rowCells.length) {\n                (rowCells[column] as CellWithMeta).hidden = true;\n            }\n        }\n    }\n\n    for (let ri = centralRow - 1; ri <= centralRow + 1; ++ri) {\n        for (let ci = centralColumn - 1; ci <= centralColumn + 1; ++ci) {\n            setHiddenIfValid(ri, ci);\n        }\n    }\n}\n","import { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { dosSlice, FitConstant } from \"../../store/dos\";\nimport { State, Store, useNonSerializableStore } from \"../../store\";\nimport { CommandInterface } from \"emulators\";\nimport { keyboard } from \"./controls/keyboard\";\nimport { webGl as webglRender } from \"./render/webgl\";\nimport { canvas as canvasRender } from \"./render/canvas\";\nimport { audioNode } from \"./sound/audio-node\";\nimport { useEffect } from \"preact/hooks\";\nimport { mouse } from \"./controls/mouse\";\nimport { KBD_0 } from \"./controls/keys\";\nimport { uiSlice } from \"../../store/ui\";\nimport { useT } from \"../../i18n\";\nimport { Layers } from \"../../layers/dom/layers\";\nimport { LayersConfig, LegacyLayersConfig, extractLayersConfig } from \"../../layers/controls/layers-config\";\nimport { initLegacyLayersControl } from \"../../layers/controls/legacy-layers-control\";\nimport { initLayersControl } from \"../../layers/controls/layers-control\";\nimport { LayersInstance } from \"../../layers/instance\";\n\nexport function useDosRuntime(canvas: HTMLCanvasElement,\n                              ci: CommandInterface): void {\n    useLog(ci);\n    useRenderImage(canvas);\n    useStats(ci);\n    usePause(ci);\n    useKeyboard(ci);\n    useMouse(canvas, ci);\n    useLayers(canvas, ci);\n    useRenderBackend(canvas, ci);\n    useAudioBackend(ci);\n}\n\nfunction useLog(ci: CommandInterface): void {\n    const dispatch = useDispatch();\n    const t = useT();\n    useEffect(() => {\n        const preloadProgress: { [drive: string]: number } = {};\n        ci.events().onMessage((msgType, ...args: string[]) => {\n            if (msgType === \"error\" && args[0]?.startsWith(\"[panic]\")) {\n                dispatch(uiSlice.actions.showToast({\n                    message: args[0],\n                    intent: \"panic\",\n                }));\n            } else if (msgType === \"log\" && args[0]?.indexOf(\"sockdrive:\") !== -1) {\n                const drive = args[0].substring(args[0].indexOf(\" \") + 1, args[0].indexOf(\",\"));\n                dispatch(uiSlice.actions.cloudSaves(false));\n                if (args[0]?.indexOf(\"write=\") !== -1) {\n                    console.log(\"drive\", drive, \"config:\", args[0]);\n                }\n                if (args[0]?.indexOf(\"write=false\") !== -1) {\n                    dispatch(uiSlice.actions.readOnlyWarning(true));\n                }\n                if (args[0]?.indexOf(\"preload=\") !== -1) {\n                    const rest = Number.parseInt(args[0].substring(args[0].indexOf(\"preload=\") + \"preload=\".length));\n                    if (preloadProgress[drive] === undefined) {\n                        preloadProgress[drive] = rest;\n                    }\n\n                    dispatch(uiSlice.actions.showToast({\n                        message: t(\"preloading_sockdrive\") + \" \" +\n                            drive.substring(drive.indexOf(\"/\") + 1) + \"  \" +\n                            (Math.round(preloadProgress[drive] - rest) / 1024 / 1024).toFixed(2) + \"/\" +\n                            (Math.round(preloadProgress[drive] / 1024 / 1024)) + \"Mb\",\n                        long: true,\n                    }));\n                }\n            }\n        });\n    }, [ci, dispatch]);\n}\n\nfunction useRenderImage(canvas: HTMLCanvasElement): void {\n    const rendering = useSelector((state: State) => state.dos.imageRendering);\n    useEffect(() => {\n        canvas.style.imageRendering = rendering === \"smooth\" ? \"auto\" : rendering;\n    }, [canvas, rendering]);\n}\n\nfunction useMouse(canvas: HTMLCanvasElement,\n                  ci: CommandInterface): void {\n    const mobileControls = useSelector((state: State) => state.dos.mobileControls);\n    const mouseCapture = useSelector((state: State) => state.dos.mouseCapture);\n    const mouseSensitivity = 0.1 + useSelector((state: State) => state.dos.mouseSensitivity) * 3;\n    useEffect(() => {\n        if (!mobileControls) {\n            return mouse(mouseCapture, mouseSensitivity, 0, canvas, ci);\n        }\n    }, [canvas, ci, mouseCapture, mouseSensitivity, mobileControls]);\n}\n\nfunction useKeyboard(ci: CommandInterface): void {\n    useEffect(() => {\n        return keyboard(window as any, ci);\n    }, [ci]);\n}\n\nfunction useRenderBackend(canvas: HTMLCanvasElement,\n                          ci: CommandInterface): void {\n    const renderBackend = useSelector((state: State) => state.dos.renderBackend);\n    const renderAspect = useSelector((state: State) => state.dos.renderAspect);\n\n    let aspect: number | undefined = undefined;\n    switch (renderAspect) {\n        case \"1/1\": aspect = 1; break;\n        case \"5/4\": aspect = 5 / 4; break;\n        case \"4/3\": aspect = 4 / 3; break;\n        case \"16/10\": aspect = 16 / 10; break;\n        case \"16/9\": aspect = 16 / 9; break;\n        case \"Fit\": aspect = FitConstant;\n        default:\n    }\n\n    useEffect(() => {\n        let unbind = () => { };\n\n        if (renderBackend === \"canvas\") {\n            unbind = canvasRender(canvas, ci, aspect);\n        } else {\n            try {\n                unbind = webglRender(canvas, ci, aspect);\n            } catch (e) {\n                console.error(\"Unalbe to start webgl render\", e);\n                unbind = canvasRender(canvas, ci, aspect);\n            }\n        }\n\n        return unbind;\n    }, [canvas, ci, renderBackend, aspect]);\n}\n\nfunction useAudioBackend(ci: CommandInterface): void {\n    const store = useStore() as Store;\n\n    useEffect(() => {\n        const unbind = audioNode(ci, (setVolume) => {\n            let volume = 1;\n\n            const updateVolumeIfNeeded = () => {\n                const newVolume = store.getState().dos.volume;\n                if (Math.abs(volume - newVolume) >= 0.05) {\n                    setVolume(newVolume);\n                    volume = newVolume;\n                }\n            };\n\n            const unsubscribe = store.subscribe(updateVolumeIfNeeded);\n            return unsubscribe;\n        });\n\n        return unbind;\n    }, [ci]);\n}\n\nfunction usePause(ci: CommandInterface): void {\n    const paused = useSelector((state: State) => state.dos.paused);\n    const documentHidden = useSelector((state: State) => state.ui.documentHidden);\n    useEffect(() => {\n        (paused || documentHidden) ? ci.pause() : ci.resume();\n    }, [paused, documentHidden, ci]);\n}\n\nfunction useStats(ci: CommandInterface): void {\n    const dispatch = useDispatch();\n    useEffect(() => {\n        let prevCycles = 0;\n        let prevNonSkippableSleepCount = 0;\n        let prevSleepCount = 0;\n        let prevSleepTime = KBD_0;\n        let prevFrame = 0;\n        let prevSound = 0;\n        let prevMsgSent = 0;\n        let prevMsgRecv = 0;\n        let intervalStartedAt = Date.now();\n        const intervalId = setInterval(() => {\n            ci.asyncifyStats().then((stats) => {\n                const dtMs = Date.now() - intervalStartedAt;\n                const dtSec = dtMs / 1000;\n                if (dtSec > 0) {\n                    const dStats = {\n                        cyclesPerMs: Math.round((stats.cycles - prevCycles) / dtMs),\n                        nonSkippableSleepPreSec: Math.round((stats.nonSkippableSleepCount -\n                            prevNonSkippableSleepCount) / dtSec),\n                        sleepPerSec: Math.round((stats.sleepCount - prevSleepCount) / dtSec),\n                        sleepTimePerSec: Math.round((stats.sleepTime - prevSleepTime) / dtSec),\n                        framePerSec: Math.round((stats.messageFrame - prevFrame) / dtSec),\n                        soundPerSec: Math.round((stats.messageSound - prevSound) / dtSec),\n                        msgSentPerSec: Math.round((stats.messageSent - prevMsgSent) / dtSec),\n                        msgRecvPerSec: Math.round((stats.messageReceived - prevMsgRecv) / dtSec),\n                        netSent: stats.netSent,\n                        netRecv: stats.netRecv,\n                        driveSent: stats.driveSent,\n                        driveRecv: stats.driveRecv,\n                        driveRecvTime: stats.driveRecvTime,\n                        driveCacheHit: stats.driveCacheHit,\n                        driveCacheMiss: stats.driveCacheMiss,\n                        driveCacheUsed: stats.driveCacheUsed,\n                        driveIo: stats.driveIo,\n                    };\n                    dispatch(dosSlice.actions.stats(dStats));\n\n                    prevCycles = stats.cycles;\n                    prevNonSkippableSleepCount = stats.nonSkippableSleepCount;\n                    prevSleepCount = stats.sleepCount;\n                    prevSleepTime = stats.sleepTime;\n                    prevFrame = stats.messageFrame;\n                    prevSound = stats.messageSound;\n                    prevMsgSent = stats.messageSent;\n                    prevMsgRecv = stats.messageReceived;\n                    intervalStartedAt = Date.now();\n                }\n            });\n        }, 3000);\n\n        return () => {\n            clearInterval(intervalId);\n        };\n    }, [dispatch, ci]);\n}\n\nfunction useLayers(canvas: HTMLCanvasElement, ci: CommandInterface) {\n    const nsStore = useNonSerializableStore();\n    const mouseCapture = useSelector((state: State) => state.dos.mouseCapture);\n    const mirroredControls = useSelector((state: State) => state.dos.mirroredControls);\n    const scaleControls = 1 + useSelector((state: State) => state.dos.scaleControls);\n    const mouseSensitivity = 0.1 + useSelector((state: State) => state.dos.mouseSensitivity) * 3;\n    const mobileControls = useSelector((state: State) => state.dos.mobileControls);\n    const dispatch = useDispatch();\n    let softKeyboard = useSelector((state: State) => state.dos.softKeyboard);\n    function toggleKeyboard() {\n        softKeyboard = !softKeyboard;\n        dispatch(dosSlice.actions.softKeyboard(softKeyboard));\n    }\n    useEffect(() => {\n        if (mobileControls) {\n            if (nsStore.layers === null) {\n                nsStore.layers = (async function() {\n                    const layers = new Layers(canvas.parentElement as HTMLDivElement, canvas, toggleKeyboard, {});\n                    const config = extractLayersConfig((await ci.config()).jsdosConf);\n\n                    let activeLayer: string | undefined;\n                    let layersConfig: LayersConfig | LegacyLayersConfig | null = null;\n                    let unbindControls = () => { };\n                    const instance: LayersInstance = {\n                        config,\n                        layers,\n                        autolock: mouseCapture,\n                        sensitivity: mouseSensitivity,\n                        mirroredControls,\n                        scaleControls,\n                        activeLayer: activeLayer,\n                        getActiveConfig: () => layersConfig,\n                        setActiveConfig: (config: LayersConfig | LegacyLayersConfig | null, layerName?: string) => {\n                            layersConfig = config;\n                            activeLayer = layerName;\n                            unbindControls();\n\n                            if (config === null) {\n                                unbindControls = () => { };\n                                layers.mouseOverlay.style.display = \"none\";\n                            } else if (config.version === undefined) {\n                                layers.mouseOverlay.style.display = \"block\";\n                                unbindControls = initLegacyLayersControl(instance, layers,\n                                    config as LegacyLayersConfig, ci);\n                            } else {\n                                layers.mouseOverlay.style.display = \"block\";\n                                unbindControls = initLayersControl(layers, config as LayersConfig,\n                                    ci, instance, instance.mirroredControls, instance.scaleControls,\n                                    layerName);\n                            }\n                        },\n                    };\n\n                    instance.setActiveConfig(config);\n                    return instance;\n                })();\n                nsStore.layers.catch(console.error);\n            } else {\n                nsStore.layers.then((instance) => {\n                    instance.autolock = mouseCapture;\n                    instance.sensitivity = mouseSensitivity;\n                    instance.mirroredControls = mirroredControls;\n                    instance.scaleControls = scaleControls;\n                    instance.setActiveConfig(instance.getActiveConfig() ?? instance.config, instance.activeLayer);\n                });\n            }\n        } else if (nsStore.layers !== null) {\n            nsStore.layers.then((l) => l.setActiveConfig(null));\n        }\n    }, [ci, mouseCapture, mouseSensitivity, mobileControls, mirroredControls, scaleControls]);\n};\n","import { CommandInterface } from \"emulators\";\nimport { domToKeyCode } from \"./keys\";\n\nexport function keyboard(el: HTMLElement, ci: CommandInterface) {\n    function onKeyDown(e: KeyboardEvent) {\n        if ((e.target as any).type === \"text\") {\n            return;\n        }\n        const keyCode = domToKeyCode(e.keyCode);\n        ci.sendKeyEvent(keyCode, true);\n        e.stopPropagation();\n        e.preventDefault();\n    };\n\n    function onKeyUp(e: KeyboardEvent) {\n        if ((e.target as any).type === \"text\") {\n            return;\n        }\n        const keyCode = domToKeyCode(e.keyCode);\n        ci.sendKeyEvent(keyCode, false);\n        e.stopPropagation();\n        e.preventDefault();\n    };\n\n    el.addEventListener(\"keydown\", onKeyDown);\n    el.addEventListener(\"keyup\", onKeyUp);\n\n    return () => {\n        el.removeEventListener(\"keydown\", onKeyDown);\n        el.removeEventListener(\"keyup\", onKeyUp);\n    };\n}\n","import { CommandInterface } from \"emulators\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../store\";\n\nexport const dhry2Bundle = \"/b4b5275904d86a4ab8a20917b2b7e34f0df47bf7.jsdos\";\n\nexport function Dhry2Results(props: { ci: CommandInterface }) {\n    const ci = props.ci;\n    const backend = useSelector((state: State) => state.dos.backend);\n    const worker = useSelector((state: State) => state.dos.worker);\n\n    const [results, setResults] = useState<{\n        runs: number,\n        time: number,\n        vax: number,\n        pc: string | null,\n    }>({\n        runs: 0,\n        time: 0,\n        vax: 0,\n        pc: null,\n    });\n\n    const [stats, setStats] = useState<{sleepPerSec: number, cyclesPerMs: number}>({\n        sleepPerSec: 0,\n        cyclesPerMs: 0,\n    });\n\n    useEffect(() => {\n        const listeners: ((message: string) => void)[] = [];\n\n        ci.events().onStdout((message: string) => {\n            for (const next of listeners) {\n                next(message);\n            }\n        });\n\n        const oldStdoutFn = ci.events().onStdout;\n        ci.events().onStdout = (fn: (message: string) => void) => {\n            listeners.push(fn);\n        };\n\n        // listen program outpus for `~>dtime` marker\n        let startedAt = Date.now();\n        let prevSleepCount = 0;\n        let prevCycles = 0;\n        ci.events().onStdout((message) => {\n            if (!message.startsWith(\"dhry2:\")) {\n                return;\n            }\n\n            ci.asyncifyStats().then((stats) => {\n                const dt = Date.now() - startedAt;\n                setStats({\n                    sleepPerSec: Math.round((stats.sleepCount - prevSleepCount) * 1000 / dt),\n                    cyclesPerMs: Math.round((stats.cycles - prevCycles) / dt),\n                });\n                startedAt = Date.now();\n                prevSleepCount = stats.sleepCount;\n                prevCycles = stats.cycles;\n            });\n\n            // eslint-disable-next-line\n            const [_, runsStr, deltaStr, vaxRatingStr] = message.split(\" \");\n            const runs = Number.parseInt(runsStr);\n            const delta = Number.parseFloat(deltaStr);\n            const vaxRating = Number.parseFloat(vaxRatingStr);\n\n            if (delta >= 5000) {\n                setResults({\n                    runs,\n                    time: Math.round(delta * 10) / 10,\n                    vax: Math.round(vaxRating * 100) / 100,\n                    pc: getComparablePc(vaxRating),\n                });\n            } else {\n                setResults({\n                    runs,\n                    time: Math.round(delta * 10) / 10,\n                    vax: Math.round(vaxRating * 100) / 100,\n                    pc: null,\n                });\n            }\n        });\n\n        return () => {\n            ci.events().onStdout = oldStdoutFn;\n        };\n    }, [ci]);\n\n    return <div class=\"dhry2-window\">\n        <div class=\"title\">Dhrystone 2 Benchmark</div>\n        <div class=\"backend\">Backend: {backend + \"-\" + (worker ? \"worker\" : \"direct\")}</div>\n        <div class=\"results\">\n            <div>VAX:</div>\n            <div>{results.vax}</div>\n            <div>Cycles p/ms:</div>\n            <div>{stats.cyclesPerMs}</div>\n            <div>Sleep p/sec:</div>\n            <div>{stats.sleepPerSec}</div>\n            <div>Runs:</div>\n            <div>{results.runs}</div>\n            <div>Time:</div>\n            <div>{results.time} <span>ms</span></div>\n            {results.pc !== null && <div>PC:</div>}\n            {results.pc !== null && <div>{results.pc ?? \"...\"}</div>}\n        </div>\n    </div>;\n}\n\n\nfunction getComparablePc(vax: number): string {\n    let index = 0;\n    while ((index * 2 + 1) < results.length) {\n        if (results[index * 2 + 1] as number >= vax) {\n            break;\n        }\n\n        index++;\n    }\n\n    index = Math.min((results.length / 2 - 1), index);\n    return (results[index * 2] + \"\").trim();\n}\n\n// Reuslts from\n// http://www.roylongbottom.org.uk/dhrystone%20results.htm\nconst results = [\n    \"AMD 80386 40MHz\", 13.7,\n    \"IBM 486D2 50MHz\", 22.4,\n    \"80486 DX2 66MHz\", 35.3,\n    \"IBM 486BL 100MHz\", 40.9,\n    \"AMD 5X86 133MHz\", 84.5,\n    \"Pentium 75MHz\", 87.1,\n    \"Cyrix P150 120MHz\", 160,\n    \"Pentium 100MHz\", 122,\n    \"Cyrix PP166 133MHz\", 180,\n    \"IBM 6x86 150MHz\", 188,\n    \"Pentium 133MHz\", 181,\n    \"Pentium 166MHz\", 189,\n    \"Cyrix PR233 188MHz\", 232,\n    \"Pentium 200MHz\", 269,\n    \"Pentium MMX 200MHz\", 276,\n    \"AMD K6 200MHz\", 289,\n    \"Pentium Pro 200MHz\", 312,\n    \"Celeron A 300MHz\", 484,\n    \"Pentium II 300MHz\", 477,\n    \"AMD K62 500MHz\", 606,\n    \"AMD K63 450MHz\", 645,\n    \"Pentium II 450MHz\", 713,\n    \"Celeron A 450MHz\", 720,\n    \"Pentium III 450MHz\", 722,\n    \"Pentium III 600MHz\", 959,\n    \"Athlon 600MHz\", 942,\n    \"Duron 600MHz\", 999,\n    \"Pentium III 1000MHz\", 1595,\n    \"PIII Tualatin 1200MHz\", 1907,\n    \"Pentium 4 1700MHz\", 1843,\n    \"Athlon Tbird 1000MHz\", 1659,\n    \"Duron 1000MHz\", 1674,\n    \"Celeron M 1295MHz\", 2273,\n    \"Atom 1600MHz\", 1828,\n    \"Pentium 4 1900MHz\", 2003,\n    \"Atom 1666MHz\", 1948,\n    \"P4 Xeon 2200MHz\", 2265,\n    \"Atom Z8300 1840MHz\", 2686,\n    \"Athlon 4 1600MHz\", 2830,\n    \"Pentium M 1862MHz\", 3933,\n    \"Ath4 Barton 1800MHz\", 3172,\n    \"Pentium 4E 3000MHz\", 3553,\n    \"Athlon XP 2080MHz\", 3700,\n    \"Turion 64 M 1900MHz\", 3742,\n    \"Pentium 4 3066MHz\", 4012,\n    \"Opteron 1991MHz\", 3985,\n    \"Core 2 Duo M 1830MHz\", 4952,\n    \"Athlon XP 2338MHz\", 4160,\n    \"Athlon 64 2150MHz\", 4288,\n    \"Pentium 4 3678MHz\", 4227,\n    \"Athlon 64 2211MHz\", 4462,\n    \"Celeron C2 M 2000MHz\", 5275,\n    \"Core 2 Duo 1 CP 2400MHz\", 6446,\n    \"Core i5 2467M 2300MHz\", 4752,\n    \"Phenom II 1 CP 3000MHz\", 7615,\n    \"Core i7 930 3066MHz\", 8684,\n    \"Core i7 860 3460MHz\", 9978,\n    \"Core i7 3930K 3800MHz\", 11197,\n    \"Core i7 4820K 3900MHz\", 11867,\n    \"Core i7 4820K 3900MHz\", 11978,\n    \"Core i7 3930K\", 13877,\n];\n","/* eslint-disable */\n\n// This code is from https://github.com/rsms/js-lru\n\n/**\n * A doubly linked list-based Least Recently Used (LRU) cache. Will keep most\n * recently used items while discarding least recently used items when its limit\n * is reached.\n *\n * Licensed under MIT. Copyright (c) 2010 Rasmus Andersson <http://hunch.se/>\n * See README.md for details.\n *\n * Illustration of the design:\n *\n *       entry             entry             entry             entry\n *       ______            ______            ______            ______\n *      | head |.newer => |      |.newer => |      |.newer => | tail |\n *      |  A   |          |  B   |          |  C   |          |  D   |\n *      |______| <= older.|______| <= older.|______| <= older.|______|\n *\n *  removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added\n */\nconst NEWER = Symbol(\"newer\");\nconst OLDER = Symbol(\"older\");\n\nexport class LRUMap {\n    size: number;\n    limit: number;\n    newest: any;\n    oldest: any;\n    _keymap: Map<any, any>;\n\n    constructor(limit: number, entries?: any) {\n        if (typeof limit !== \"number\") {\n            // called as (entries)\n            entries = limit;\n            limit = 0;\n        }\n\n        this.size = 0;\n        this.limit = limit;\n        this.oldest = this.newest = undefined;\n        this._keymap = new Map();\n\n        if (entries) {\n            this.assign(entries);\n            if (limit < 1) {\n                this.limit = this.size;\n            }\n        }\n    }\n\n    _markEntryAsUsed(entry: any) {\n        if (entry === this.newest) {\n            // Already the most recenlty used entry, so no need to update the list\n            return;\n        }\n        // HEAD--------------TAIL\n        //   <.older   .newer>\n        //  <--- add direction --\n        //   A  B  C  <D>  E\n        if (entry[NEWER]) {\n            if (entry === this.oldest) {\n                this.oldest = entry[NEWER];\n            }\n            entry[NEWER][OLDER] = entry[OLDER]; // C <-- E.\n        }\n        if (entry[OLDER]) {\n            entry[OLDER][NEWER] = entry[NEWER]; // C. --> E\n        }\n        entry[NEWER] = undefined; // D --x\n        entry[OLDER] = this.newest; // D. --> E\n        if (this.newest) {\n            this.newest[NEWER] = entry; // E. <-- D\n        }\n        this.newest = entry;\n    }\n\n    assign(entries: any) {\n        let entry; let limit = this.limit || Number.MAX_VALUE;\n        this._keymap.clear();\n        const it = entries[Symbol.iterator]();\n        for (let itv = it.next(); !itv.done; itv = it.next()) {\n            const e = new (Entry as any)(itv.value[0], itv.value[1]);\n            this._keymap.set(e.key, e);\n            if (!entry) {\n                this.oldest = e;\n            } else {\n                entry[NEWER] = e;\n                e[OLDER] = entry;\n            }\n            entry = e;\n            if (limit-- == 0) {\n                throw new Error(\"overflow\");\n            }\n        }\n        this.newest = entry;\n        this.size = this._keymap.size;\n    }\n\n    get(key: any) {\n        // First, find our cache entry\n        const entry = this._keymap.get(key);\n        if (!entry) return; // Not cached. Sorry.\n        // As <key> was found in the cache, register it as being requested recently\n        this._markEntryAsUsed(entry);\n        return entry.value;\n    }\n\n    set(key: any, value: any) {\n        let entry = this._keymap.get(key);\n\n        if (entry) {\n            // update existing\n            entry.value = value;\n            this._markEntryAsUsed(entry);\n            return this;\n        }\n\n        // new entry\n        this._keymap.set(key, (entry = new (Entry as any)(key, value)));\n\n        if (this.newest) {\n            // link previous tail to the new tail (entry)\n            this.newest[NEWER] = entry;\n            entry[OLDER] = this.newest;\n        } else {\n            // we're first in -- yay\n            this.oldest = entry;\n        }\n\n        // add new entry to the end of the linked list -- it's now the freshest entry.\n        this.newest = entry;\n        ++this.size;\n        if (this.size > this.limit) {\n            // we hit the limit -- remove the head\n            this.shift();\n        }\n\n        return this;\n    }\n\n    shift() {\n        // todo: handle special case when limit == 1\n        const entry = this.oldest;\n        if (entry) {\n            if (this.oldest[NEWER]) {\n                // advance the list\n                this.oldest = this.oldest[NEWER];\n                this.oldest[OLDER] = undefined;\n            } else {\n                // the cache is exhausted\n                this.oldest = undefined;\n                this.newest = undefined;\n            }\n            // Remove last strong reference to <entry> and remove links from the purged\n            // entry being returned:\n            entry[NEWER] = entry[OLDER] = undefined;\n            this._keymap.delete(entry.key);\n            --this.size;\n            return [entry.key, entry.value];\n        }\n    }\n}\n\nfunction Entry(this: any, key: any, value: any) {\n    this.key = key;\n    this.value = value;\n    this[NEWER] = undefined;\n    this[OLDER] = undefined;\n}\n\n\nfunction EntryIterator(this: any, oldestEntry: any) {\n    this.entry = oldestEntry;\n}\nEntryIterator.prototype[Symbol.iterator] = function () {\n    return this;\n};\nEntryIterator.prototype.next = function () {\n    const ent = this.entry;\n    if (ent) {\n        this.entry = ent[NEWER];\n        return { done: false, value: [ent.key, ent.value] };\n    } else {\n        return { done: true, value: undefined };\n    }\n};\n\n\nfunction KeyIterator(this: any, oldestEntry: any) {\n    this.entry = oldestEntry;\n}\nKeyIterator.prototype[Symbol.iterator] = function () {\n    return this;\n};\nKeyIterator.prototype.next = function () {\n    const ent = this.entry;\n    if (ent) {\n        this.entry = ent[NEWER];\n        return { done: false, value: ent.key };\n    } else {\n        return { done: true, value: undefined };\n    }\n};\n\nfunction ValueIterator(this: any, oldestEntry: any) {\n    this.entry = oldestEntry;\n}\nValueIterator.prototype[Symbol.iterator] = function () {\n    return this;\n};\nValueIterator.prototype.next = function () {\n    const ent = this.entry;\n    if (ent) {\n        this.entry = ent[NEWER];\n        return { done: false, value: ent.value };\n    } else {\n        return { done: true, value: undefined };\n    }\n};\n","import { LRUMap } from \"./lru\";\n\nexport interface Cache {\n    read(sector: number, originReadMode: boolean): Uint8Array | null;\n    write(sector: number, buffer: Uint8Array): boolean;\n    create(origin: number, buffer: Uint8Array): void;\n    getOrigin(sector: number): number;\n    memUsed(): number;\n}\n\nexport class BlockCache implements Cache {\n    aheadRange: number;\n    sectorSize: number;\n    lru: LRUMap;\n\n    constructor(sectorSize: number, aheadRange: number, memoryLimit: number) {\n        this.aheadRange = aheadRange;\n        this.sectorSize = sectorSize;\n        this.lru = new LRUMap(Math.floor(memoryLimit / (aheadRange * sectorSize)));\n    }\n\n    public read(sector: number, originReadMode: boolean): Uint8Array | null {\n        const origin = this.getOrigin(sector);\n        const cached = this.lru.get(origin) as Uint8Array;\n        if (cached) {\n            if (originReadMode) {\n                return cached;\n            } else {\n                const offset = sector - origin;\n                return cached.slice(offset * this.sectorSize, (offset + 1) * this.sectorSize);\n            }\n        }\n        return null;\n    }\n\n    public write(sector: number, buffer: Uint8Array) {\n        const origin = this.getOrigin(sector);\n        const cached = this.lru.get(origin);\n        if (cached) {\n            cached.set(buffer, (sector - origin) * this.sectorSize);\n        }\n        return cached !== undefined;\n    }\n\n    public create(origin: number, buffer: Uint8Array) {\n        this.lru.set(origin, buffer.slice(0));\n    }\n\n    public getOrigin(sector: number) {\n        return sector - sector % this.aheadRange;\n    }\n\n    public memUsed() {\n        return this.lru.size * this.aheadRange * this.sectorSize;\n    }\n}\n","import { EmModule, Ptr, Stats } from \"./types\";\nimport { BlockCache, Cache } from \"./cache\";\n\nconst MAX_FRAME_SIZE = 1 * 1024 * 1024;\nconst MEMORY_LIMIT = 64 * 1024 * 1024;\n\ninterface Request {\n    type: 1 | 2, // read | write\n    sectors: number[],\n    buffer: Ptr | Uint8Array,\n    resolve: (result: number) => void,\n}\n\nexport class Drive {\n    module: EmModule;\n    sectorSize: number;\n    endpoint: string;\n    owner: string;\n    drive: string;\n    token: string;\n    stats: Stats;\n\n    socket: Promise<WebSocket> = Promise.resolve(null as any);\n    request: Request | null;\n    pendingRequest: Request | null;\n\n    aheadRange: number = 0;\n    aheadSize: number = 0;\n    writeBuffer: Uint8Array;\n\n    maxRead: number = 0;\n    readBuffer: Uint8Array = new Uint8Array(0);\n    readAheadBuffer: Uint8Array = new Uint8Array(0);\n    readAheadPos = 0;\n    readAheadCompressed = 0;\n    readStartedAt: number = 0;\n    decodeBuffer: Uint8Array = new Uint8Array(0);\n\n    cache: Cache | null = null;\n    cleanup = () => {/**/};\n\n    openFn = (read: boolean, write: boolean, size: number, preloadQueue: number[],\n        aheadRange: number) => {/**/};\n    preloadProgressFn = (restBytes: number) => {/**/};\n    errorFn = (e: Error) => {/**/};\n\n    retries: number;\n\n    preloadSectors: boolean;\n    preloadQueue: number[] = [];\n\n    originReadMode: boolean;\n    readOnly = false;\n\n    public constructor(endpoint: string,\n        owner: string,\n        drive: string,\n        token: string,\n        stats: Stats,\n        module: EmModule,\n        preloadSectors = true,\n        originReadMode = false) {\n        this.sectorSize = 512;\n        this.module = module;\n        this.endpoint = endpoint;\n        this.owner = owner;\n        this.drive = drive;\n        this.token = token;\n        this.request = null;\n        this.pendingRequest = null;\n        this.writeBuffer = new Uint8Array(1 + 4 + this.sectorSize);\n        this.stats = stats;\n        this.retries = 3;\n        this.preloadSectors = preloadSectors;\n        this.originReadMode = originReadMode;\n\n        this.reconnect();\n    }\n\n    public onError(errorFn: (e: Error) => void) {\n        this.errorFn = errorFn;\n    }\n\n    public onOpen(openFn: (read: boolean, write: boolean, imageSize: number,\n        preloadQueue: number[], aheadRange: number) => void) {\n        this.openFn = openFn;\n    }\n\n    public onPreloadProgress(progressFn: (restBytes: number) => void) {\n        this.preloadProgressFn = progressFn;\n    }\n\n    public reconnect(): void {\n        this.socket = new Promise<WebSocket>((resolve, reject) => {\n            const socket = new WebSocket(this.endpoint);\n            socket.binaryType = \"arraybuffer\";\n            const onMessage = this.onMessage.bind(this);\n            const onOpen = () => {\n                const onInit = (event: { data: string }) => {\n                    socket.removeEventListener(\"message\", onInit);\n                    if (event.data.startsWith(\"write\") || event.data.startsWith(\"read\")) {\n                        const [mode, aheadRangeStr, sizeStr] = event.data.split(\",\");\n                        const aheadRange = Number.parseInt(aheadRangeStr);\n                        this.aheadRange = aheadRange;\n                        this.aheadSize = aheadRange * this.sectorSize;\n                        this.maxRead = Math.floor(MAX_FRAME_SIZE / this.aheadSize);\n\n                        const decodeBufferSize = this.aheadSize * this.maxRead;\n                        this.readBuffer = new Uint8Array(1 + 4 + this.maxRead * 4);\n                        this.readAheadBuffer = new Uint8Array(decodeBufferSize);\n                        this.decodeBuffer = new Uint8Array(decodeBufferSize);\n                        this.cache = new BlockCache(this.sectorSize, aheadRange, MEMORY_LIMIT);\n\n                        let preloadLength = 0;\n                        let preloadPos = 0;\n                        let preload: Uint8Array = new Uint8Array(0);\n                        const onPreloadMessage = (event: { data: ArrayBuffer }) => {\n                            let data = new Uint8Array(event.data);\n                            if (preloadLength === 0) {\n                                preloadLength = data[0] + (data[1] << 8) + (data[2] << 16) + (data[3] << 24);\n                                preload = new Uint8Array(preloadLength - 4);\n                                data = data.slice(4);\n                            }\n\n                            if (preloadPos < preloadLength) {\n                                preload.set(data, preloadPos);\n                                preloadPos += data.length;\n                            }\n\n                            if (preloadPos > preload.length) {\n                                const error = new Error(\"Preload buffer is bigger then expected\");\n                                this.errorFn(error);\n                                reject(error);\n                            } else if (preloadPos == preload.length) {\n                                this.preloadQueue = [];\n                                if (this.preloadSectors) {\n                                    for (let i = 0; i < preload.length; i += 4) {\n                                        this.preloadQueue.push(preload[i] + (preload[i + 1] << 8) +\n                                            (preload[i + 2] << 16) + (preload[i + 3] << 24));\n                                    }\n                                }\n                                socket.removeEventListener(\"message\", onPreloadMessage);\n                                socket.addEventListener(\"message\", onMessage);\n                                this.readOnly = mode !== \"write\";\n                                this.openFn(true, !this.readOnly,\n                                    (Number.parseInt(sizeStr) ?? 2 * 1024 * 1024) * 1024,\n                                    this.preloadQueue,\n                                    aheadRange);\n                                resolve(socket);\n\n                                if (this.preloadQueue.length > 0) {\n                                    if (this.preloadQueue.length * this.aheadSize > MEMORY_LIMIT) {\n                                        console.log(\"WARN! preloadQueue size is bigger then allowed\",\n                                            this.preloadQueue.length * this.aheadSize / 1024 / 1024, \">\",\n                                            MEMORY_LIMIT / 1024 / 1024);\n                                        this.preloadQueue = this.preloadQueue\n                                            .slice(0, Math.floor(MEMORY_LIMIT / this.aheadSize));\n                                    }\n                                    this.request = this.makeReadRequest(this.preloadQueue.shift()!);\n                                    this.executeRequest(this.request);\n                                }\n                            }\n                        };\n                        socket.addEventListener(\"message\", onPreloadMessage);\n                    } else {\n                        const error = new Error(event.data ?? \"Unable to establish connection\");\n                        this.errorFn(error);\n                        reject(error);\n                    }\n                };\n                socket.addEventListener(\"message\", onInit);\n                socket.send(this.owner + \"&\" + this.drive + \"&\" + this.token);\n            };\n            const onError = (e: Event) => {\n                console.error(\"Network error\", e, \"will reconnect\");\n                cleanup();\n                socket.close();\n                this.retries--;\n                if (this.retries === 0) {\n                    const error = new Error(\"Network problem\");\n                    this.errorFn(error);\n                    reject(error);\n                } else {\n                    setTimeout(this.reconnect.bind(this), 300);\n                }\n            };\n            socket.addEventListener(\"error\", onError);\n            socket.addEventListener(\"open\", onOpen);\n            const cleanup = function() {\n                socket.removeEventListener(\"message\", onMessage);\n                socket.removeEventListener(\"open\", onOpen);\n                socket.removeEventListener(\"error\", onError);\n            };\n            this.cleanup = cleanup;\n        });\n\n        if (this.request !== null) {\n            this.executeRequest(this.request);\n        }\n    }\n\n    private makeReadRequest(sector: number, buffer: number = -1, resolve: (res: number) => void = () => { }): Request {\n        const sectors: number[] = [sector];\n        if (this.preloadQueue.length > 0) {\n            this.preloadProgressFn(this.preloadQueue.length * this.aheadSize);\n            while (this.preloadQueue.length > 0 && sectors.length < this.maxRead) {\n                const preload = this.preloadQueue.shift()!;\n                if (preload !== sector) {\n                    sectors.push(preload);\n                }\n            }\n            for (let i = 0; i < this.preloadQueue.length; ++i) {\n                if (this.preloadQueue[i] == sector) {\n                    this.preloadQueue.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        return {\n            type: 1,\n            sectors,\n            buffer,\n            resolve,\n        };\n    }\n\n    public read(sector: number, buffer: Ptr, sync: boolean): Promise<number> | number {\n        const cached = this.cache!.read(sector, this.originReadMode);\n        if (cached !== null) {\n            this.stats.cacheHit++;\n            this.module.HEAPU8.set(cached, buffer);\n            return sync ? 0 : Promise.resolve(0);\n        } else if (sync) {\n            return 255;\n        } else {\n            return new Promise<number>((resolve) => {\n                this.stats.cacheMiss++;\n\n                const request: Request = this.makeReadRequest(sector, buffer, resolve);\n                if (this.request !== null) {\n                    if (this.pendingRequest === null) {\n                        this.pendingRequest = request;\n                    } else {\n                        console.error(\"New read request while old one is still processed\");\n                        resolve(3);\n                    }\n                } else {\n                    this.request = request;\n                    this.executeRequest(this.request);\n                }\n            });\n        }\n    }\n\n    public write(sector: number, buffer: Ptr): number {\n        const request: Request = {\n            type: 2,\n            sectors: [sector],\n            buffer: this.module.HEAPU8.slice(buffer, buffer + this.sectorSize),\n            resolve: () => {/**/},\n        };\n        this.cache!.write(sector, request.buffer as Uint8Array);\n        this.executeRequest(request);\n        return 0;\n    }\n\n    public async close() {\n        const socket = await this.socket;\n        await new Promise<void>((resolve) => {\n            const intervalId = setInterval(() => {\n                if (socket.bufferedAmount === 0) {\n                    clearInterval(intervalId);\n                    resolve();\n                }\n            }, 32);\n        });\n        this.cleanup();\n        socket.close();\n    }\n\n    private executeRequest(request: Request) {\n        this.socket.then((socket) => {\n            if (request.type === 1) {\n                const { sectors } = request;\n                this.readStartedAt = Date.now();\n                this.readAheadPos = 0;\n                this.readAheadCompressed = 0;\n                this.readBuffer[0] = 1; // read\n                this.readBuffer[1] = sectors.length & 0xFF;\n                this.readBuffer[2] = (sectors.length >> 8) & 0xFF;\n                this.readBuffer[3] = (sectors.length >> 16) & 0xFF;\n                this.readBuffer[4] = (sectors.length >> 24) & 0xFF;\n\n                for (let i = 0; i < sectors.length; ++i) {\n                    const origin = this.cache!.getOrigin(sectors[i]);\n\n                    if (i > 0 && origin !== sectors[i]) {\n                        console.error(\"Assertion failed orign should equal to sector\", origin, sectors[i]);\n                        request.resolve(5);\n                        return;\n                    }\n\n                    this.readBuffer[5 + i * 4] = origin & 0xFF;\n                    this.readBuffer[5 + i * 4 + 1] = (origin >> 8) & 0xFF;\n                    this.readBuffer[5 + i * 4 + 2] = (origin >> 16) & 0xFF;\n                    this.readBuffer[5 + i * 4 + 3] = (origin >> 24) & 0xFF;\n                }\n                socket.send(this.readBuffer.slice(0, sectors.length * 4 + 5).buffer);\n            } else if (this.readOnly) {\n                request.resolve(0);\n            } else {\n                const { sectors, buffer, resolve } = request;\n                this.stats.write += this.sectorSize;\n                this.writeBuffer[0] = 2; // write\n                this.writeBuffer[1] = sectors[0] & 0xFF;\n                this.writeBuffer[2] = (sectors[0] >> 8) & 0xFF;\n                this.writeBuffer[3] = (sectors[0] >> 16) & 0xFF;\n                this.writeBuffer[4] = (sectors[0] >> 24) & 0xFF;\n                // TBD: maybe do not copy and send just slice ???\n                this.writeBuffer.set(buffer as Uint8Array, 5);\n                socket.send(this.writeBuffer.buffer);\n                resolve(0);\n            }\n        });\n    }\n\n    public onMessage(event: { data: ArrayBuffer }) {\n        if (this.request === null) {\n            console.error(\"Received message without request\");\n            this.reconnect();\n        } else if (this.request.type === 2) {\n            console.error(\"Received read payload while write request\");\n            this.reconnect();\n        } else if (event.data instanceof ArrayBuffer) {\n            let data = new Uint8Array(event.data);\n            if (this.readAheadCompressed === 0) {\n                this.readAheadCompressed = data[0] + (data[1] << 8) + (data[2] << 16) + (data[3] << 24);\n                data = data.slice(4);\n            }\n\n            const { sectors, buffer, resolve } = this.request;\n            const restLength = this.readAheadCompressed - this.readAheadPos;\n            if (data.byteLength > restLength || restLength < 0) {\n                console.error(\"wrong read payload length \" + data.byteLength + \" instead of \" + restLength);\n                resolve(3);\n            } else {\n                this.readAheadBuffer.set(data, this.readAheadPos);\n                this.readAheadPos += data.byteLength;\n                const expectedSize = this.aheadSize * sectors.length;\n\n                if (this.readAheadPos == this.readAheadCompressed) {\n                    let decodeResult = expectedSize;\n                    if (this.readAheadCompressed < expectedSize) {\n                        const result = decodeLz4(this.readAheadBuffer, this.decodeBuffer, 0, this.readAheadCompressed);\n                        if (result < 0) {\n                            decodeResult = result;\n                        } else {\n                            this.readAheadBuffer.set(this.decodeBuffer.slice(0, expectedSize), 0);\n                        }\n                    }\n\n                    if (decodeResult != expectedSize) {\n                        console.error(\"wrong decode result \" + decodeResult + \" should be \" + expectedSize);\n                        resolve(4);\n                    } else {\n                        for (let i = 0; i < sectors.length; ++i) {\n                            const aheadOffset = i * this.aheadSize;\n                            const sector = sectors[i];\n                            const origin = this.cache!.getOrigin(sector);\n                            this.cache!.create(origin,\n                                this.readAheadBuffer.slice(aheadOffset, aheadOffset + this.aheadSize));\n                            if (i == 0 && buffer as number >= 0) {\n                                if (this.originReadMode && sector !== origin) {\n                                    throw new Error(\"Sector must be one of origins in originReadMode\");\n                                }\n                                const offset = sector - origin;\n                                // aheadOffset is zero\n                                const from = offset * this.sectorSize;\n                                this.module.HEAPU8.set(this.readAheadBuffer\n                                    .slice(from, from + (this.originReadMode ? this.aheadRange : 1) * this.sectorSize),\n                                    buffer as number);\n                            }\n                        }\n\n                        this.stats.cacheUsed = this.cache!.memUsed();\n                        this.stats.read += this.readAheadCompressed;\n                        this.stats.readTotalTime += Date.now() - this.readStartedAt;\n                        this.request = null;\n                        resolve(0);\n\n                        if (this.pendingRequest !== null) {\n                            this.request = this.pendingRequest;\n                            this.pendingRequest = null;\n                            this.executeRequest(this.request);\n                        } else if (this.preloadQueue.length > 0) {\n                            this.request = this.makeReadRequest(this.preloadQueue.shift()!);\n                            this.executeRequest(this.request);\n                        }\n                    }\n                }\n            }\n        } else {\n            console.error(\"Received non arraybuffer data\");\n            this.reconnect();\n        }\n    }\n}\n\n/**\n * Decode a block. Assumptions: input contains all sequences of a\n * chunk, output is large enough to receive the decoded data.\n * If the output buffer is too small, an error will be thrown.\n * If the returned value is negative, an error occured at the returned offset.\n *\n * @param {ArrayBufferView} input input data\n * @param {ArrayBufferView} output output data\n * @param {number=} sIdx\n * @param {number=} eIdx\n * @return {number} number of decoded bytes\n * @private\n */\nfunction decodeLz4(input: Uint8Array, output: Uint8Array, sIdx: number, eIdx: number) {\n    sIdx = sIdx || 0;\n    eIdx = eIdx || (input.length - sIdx);\n    // Process each sequence in the incoming data\n    let i; let n; let j;\n    for (i = sIdx, n = eIdx, j = 0; i < n;) {\n        const token = input[i++];\n\n        // Literals\n        let literalsLength = (token >> 4);\n        if (literalsLength > 0) {\n            // length of literals\n            let l = literalsLength + 240;\n            while (l === 255) {\n                l = input[i++];\n                literalsLength += l;\n            }\n\n            // Copy the literals\n            const end = i + literalsLength;\n            while (i < end) output[j++] = input[i++];\n\n            // End of buffer?\n            if (i === n) return j;\n        }\n\n        // Match copy\n        // 2 bytes offset (little endian)\n        const offset = input[i++] | (input[i++] << 8);\n\n        // XXX 0 is an invalid offset value\n        if (offset === 0) return j;\n        if (offset > j) return -(i - 2);\n\n        // length of match copy\n        let matchLength = (token & 0xf);\n        let l = matchLength + 240;\n        while (l === 255) {\n            l = input[i++];\n            matchLength += l;\n        }\n\n        // Copy the match\n        let pos = j - offset; // position of the match copy in the current output\n        const end = j + matchLength + 4; // minmatch = 4\n        while (j < end) output[j++] = output[pos++];\n    }\n\n    return j;\n};\n","import {\n    TransportLayer, ClientMessage, MessageHandler,\n    ServerMessage, DataChunk, FsNode,\n} from \"emulators/dist/types/protocol/protocol\";\n\nimport { createSockdrive } from \"./ws-sockdrive\";\n\nconst sockdriveConfirmWrite = false;\n\nexport interface Hardware {\n    readConfig(): string;\n    sendMessage(payload: string): void;\n    addKey(key: number, pressed: number, timeMs: number): void;\n    mouseMove(x: number, y: number, relative: boolean, timeMs: number): void;\n    mouseButton(button: number, pressed: number, timeMs: number): void;\n    getFramePayload(): string;\n\n    createFile(path: string): string;\n    appendFile(blob: string): string;\n    writeFile(path: string): string;\n    closeFile(): string;\n}\n\nconst textDecoder = new TextDecoder();\nconst textEncoder = new TextEncoder();\nconst fMultiplier = 200000000;\n\n// eslint-disable-next-line max-len\nconst clientMessageValues: ClientMessage[] = [\n    \"wc-install\", \"wc-run\", \"wc-pack-fs-to-bundle\", \"wc-add-key\", \"wc-mouse-move\", \"wc-mouse-button\", \"wc-mouse-sync\",\n    \"wc-exit\", \"wc-sync-sleep\", \"wc-pause\", \"wc-resume\", \"wc-mute\", \"wc-unmute\", \"wc-connect\", \"wc-disconnect\",\n    \"wc-backend-event\", \"wc-asyncify-stats\", \"wc-fs-tree\", \"wc-fs-get-file\", \"wc-send-data-chunk\",\n    \"wc-net-connected\", \"wc-net-received\",\n];\nconst clientMessageEnum: { [msg: string]: number } = {};\nclientMessageValues.forEach((v, i) => clientMessageEnum[v] = i);\n\nconst serverMessageValues: ServerMessage[] = [\n    \"ws-extract-progress\", \"ws-ready\", \"ws-server-ready\", \"ws-frame-set-size\",\n    \"ws-update-lines\", \"ws-log\", \"ws-warn\", \"ws-err\",\n    \"ws-stdout\", \"ws-exit\", \"ws-persist\", \"ws-sound-init\", \"ws-sound-push\",\n    \"ws-config\", \"ws-sync-sleep\", \"ws-connected\", \"ws-disconnected\",\n    \"ws-asyncify-stats\", \"ws-fs-tree\", \"ws-send-data-chunk\",\n    \"ws-net-connect\", \"ws-net-disconnect\", \"ws-net-send\",\n];\nconst serverMessageEnum: { [num: string]: ServerMessage } = {};\nserverMessageValues.forEach((v, i) => serverMessageEnum[i] = v);\n\nexport class WsTransportLayer implements TransportLayer {\n    socket: WebSocket;\n    sessionId: string = Date.now() + \"\";\n    hardware: Hardware;\n    onInit: (version: number) => void = () => {/**/};\n\n    private cycles = 0;\n    private sockdrive = createSockdrive(this.onSockdriveOpen.bind(this),\n        this.onSockdriveError.bind(this), this.onSockdrivePreloadProgress.bind(this));\n\n    private handler: MessageHandler = () => {/**/};\n\n    private writeUint32(container: Uint8Array, value: number, offset: number) {\n        container[offset] = value & 0xFF;\n        container[offset + 1] = (value & 0x0000FF00) >> 8;\n        container[offset + 2] = (value & 0x00FF0000) >> 16;\n        container[offset + 3] = (value & 0xFF000000) >> 24;\n        return offset + 4;\n    }\n\n    private readUint32(container: Uint8Array, offset: number) {\n        return (container[offset] & 0x000000FF) |\n            ((container[offset + 1] << 8) & 0x0000FF00) |\n            ((container[offset + 2] << 16) & 0x00FF0000) |\n            ((container[offset + 3] << 24) & 0xFF000000);\n    }\n\n    private readUint64(container: Uint8Array, offset: number) {\n        return this.readUint32(container, offset) + this.readUint32(container, offset + 4) * 2 ** 32;\n    }\n\n    private sendMessageToSocket(id: ClientMessage | number, ...payload: (Uint8Array | null)[]) {\n        let length = 1;\n        for (const next of payload) {\n            length += 4 + (next?.length ?? 0);\n        }\n\n        const encoded = new Uint8Array(length);\n        encoded[0] = typeof id === \"string\" ? clientMessageEnum[id] : id;\n        let position = 1;\n        for (const next of payload) {\n            this.writeUint32(encoded, next?.length ?? 0, position);\n            position += 4;\n            if (next) {\n                encoded.set(next, position);\n                position += next.length;\n            }\n        }\n\n        this.socket.send(encoded);\n    }\n\n    private readMessage(payload: Uint8Array): { id: number, payload: (Uint8Array | null)[] } {\n        const out: Uint8Array[] = [];\n        let position = 1;\n        while (position + 4 <= payload.length) {\n            const length = this.readUint32(payload, position);\n            position += 4;\n\n            if (position + length > payload.length) {\n                throw new Error(\"read_message out of bounds\");\n            } else {\n                out.push(payload.slice(position, position + length));\n            }\n\n            position += length;\n        }\n\n        return {\n            id: payload[0],\n            payload: out,\n        };\n    }\n\n    private onMessage(msg: Uint8Array) {\n        const { id, payload } = this.readMessage(msg);\n        const message = serverMessageEnum[id];\n        switch (message) {\n            case \"ws-ready\": {\n                this.onInit((payload && payload[0] && payload.length > 0) ? payload[0][0] : 0);\n                this.handler(message, {});\n            } break;\n            case \"ws-server-ready\":\n            case \"ws-exit\": {\n                // delay ws-server-ready until ws-sound-init\n                if (message !== \"ws-server-ready\") {\n                    this.handler(message, {});\n                }\n            } break;\n            case \"ws-stdout\":\n            case \"ws-log\":\n            case \"ws-warn\":\n            case \"ws-err\": {\n                this.handler(message, {\n                    tag: textDecoder.decode(payload[0]!),\n                    message: textDecoder.decode(payload[1]!),\n                });\n            } break;\n            case \"ws-send-data-chunk\": {\n                const chunk: DataChunk = {\n                    type: textDecoder.decode(payload[0]!) as any,\n                    name: textDecoder.decode(payload[1]!),\n                    data: payload[2],\n                };\n                this.handler(message, { chunk });\n            } break;\n            case \"ws-config\": {\n                this.handler(message, {\n                    dosboxConf: payload[0]!,\n                    jsdosConf: textDecoder.decode(payload[1]!),\n                });\n            } break;\n            case \"ws-sound-init\": {\n                this.handler(message, {\n                    freq: this.readUint32(payload[0]!, 0),\n                });\n                this.handler(\"ws-server-ready\", {});\n            } break;\n            case \"ws-sound-push\": {\n                this.handler(message, {\n                    samples: new Float32Array(payload[0]!.buffer),\n                });\n            } break;\n            case \"ws-frame-set-size\": {\n                this.handler(message, {\n                    width: this.readUint32(payload[0]!, 0),\n                    height: this.readUint32(payload[0]!, 4),\n                });\n            } break;\n            case \"ws-update-lines\": {\n                if (payload.length > 0) {\n                    const lines: { start: number, heapu8: Uint8Array }[] = [];\n                    for (const next of payload) {\n                        lines.push({\n                            start: this.readUint32(next!, 0),\n                            heapu8: next!.slice(4),\n                        });\n                    }\n                    this.handler(message, { lines });\n                }\n            } break;\n            case \"ws-asyncify-stats\": {\n                this.cycles += this.readUint32(payload[0]!, 0);\n                const stats = {\n                    messageSent: this.readUint32(payload[0]!, 4),\n                    messageReceived: this.readUint32(payload[0]!, 8),\n                    messageFrame: this.readUint32(payload[0]!, 12),\n                    messageSound: this.readUint32(payload[0]!, 16),\n                    nonSkippableSleepCount: 0,\n                    sleepCount: 0,\n                    sleepTime: 0,\n                    cycles: this.cycles,\n                    netSent: 0,\n                    netRecv: 0,\n                    driveSent: this.sockdrive.stats.write,\n                    driveRecv: this.sockdrive.stats.read,\n                    driveRecvTime: this.sockdrive.stats.readTotalTime,\n                    driveCacheHit: this.sockdrive.stats.cacheHit,\n                    driveCacheMiss: this.sockdrive.stats.cacheMiss,\n                    driveCacheUsed: this.sockdrive.stats.cacheUsed,\n                };\n                this.handler(message, stats);\n            } break;\n            case \"ws-connected\": {\n                this.handler(message, { networkType: payload[0]![0], address: textDecoder.decode(payload[1]!) });\n            } break;\n            case \"ws-disconnected\": {\n                this.handler(message, { networkType: payload[0]![0] });\n            } break;\n            case \"ws-fs-tree\": {\n                const info: { name: string, size: number | null }[] = [];\n                for (let i = 0; i < payload.length - 1; ++i) {\n                    info.push({ name: textDecoder.decode(payload[i]!), size: null });\n                }\n\n                const sizes = payload[payload.length - 1]!;\n                for (let i = 0; i < info.length; ++i) {\n                    const size = this.readUint32(sizes, i * 4);\n                    info[i].size = size < 0 ? null : size;\n                }\n\n                const fsTree: FsNode = {\n                    name: \".\",\n                    nodes: [],\n                    size: null,\n                };\n\n                function lookupNode(name: string): [FsNode, string] {\n                    const parts = name.split(\"/\");\n                    let node: FsNode | undefined = fsTree;\n                    for (let i = 1; i < parts.length - 1; ++i) {\n                        const dir = parts[i];\n                        node = node!.nodes?.find((n) => n.name == dir);\n                        if (!node) {\n                            throw new Error(\"Unable to find node \" + name + \", subdir \" + dir);\n                        }\n                    }\n                    return [node, parts[parts.length - 1]];\n                };\n\n                for (const { name, size } of info) {\n                    const [node, basename] = lookupNode(name);\n                    node.nodes?.push({\n                        name: basename,\n                        size,\n                        nodes: size === null ? [] : null,\n                    });\n                }\n\n                this.handler(\"ws-fs-tree\", {\n                    fsTree,\n                });\n            } break;\n            case \"ws-persist\": {\n                this.handler(\"ws-persist\", {\n                    bundle: payload.length > 0 ? payload[0]! : null,\n                });\n            } break;\n            case \"ws-net-connect\": {\n                let address = textDecoder.decode(payload[0]!);\n                if (!address.startsWith(\"wss://\") && !address.startsWith(\"ws://\")) {\n                    address = ((\n                        window.location.protocol === \"http:\" &&\n                        window.location.hostname !== \"localhost\"\n                    ) ? \"ws://\" : \"wss://\") + address;\n                }\n                this.handler(\"ws-net-connect\", { address });\n            } break;\n            case \"ws-net-send\": {\n                this.handler(\"ws-net-send\", {\n                    networkId: this.readUint32(payload[0]!, 0),\n                    data: payload[1],\n                });\n            } break;\n            case \"ws-net-disconnect\": {\n                this.handler(\"ws-net-disconnect\", {\n                    networkId: this.readUint32(payload[0]!, 0),\n                });\n            } break;\n            default: {\n                if (message === undefined) { // not standard messages\n                    (async () => {\n                        switch (id) {\n                            case 100/* ws-sockdrive-open */: {\n                                const url = textDecoder.decode(payload[0]!);\n                                const owner = textDecoder.decode(payload[1]!);\n                                const name = textDecoder.decode(payload[2]!);\n                                const token = textDecoder.decode(payload[3]!);\n                                const { handle, aheadRange } = await this.sockdrive.open(url, owner, name, token);\n                                const template = this.sockdrive.template(handle);\n                                const packet = new Uint8Array(4 * 7);\n                                let offset = 0;\n                                offset = this.writeUint32(packet, handle, offset);\n                                offset = this.writeUint32(packet, template.size, offset);\n                                offset = this.writeUint32(packet, template.heads, offset);\n                                offset = this.writeUint32(packet, template.cylinders, offset);\n                                offset = this.writeUint32(packet, template.sectors, offset);\n                                offset = this.writeUint32(packet, template.sectorSize, offset);\n                                this.writeUint32(packet, aheadRange, offset);\n                                this.sendMessageToSocket(100, packet);\n                            } break;\n                            case 101/* ws-sockdrive-read */: {\n                                const handle = this.readUint32(payload[0]!, 0);\n                                const sector = this.readUint32(payload[0]!, 4);\n                                const response = await this.sockdrive.read(handle, sector);\n                                const packet = new Uint8Array(4);\n                                this.writeUint32(packet, response.code, 0);\n                                this.sendMessageToSocket(101, packet, response.buffer ?? null);\n                            } break;\n                            case 102/* ws-sockdrive-write */: {\n                                const handle = this.readUint32(payload[0]!, 0);\n                                const sector = this.readUint32(payload[0]!, 4);\n                                const code = this.sockdrive.write(handle, sector, payload[1]!);\n                                const packet = new Uint8Array(4);\n                                this.writeUint32(packet, code, 0);\n                                if (sockdriveConfirmWrite) {\n                                    this.sendMessageToSocket(102, packet);\n                                }\n                            } break;\n                            case 103/* ws-sockdrive-close */: {\n                                this.sockdrive.close(this.readUint32(payload[0]!, 0));\n                            } break;\n                            default:\n                                console.log(\"WARN! Unhandled server non standard message\", id, payload);\n                        }\n                    })().catch((e) => {\n                        this.handler(\"ws-err\", {\n                            tag: \"panic\",\n                            message: \"sockdrive error: \" + (e.message ?? \"???\"),\n                        });\n                    });\n                } else {\n                    console.warn(\"WARN! Unhandled server message\", message);\n                }\n            }\n        }\n    }\n\n    constructor(socket: WebSocket, onInit: (version: number) => void) {\n        this.socket = socket;\n        this.socket.addEventListener(\"error\", (e) => {\n            this.handler(\"ws-err\", { tag: \"ws\", message: (e as any).message ?? \"Unknown transport layer error\" });\n            this.handler(\"ws-exit\", {});\n            this.socket.close();\n        });\n        this.socket.addEventListener(\"message\", async (ev) => {\n            const blob: Blob = ev.data;\n            this.onMessage(new Uint8Array(await blob.arrayBuffer()));\n        });\n        this.sendMessageToSocket(\"wc-install\");\n        this.hardware = (null) as any;\n        this.onInit = onInit;\n    }\n\n    async sendMessageToServer(name: ClientMessage, props?: { [key: string]: any; }) {\n        if (props === undefined || props?.sessionId !== this.sessionId) {\n            return;\n        }\n\n        const messageId = clientMessageEnum[name];\n        switch (name) {\n            case \"wc-run\": {\n                const token = props.token ?? \"\";\n                this.sendMessageToSocket(messageId, textEncoder.encode(token));\n            } break;\n            case \"wc-send-data-chunk\": {\n                const chunk: DataChunk = props.chunk;\n                this.sendMessageToSocket(messageId,\n                    textEncoder.encode(chunk.type),\n                    textEncoder.encode(chunk.name),\n                    chunk.data ? new Uint8Array(chunk.data) : null);\n            } break;\n            case \"wc-asyncify-stats\": {\n                this.sendMessageToSocket(messageId);\n            } break;\n            case \"wc-add-key\": {\n                const payload = new Uint8Array(3 * 4);\n                let offset = 0;\n                offset = this.writeUint32(payload, props.key, offset);\n                offset = this.writeUint32(payload, props.pressed ? 1 : 0, offset);\n                this.writeUint32(payload, props.timeMs, offset);\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-mouse-move\": {\n                const payload = new Uint8Array(3 * 4 + 3);\n                let offset = 0;\n                offset = this.writeUint32(payload, Math.abs(props.x) * fMultiplier, offset);\n                offset = this.writeUint32(payload, Math.abs(props.y) * fMultiplier, offset);\n                offset = this.writeUint32(payload, props.timeMs, offset);\n                payload[offset] = props.relative ? 1 : 0;\n                payload[offset + 1] = props.x >= 0 ? 0 : 1;\n                payload[offset + 2] = props.y >= 0 ? 0 : 1;\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-mouse-button\": {\n                const payload = new Uint8Array(4 + 2);\n                payload[0] = props.button;\n                payload[1] = props.pressed ? 1 : 0;\n                this.writeUint32(payload, props.timeMs, 2);\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-mouse-sync\": {\n                const payload = new Uint8Array(4);\n                this.writeUint32(payload, props.timeMs, 0);\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-connect\": {\n                this.sendMessageToSocket(messageId, new Uint8Array([props.networkType]),\n                    textEncoder.encode(props.address));\n            } break;\n            case \"wc-fs-tree\": {\n                this.sendMessageToSocket(messageId);\n            } break;\n            case \"wc-pack-fs-to-bundle\": {\n                this.sendMessageToSocket(messageId, new Uint8Array([props.onlyChanges ? 1 : 0]));\n            } break;\n            case \"wc-net-connected\": {\n                const id = new Uint8Array(4);\n                this.writeUint32(id, props.networkId + 1, 0);\n                this.sendMessageToSocket(messageId, id);\n            } break;\n            case \"wc-net-received\": {\n                const id = new Uint8Array(4);\n                this.writeUint32(id, props.networkId, 0);\n                this.sendMessageToSocket(messageId, id, new Uint8Array(props.data));\n            } break;\n            default: {\n                console.log(\"Unhandled client message (wc):\", name, messageId, props);\n            } break;\n        }\n    }\n\n    initMessageHandler(handler: MessageHandler) {\n        this.handler = (message, props) => {\n            props.sessionId = this.sessionId;\n            handler(message, props);\n        };\n    }\n\n    exit() {\n        this.sendMessageToSocket(\"wc-exit\");\n    }\n\n    onSockdriveOpen(drive: string, read: boolean, write: boolean, imageSize: number, preloadQueue: number[]) {\n        this.handler(\"ws-log\", {\n            tag: \"worker\",\n            message: \"sockdrive: \" + drive + \", read=\" + read + \", write=\" + write +\n                \", imageSize=\" + Math.round(imageSize / 1024 / 1024) + \"Mb\" + \", preloadQueue=\" + preloadQueue.length,\n        });\n    }\n\n    onSockdriveError(e: Error) {\n        this.handler(\"ws-err\", {\n            tag: \"panic\",\n            message: e.message ?? \"unable to open sockdrive\",\n        });\n    }\n\n    onSockdrivePreloadProgress(drive: string, restBytes: number) {\n        this.handler(\"ws-log\", {\n            tag: \"worker\",\n            message: \"sockdrive: \" + drive + \", preload=\" + restBytes,\n        });\n    }\n}\n\nexport function createWsTransportLayer(url: string, onInit: (version: number) => void): Promise<TransportLayer> {\n    return new Promise<TransportLayer>((resolve) => {\n        let locked = false;\n        const inervalId = setInterval(() => {\n            if (locked) {\n                return;\n            }\n\n            locked = true;\n            const ws = new WebSocket(url);\n            const onSuccess = () => {\n                clearInterval(inervalId);\n                console.log(\"Connected to\", url);\n                resolve(new WsTransportLayer(ws, onInit));\n            };\n\n            ws.addEventListener(\"error\", (error) => {\n                console.error(\"Can't conect to \", url, error);\n                ws.removeEventListener(\"open\", onSuccess);\n                ws.close();\n                locked = false;\n            });\n\n            ws.addEventListener(\"open\", onSuccess);\n        }, 1000);\n    });\n}\n","import { Handle, Stats } from \"../sockdrive/js/src/sockdrive/types\";\nimport { Drive } from \"../sockdrive/js/src/sockdrive/drive\";\n\ninterface Template {\n    name: string,\n    size: number,\n    heads: number,\n    cylinders: number,\n    sectors: number,\n    sectorSize: number,\n}\n\nexport interface ReadResponse {\n    buffer?: Uint8Array,\n    code: number,\n}\n\nexport function createSockdrive(\n    onOpen: (drive: string, read: boolean, write: boolean, imageSize: number, preloadQueue: number[]) => void,\n    onError: (e: Error) => void,\n    onPreloadProgress: (drive: string, restBytes: number) => void,\n) {\n    let seq = 0;\n    const mapping: { [handle: Handle]: Drive } = {};\n    const templates: { [handle: number]: Template } = {};\n    const memory: { [handle: number]: Uint8Array } = {};\n    const stats: Stats = {\n        read: 0,\n        write: 0,\n        readTotalTime: 0,\n        cacheHit: 0,\n        cacheMiss: 0,\n        cacheUsed: 0,\n    };\n    const sockdrive = {\n        stats,\n        open: async (url: string, owner: string, name: string, token: string): Promise<{\n            handle: Handle,\n            aheadRange: number,\n        }> => {\n            const response = await fetch(url.replace(\"wss://\", \"https://\")\n                .replace(\"ws://\", \"http://\") + \"/template/\" + owner + \"/\" + name);\n            const template = await response.json();\n            if (template.error) {\n                throw new Error(template.error);\n            }\n            seq++;\n            templates[seq] = {\n                name: template.name,\n                size: template.size ?? 0,\n                heads: template.heads ?? 1,\n                cylinders: template.cylinders ?? 520,\n                sectors: template.sectors ?? 63,\n                sectorSize: template.sector_size ?? 512,\n            };\n\n            const sectorSize = templates[seq].sectorSize;\n            const module = { HEAPU8: new Uint8Array(0) };\n            mapping[seq] = new Drive(url, owner, name, token, stats, module, true, true);\n            return new Promise<{ handle: Handle, aheadRange: number }>((resolve, reject) => {\n                const drive = owner + \"/\" + name;\n                mapping[seq].onOpen((read, write, imageSize, preloadQueue, aheadRange) => {\n                    memory[seq] = new Uint8Array(sectorSize /* write */ + sectorSize * aheadRange);\n                    module.HEAPU8 = memory[seq];\n                    onOpen(drive, read, write, imageSize, preloadQueue);\n                    resolve({\n                        handle: seq,\n                        aheadRange,\n                    });\n                });\n                mapping[seq].onPreloadProgress((restBytes) => {\n                    onPreloadProgress(drive, restBytes);\n                });\n                mapping[seq].onError((e) => {\n                    onError(e);\n                    reject(e);\n                });\n            });\n        },\n        read: async (handle: Handle, sector: number): Promise<ReadResponse> => {\n            if (mapping[handle]) {\n                const ptr = templates[seq].sectorSize;\n                let code = mapping[handle].read(sector, ptr, true) as number;\n                if (code = 255) {\n                    code = await mapping[handle].read(sector, ptr, false);\n                }\n                return {\n                    code,\n                    buffer: memory[handle].slice(ptr),\n                };\n            }\n\n            console.error(\"ERROR! sockdrive handle\", handle, \"not found\");\n            return Promise.resolve({ code: 1 });\n        },\n        write: (handle: Handle, sector: number, buffer: Uint8Array): number => {\n            if (buffer.byteLength != templates[handle].sectorSize) {\n                onError(new Error(\"sockdrive write buffer size \" + buffer.byteLength +\n                    \" != sector size \" + templates[handle].sectorSize));\n                return 1;\n            }\n            if (mapping[handle]) {\n                memory[handle].set(buffer, 0);\n                return mapping[handle].write(sector, 0);\n            }\n            console.error(\"ERROR! sockdrive handle\", handle, \"not found\");\n            return 1;\n        },\n        close: (handle: Handle) => {\n            if (mapping[handle]) {\n                mapping[handle].close();\n                delete memory[handle];\n                delete templates[handle];\n                delete mapping[handle];\n            }\n        },\n        template: (handle: Handle) => {\n            return templates[handle];\n        },\n    };\n\n    return sockdrive;\n}\n","import { CommandInterface } from \"emulators\";\nimport { State } from \"../store\";\nimport { useDispatch, useSelector } from \"react-redux\";\n/* eslint-disable camelcase */\nimport { domToKeyCode, KBD_backspace, KBD_capslock, KBD_comma, KBD_down, KBD_enter,\n    KBD_esc, KBD_left, KBD_leftalt, KBD_leftbracket, KBD_leftctrl, KBD_leftshift,\n    KBD_period, KBD_quote, KBD_right, KBD_rightbracket, KBD_semicolon, KBD_space,\n    KBD_tab, KBD_up } from \"./dos/controls/keys\";\nimport { dosSlice } from \"../store/dos\";\n/* eslint-enable camelcase */\n\nexport function SoftKeyboard(props: { ci: CommandInterface | null }) {\n    const { ci } = props;\n    const visible = useSelector((state: State) => state.dos.softKeyboard);\n    const layout = useSelector((state: State) => state.dos.softKeyboardLayout);\n    const symbols = useSelector((state: State) => state.dos.softKeyboardSymbols);\n    const activeSymbols = useSelector((state: State) => state.dos.softKeyboardActiveSymbols);\n    const dispatch = useDispatch();\n    const display = symbols[activeSymbols] ?? {};\n\n    if (!visible || ci === null) {\n        return null;\n    }\n\n\n    function onChange(key: string, pressed: boolean) {\n        if (ci !== null) {\n            if (key === \"\") {\n                if (pressed) {\n                    const next = (activeSymbols + 1) % symbols.length;\n                    if (next !== activeSymbols) {\n                        dispatch(dosSlice.actions.softKeyboardActiveSymbols(next));\n                    }\n                }\n            } else {\n                for (const next of buttonToCode(key)) {\n                    ci.sendKeyEvent(next, pressed);\n                }\n            }\n        }\n    };\n\n    return <div class=\"soft-keyboard flex flex-col gap-3 my-2 mx-2 items-center\">\n        { layout.map((keys) => {\n            return <div class=\"flex flex-row gap-2 flex-wrap\">\n                {keys.split(\" \").map((key) => {\n                    return <kbd class=\"kbd kbd-md cursor-pointer hover:bg-slate-400\"\n                        onPointerDown={() => onChange(key, true)}\n                        onPointerUp={() => onChange(key, false)}\n                        onPointerCancel={() => onChange(key, false)}\n                    >{ display[key] ?? key }</kbd>;\n                })}\n            </div>;\n        })}\n    </div>;\n}\n\n\n/* eslint-disable camelcase */\nfunction buttonToCode(button: string): number[] {\n    if (button.length > 1) {\n        if (button === \"{enter}\") {\n            return [KBD_enter];\n        } else if (button === \"{shift}\") {\n            return [KBD_leftshift];\n        } else if (button === \"{bksp}\") {\n            return [KBD_backspace];\n        } else if (button === \"{lock}\") {\n            return [KBD_capslock];\n        } else if (button === \"{tab}\") {\n            return [KBD_tab];\n        } else if (button === \"{space}\") {\n            return [KBD_space];\n        } else if (button === \"{esc}\") {\n            return [KBD_esc];\n        } else if (button === \"{ctrl}\") {\n            return [KBD_leftctrl];\n        } else if (button === \"{alt}\") {\n            return [KBD_leftalt];\n        } else if (button === \"{up}\") {\n            return [KBD_up];\n        } else if (button === \"{down}\") {\n            return [KBD_down];\n        } else if (button === \"{left}\") {\n            return [KBD_left];\n        } else if (button === \"{right}\") {\n            return [KBD_right];\n        } else {\n            console.warn(\"Unknown button\", button);\n            return [];\n        }\n    } else if (button === \",\") {\n        return [KBD_comma];\n    } else if (button === \".\") {\n        return [KBD_period];\n    } else if (button === \"'\") {\n        return [KBD_quote];\n    } else if (button === \":\") {\n        return [KBD_semicolon];\n    } else if (button === \"{\") {\n        return [KBD_leftshift, KBD_leftbracket];\n    } else if (button === \"}\") {\n        return [KBD_leftshift, KBD_rightbracket];\n    }\n\n    const keyCode = domToKeyCode(button.toUpperCase().charCodeAt(0));\n    if (keyCode === 0) {\n        return [];\n    }\n\n    return [keyCode];\n}\n\n/* eslint-enable camelcase */\n","import { Emulators, CommandInterface } from \"emulators\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { dosSlice } from \"../../store/dos\";\nimport { State, useNonSerializableStore, postJsDosEvent } from \"../../store\";\nimport { useDosRuntime } from \"./dos-runtime\";\nimport { dhry2Bundle, Dhry2Results } from \"./dos-dhry2\";\nimport { createWsTransportLayer } from \"../../ws/ws-transport-layer\";\nimport { actualWsVersion } from \"../../v8/config\";\nimport { uiSlice } from \"../../store/ui\";\nimport { extractLayersConfig } from \"../../layers/controls/layers-config\";\nimport { pointer } from \"./controls/mouse/pointer\";\nimport { SoftKeyboard } from \"../soft-keyboard\";\n\ndeclare const emulators: Emulators;\n\nexport function DosWindow(props: {\n}) {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    const [ci, setCi] = useState<CommandInterface | null>(null);\n    const sockdriveWrite = useSelector((state: State) => state.dos.sockdriveWrite);\n    const accessToken = useSelector((state: State) => state.auth.account?.token.access_token);\n    const token = sockdriveWrite ? accessToken : undefined;\n    const worker = useSelector((state: State) => state.dos.worker);\n    const backend = useSelector((state: State) => state.dos.backend);\n    const backendHardware = useSelector((state: State) => state.dos.backendHardware);\n    const noCursor = useSelector((state: State) => state.dos.noCursor);\n    const dispatch = useDispatch();\n    const nonSerializableStore = useNonSerializableStore();\n\n    useEffect(() => {\n        try {\n            const bundles = nonSerializableStore.loadedBundle!.bundleChanges !== null ?\n                [nonSerializableStore.loadedBundle!.bundle, nonSerializableStore.loadedBundle!.bundleChanges] :\n                nonSerializableStore.loadedBundle!.bundle;\n\n            nonSerializableStore.loadedBundle!.bundle = null;\n            nonSerializableStore.loadedBundle!.bundleChanges = null;\n\n            const ci: Promise<CommandInterface> = (async () => {\n                if (backendHardware && nonSerializableStore.options.backendHardware) {\n                    const ws = await nonSerializableStore.options.backendHardware(backend);\n                    if (ws !== null) {\n                        return emulators.backend(bundles as any, await createWsTransportLayer(ws, (version) => {\n                            if (version < actualWsVersion) {\n                                dispatch(uiSlice.actions.updateWsWarning(true));\n                            }\n                            console.log(\"wsServer:\", version, \" expected:\", actualWsVersion);\n                        }), { token });\n                    }\n                };\n\n                return (emulators as any)[((backend !== \"dosbox\" && backend !== \"dosboxX\") ? \"dosbox\" : backend) +\n                    (worker ? \"Worker\" : \"Direct\")](bundles, {\n                    token,\n                });\n            })();\n\n            ci\n                .then((ci) => {\n                    setCi(ci);\n                    dispatch(dosSlice.actions.ci(true));\n                    if (pointer.mobile) {\n                        ci.config()\n                            .then((c) => {\n                                dispatch(dosSlice.actions.mobileControls(extractLayersConfig(c.jsdosConf) !== null));\n                            })\n                            .catch((e) => dispatch(dosSlice.actions.emuError(e.message)));\n                    }\n                    nonSerializableStore.ci = ci;\n                    postJsDosEvent(nonSerializableStore, \"ci-ready\", ci);\n                    (window as any).ci = ci;\n                })\n                .catch((e) => dispatch(dosSlice.actions.emuError(e.message)));\n\n            return () => {\n                ci.then((ci) => {\n                    dispatch(dosSlice.actions.ci(false));\n                    nonSerializableStore.ci = null;\n                    ci.exit();\n                });\n            };\n        } catch (e) {\n            dispatch(dosSlice.actions.emuError((e as any).message));\n        }\n    }, [worker, backend, token ?? null]);\n\n    return <div class=\"flex flex-col flex-grow h-full overflow-hidden\">\n        <div class=\"bg-black h-full flex-grow overflow-hidden relative\">\n            <canvas class={ noCursor ? \"cursor-none\" : \"\" } ref={canvasRef} />\n            {canvasRef.current && ci && <DosRuntime canvas={canvasRef.current} ci={ci} />}\n        </div>\n        <SoftKeyboard ci={ci} />\n    </div>;\n}\n\nfunction DosRuntime(props: { canvas: HTMLCanvasElement, ci: CommandInterface }) {\n    const { canvas, ci } = props;\n    const bundle = useSelector((state: State) => state.dos.bundle);\n\n    useDosRuntime(canvas, ci);\n\n    return <>\n        {bundle?.endsWith(dhry2Bundle) && <Dhry2Results ci={ci} />}\n    </>;\n}\n","import { useT } from \"../i18n\";\n\nexport function Error(props: {\n    error?: string | null,\n    onSkip?: () => void,\n}) {\n    const t = useT();\n    const error = props.error ?? \"Unexpected error\";\n\n    return <div class=\"flex-grow flex flex-col items-center justify-center px-8 m-auto\">\n        <div class=\"text-2xl text-center\">{t(\"error\")}</div>\n        <div class=\"text-red-400 mt-8 text-2xl text-center\">\"{error}\"</div>\n        <div class=\"mt-8 text-sm text-center\">{t(\"consult_logs\")}</div>\n        { props.onSkip && <button class=\"mt-8 btn-primary\" onClick={props.onSkip}>{t(\"skip\")}</button> }\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { Error } from \"../components/error\";\nimport { State } from \"../store\";\n\nexport function ErrorWindow() {\n    const error = useSelector((state: State) => state.dos.error);\n    return <Error error={error} />;\n}\n\n","export function Loading(props: {\n    head: string,\n    message: string,\n}) {\n    const { head, message } = props;\n\n    return <div class=\"flex flex-col items-center justify-center frame-color px-8\">\n        <div class=\"text-2xl text-center\">{head}</div>\n        <div class=\"mt-2 text-center\">{message}</div>\n    </div>;\n}\n\nexport function formatSize(size: number) {\n    if (size < 1024) {\n        return size + \"b\";\n    }\n\n    size /= 1024;\n\n    if (size < 1024) {\n        return Math.round(size) + \"kb\";\n    }\n\n    size /= 1024;\n    return Math.round(size * 10) / 10 + \"mb\";\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { formatSize, Loading } from \"../components/loading\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\nimport { authSlice } from \"../store/auth\";\n\nexport function LoadingWindow() {\n    const t = useT();\n    const step = useSelector((state: State) => state.dos.step);\n    const received = useSelector((state: State) => state.storage.recived);\n    const total = useSelector((state: State) => state.storage.total);\n    const ready = useSelector((state: State) => state.storage.ready);\n\n    let head = t(\"loading\");\n    let message = \"100%\";\n\n    switch (step) {\n        case \"bnd-load\": {\n            head = t(\"bundle_loading\");\n            if (received > 0) {\n                message = `${formatSize(received)} / ${formatSize(total)}`;\n\n                if (total > 0) {\n                    message += ` (${Math.round(received * 1000 / total) / 10}%)`;\n                }\n            }\n        } break;\n        case \"bnd-config\": {\n            head = t(\"bundle_config\");\n        }\n\n        default: {\n        }\n    }\n\n    return <div class=\"flex flex-col w-full h-full items-center justify-center\">\n        <Loading head={head} message={message} />\n        {step === \"bnd-load\" && ready && <AccountNotReady />}\n    </div>;\n}\n\nfunction AccountNotReady() {\n    const t = useT();\n    const dispatch = useDispatch();\n    function skip() {\n        dispatch(authSlice.actions.ready());\n    }\n    return <>\n        <div class=\"mt-16 text-2xl\">{t(\"loading_saves\")}</div>\n        <div onClick={skip} class=\"self-center cursor-pointer underline mt-4 text-lg animate-pulse\">\n            {t(\"account_not_ready\")}\n        </div>\n    </>;\n}\n","import { useDispatch, useStore } from \"react-redux\";\nimport { dosSlice } from \"../store/dos\";\nimport { useT } from \"../i18n\";\nimport { loadBundleFromFile, loadBundleFromUrl, loadEmptyBundle } from \"../load\";\nimport { useState } from \"preact/hooks\";\nimport { uiSlice } from \"../store/ui\";\nimport { Store } from \"../store\";\n\nconst fileInput = document.createElement(\"input\");\nfileInput.type = \"file\";\n\nexport function SelectWindow() {\n    const t = useT();\n    const store = useStore() as Store;\n    const [useUrl, setUseUrl] = useState<boolean>(false);\n\n    if (useUrl) {\n        return <div class=\"select-window overflow-hidden flex-grow flex flex-col items-center justify-center px-8 py-8\">\n            <Load />\n        </div>;\n    }\n\n    async function createEmpty() {\n        try {\n            await loadEmptyBundle(store).catch(console.error);\n        } catch (e: any) {\n            store.dispatch(dosSlice.actions.bndError(e.message ?? \"unexpected error\"));\n        }\n    }\n\n    return <div class=\"select-window overflow-hidden flex-grow flex flex-col items-center justify-center px-8\">\n        <div class=\"mb-4 text-center underline cursor-pointer hover:text-accent\"\n            onClick={() => setUseUrl(true)}>{t(\"load_by_url\")}</div>\n        <Upload />\n        <div class=\"mt-4 text-center\">{t(\"upload_file\")}</div>\n        <div class=\"mt-4 text-center underline cursor-pointer hover:text-accent\"\n            onClick={createEmpty}>{t(\"create_empty\")}</div>\n    </div>;\n}\n\nfunction Load() {\n    const t = useT();\n    const store = useStore();\n    const dispatch = useDispatch();\n    const [url, setUrl] = useState<string>(\"\");\n    const [error, setError] = useState<string | null>(null);\n\n    async function loadBundle(url: string) {\n        dispatch(uiSlice.actions.frameNone());\n\n        let validUrl;\n        try {\n            validUrl = new URL(url);\n        } catch (e: any) {\n            setError(e.message);\n            return;\n        }\n\n        try {\n            await loadBundleFromUrl(validUrl.toString(), store);\n        } catch (e: any) {\n            dispatch(dosSlice.actions.bndError(e.message ?? \"unexpected error\"));\n        }\n    }\n\n    return <>\n        <div class=\"form-control w-3/4 mb-4\">\n            <label class=\"label\">\n                <span class=\"label-text\">{t(\"enter_url\")}:</span>\n            </label>\n            <input type=\"text\"\n                class=\"input w-full input-sm input-bordered\"\n                onChange={(e) => setUrl(e.currentTarget.value ?? \"\")}\n                value={url}></input>\n        </div>\n        <div class=\"mt-4 text-center underline cursor-pointer hover:text-accent\"\n            onClick={() => loadBundle(url)}>{t(\"load\")}</div>\n        {error !== null &&\n            <div class=\"mt-8 text-center text-error\">\n                {error}\n            </div>\n        }\n    </>;\n}\n\nfunction Upload() {\n    const store = useStore() as Store;\n\n    async function onFileChange() {\n        fileInput.removeEventListener(\"change\", onFileChange);\n\n        if (fileInput.files === null || fileInput.files.length === 0) {\n            return;\n        }\n\n        const file = fileInput.files[0];\n        try {\n            await loadBundleFromFile(file, store).catch((e) => store.dispatch(dosSlice.actions.bndError(e.message)));\n        } catch (e: any) {\n            store.dispatch(dosSlice.actions.bndError(e.message ?? \"unexpected error\"));\n        }\n    }\n\n    function onUpload() {\n        fileInput.addEventListener(\"change\", onFileChange);\n        fileInput.click();\n    }\n\n    return <div class=\"cursor-pointer\" onClick={onUpload}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-48 h-48 play-button\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 13.5l3 3m0 0l3-3m-3\n                3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25\n                2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5\n                1.5 0 01-1.06-.44z\" />\n        </svg>\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { DosWindow } from \"./dos/dos-window\";\nimport { ErrorWindow } from \"./error-window\";\nimport { LoadingWindow } from \"./loading-window\";\nimport { PreRunWindow } from \"./prerun-window\";\nimport { SelectWindow } from \"./select-window\";\n\nexport function Window(props: {}) {\n    const frameOpened = useSelector((state: State) => state.ui.frame) !== \"none\";\n    const frameXs = useSelector((state: State) => state.ui.frameXs);\n    const window = useSelector((state: State) => state.ui.window);\n    const background = useSelector((state: State) => state.ui.background);\n    const kiosk = useSelector((state: State) => state.ui.kiosk);\n\n    let windowComponent = <Loading />;\n    switch (window) {\n        case \"error\": {\n            windowComponent = <ErrorWindow />;\n        } break;\n        case \"loading\": {\n            windowComponent = <LoadingWindow />;\n        } break;\n        case \"prerun\": {\n            windowComponent = <PreRunWindow />;\n        } break;\n        case \"run\": {\n            windowComponent = <DosWindow />;\n        } break;\n        case \"select\": {\n            windowComponent = <SelectWindow />;\n        } break;\n        default: ;\n    };\n\n    return <div class=\"window absolute w-full h-full bg-base-100\">\n        <div class=\"background-image\"\n            style={{ backgroundImage: (background ? \"url(\" + background + \")\" : undefined ) }} />\n        <div class=\"relative flex flex-row h-full w-full items-start justify-start overflow-auto\">\n            { !kiosk && <div class={(frameOpened ? (frameXs ? \"w-24\" : \"w-96\") : \"w-12\") + \" flex-shrink-0\"}></div> }\n            {windowComponent}\n        </div>\n    </div>;\n}\n\nfunction Loading() {\n    return <div class=\"w-full h-full flex justify-center items-center\">\n        <div class=\"radial-progress animate-spin\" style=\"--value:70;\"></div>\n    </div>;\n}\n","import { useEffect, useRef } from \"preact/hooks\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Login } from \"./login/login\";\nimport { Frame } from \"./frame/frame\";\nimport { SideBar } from \"./sidebar/sidebar\";\nimport { State } from \"./store\";\nimport { dispatchLoginAction, uiSlice } from \"./store/ui\";\nimport { Window } from \"./window/window\";\nimport { useT } from \"./i18n\";\n\nlet currentWideScreen = uiSlice.getInitialState().wideScreen;\nexport function Ui() {\n    const rootRef = useRef<HTMLDivElement>(null);\n    const hidden = useSelector((state: State) => state.ui.hidden);\n    const theme = useSelector((state: State) => state.ui.theme);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (hidden || rootRef === null || rootRef.current === null) {\n            return;\n        }\n\n        const root = rootRef.current;\n        function onResize() {\n            const size = root.getBoundingClientRect().width;\n            const wide = size > 640;\n            if (wide !== currentWideScreen) {\n                currentWideScreen = wide;\n                dispatch(uiSlice.actions.setWideScreen(currentWideScreen));\n            }\n        }\n\n        const resizeObserver = new ResizeObserver(onResize);\n        resizeObserver.observe(root);\n        window.addEventListener(\"resize\", onResize);\n\n        return () => {\n            resizeObserver.disconnect();\n            window.removeEventListener(\"resize\", onResize);\n        };\n    }, [hidden, rootRef, dispatch]);\n\n    if (hidden) {\n        return null;\n    }\n\n    return <div\n        ref={rootRef}\n        class=\"w-full h-full relative\"\n        data-theme={theme}>\n        <Window />\n        <Frame />\n        <SideBar />\n        <Login />\n        <Toast />\n        <ReadOnlyWarning />\n        <UpdateWsWarning />\n    </div>;\n};\n\nfunction Toast() {\n    const toast = useSelector((state: State) => state.ui.toast);\n    const intent = useSelector((state: State) => state.ui.toastIntent);\n    const readOnlyWarning = useSelector((state: State) => state.ui.readOnlyWarning);\n\n    if (toast === null) {\n        return null;\n    }\n\n    return <div class={\"absolute right-10 \" + (readOnlyWarning ? \"bottom-32\" : \"bottom-10\")}>\n        <div class={\"alert alert-\" + (intent === \"panic\" ? \"error\" : intent)} >\n            {toast}\n        </div>\n    </div>;\n}\n\nfunction ReadOnlyWarning() {\n    const readOnlyWarning = useSelector((state: State) => state.ui.readOnlyWarning);\n    const account = useSelector((state: State) => state.auth.account);\n    const t = useT();\n    const dispatch = useDispatch();\n\n    if (!readOnlyWarning) {\n        return null;\n    }\n\n    function fix() {\n        dispatch(uiSlice.actions.readOnlyWarning(false));\n        dispatchLoginAction(account, dispatch);\n    }\n\n    function close() {\n        dispatch(uiSlice.actions.readOnlyWarning(false));\n    }\n\n    return <div class=\"absolute right-10 bottom-10\">\n        <div class=\"alert\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                class=\"stroke-info shrink-0 w-6 h-6\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                    d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n            </svg>\n            <span>{t(\"read_only_access\")}</span>\n            <div>\n                <button class=\"btn btn-sm btn-primary mr-2\" onClick={fix}>{t(\"fix\")}</button>\n                <button class=\"btn btn-sm\" onClick={close}>{t(\"close\")}</button>\n            </div>\n        </div>\n    </div>;\n}\n\nfunction UpdateWsWarning() {\n    const updateWsWarning = useSelector((state: State) => state.ui.updateWsWarning);\n    const t = useT();\n    const dispatch = useDispatch();\n\n    if (!updateWsWarning) {\n        return null;\n    }\n\n    function fix() {\n        window.open(\"https://dos.zone/download/\", \"_blank\");\n        dispatch(uiSlice.actions.updateWsWarning(false));\n    }\n\n    function close() {\n        dispatch(uiSlice.actions.updateWsWarning(false));\n    }\n\n    return <div class=\"absolute left-20 right-10 top-10 flex justify-center\">\n        <div class=\"alert w-auto\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-6 text-error\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217\n                    3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898\n                    0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z\" />\n            </svg>\n            <span>{t(\"ws_outdated\")}</span>\n            <div>\n                <button class=\"btn btn-sm btn-primary mr-2\" onClick={fix}>{t(\"update\")}</button>\n                <button class=\"btn btn-sm\" onClick={close}>{t(\"close\")}</button>\n            </div>\n        </div>\n    </div>;\n}\n","import { render } from \"preact\";\nimport \"./index.css\";\n\nimport { Provider } from \"react-redux\";\nimport { Ui } from \"./ui\";\nimport { dosSlice, RenderAspect } from \"./store/dos\";\nimport { initEmulators } from \"./store/dos\";\n// eslint-disable-next-line\nimport { uiSlice } from \"./store/ui\";\nimport { i18nSlice } from \"./i18n\";\nimport { getCache } from \"./host/lcache\";\nimport { loadBundleFromConfg, loadBundleFromUrl } from \"./load\";\n\nimport { DosOptions, DosProps, DosFn, ImageRendering, RenderBackend } from \"./public/types\";\nimport { browserSetFullScreen } from \"./host/fullscreen\";\nimport { NonSerializableStore, Store, getNonSerializableStore,\n    makeNonSerializableStore, makeStore, postJsDosEvent } from \"./store\";\nimport { authSlice } from \"./store/auth\";\n\nexport const Dos: DosFn = (element: HTMLDivElement,\n    options: Partial<DosOptions> = {}): DosProps => {\n    const nonSerializableStore = makeNonSerializableStore(options);\n    const store = makeStore(nonSerializableStore, options);\n\n\n    if (store.getState().auth.account?.email === \"dz.caiiiycuk@gmail.com\") {\n        store.dispatch(dosSlice.actions.setSockdriveWrite(false));\n    }\n\n    setupRootElement(element, nonSerializableStore, store);\n\n    let pollStep = \"none\";\n    function pollEvents() {\n        (async () => {\n            const state = store.getState();\n            const step = state.dos.step;\n\n            if (step === pollStep) {\n                return;\n            }\n            pollStep = step;\n\n            switch (state.dos.step) {\n                case \"emu-ready\": {\n                    const cachedEmail = state.auth.account?.email;\n                    nonSerializableStore.cache = await getCache(cachedEmail ?? \"guest\");\n\n                    if (nonSerializableStore.options.url) {\n                        try {\n                            await loadBundleFromUrl(nonSerializableStore.options.url, store);\n                        } catch (e: any) {\n                            store.dispatch(dosSlice.actions.bndError(e.message));\n                        }\n                    } else if (nonSerializableStore.options.dosboxConf) {\n                        loadBundleFromConfg({\n                            dosboxConf: nonSerializableStore.options.dosboxConf,\n                            jsdosConf: {\n                                version: \"8\",\n                            },\n                        }, store);\n                    } else {\n                        store.dispatch(uiSlice.actions.windowSelect());\n                    }\n\n                    postJsDosEvent(nonSerializableStore, \"emu-ready\");\n                } break;\n            };\n        })().catch(console.error);\n    }\n    store.subscribe(pollEvents);\n\n    initEmulators(store, options.pathPrefix ?? \"https://v8.js-dos.com/latest/emulators/\");\n\n    function setTheme(theme: DosOptions[\"theme\"]) {\n        store.dispatch(uiSlice.actions.theme(theme));\n    }\n\n    function setLang(lang: DosOptions[\"lang\"]) {\n        store.dispatch(i18nSlice.actions.setLang(lang));\n    }\n\n    function setBackend(backend: DosOptions[\"backend\"]) {\n        store.dispatch(dosSlice.actions.dosBackend(backend));\n    }\n\n    function setBackendLocked(locked: boolean) {\n        store.dispatch(dosSlice.actions.dosBackendLocked(locked));\n    }\n\n    function setWorkerThread(workerThread: DosOptions[\"workerThread\"]) {\n        store.dispatch(dosSlice.actions.dosWorker(workerThread));\n    }\n\n    function setMouseCapture(capture: DosOptions[\"mouseCapture\"]) {\n        store.dispatch(dosSlice.actions.mouseCapture(capture));\n    }\n\n    function setServer(server: DosOptions[\"server\"]) {\n        store.dispatch(dosSlice.actions.setServer(server));\n    }\n\n    function setRoom(room: DosOptions[\"room\"]) {\n        store.dispatch(dosSlice.actions.setRoom(room));\n    }\n\n    function setFrame(frame: \"network\") {\n        store.dispatch(uiSlice.actions.frameNetwork());\n    }\n\n    function setBackground(background: string) {\n        store.dispatch(uiSlice.actions.background(background));\n    }\n\n    function setFullScreen(fullScreen: boolean) {\n        browserSetFullScreen(fullScreen, store);\n    }\n\n    function setAutoStart(autoStart: boolean) {\n        store.dispatch(uiSlice.actions.autoStart(autoStart));\n    }\n\n    function setKiosk(kiosk: boolean) {\n        store.dispatch(uiSlice.actions.kiosk(kiosk));\n    }\n\n    function setImageRendering(imageRendering: ImageRendering) {\n        store.dispatch(dosSlice.actions.imageRendering(imageRendering));\n    }\n\n    function setRenderBackend(backend: RenderBackend) {\n        store.dispatch(dosSlice.actions.renderBackend(backend));\n    }\n\n    function setRenderAspect(aspect: RenderAspect) {\n        store.dispatch(dosSlice.actions.renderAspect(aspect));\n    }\n\n    function setNoNetworking(networking: boolean) {\n        store.dispatch(uiSlice.actions.noNetworking(networking));\n    }\n\n    function setNoCloud(cloud: boolean) {\n        store.dispatch(uiSlice.actions.noCloud(cloud));\n    }\n\n    function setPaused(paused: boolean) {\n        store.dispatch(dosSlice.actions.paused(paused));\n    }\n\n    function setScaleControls(scale: number) {\n        store.dispatch(dosSlice.actions.scaleControls(scale));\n    }\n\n    function setMouseSensitivity(sensitivity: number) {\n        store.dispatch(dosSlice.actions.mouseSensitivity(sensitivity));\n    }\n\n    function setNoCursor(noCursor: boolean) {\n        store.dispatch(dosSlice.actions.noCursor(noCursor));\n    }\n\n    if (options.theme) {\n        setTheme(options.theme);\n    }\n\n    if (options.lang) {\n        setLang(options.lang);\n    }\n\n    if (options.backend) {\n        setBackend(options.backend);\n    }\n\n    if (options.backendLocked) {\n        setBackendLocked(options.backendLocked);\n    }\n\n    if (options.workerThread !== undefined) {\n        setWorkerThread(options.workerThread);\n    }\n\n    if (options.mouseCapture !== undefined) {\n        setMouseCapture(options.mouseCapture);\n    }\n\n    if (options.server) {\n        setServer(options.server);\n    }\n\n    if (options.room) {\n        setRoom(options.room);\n    }\n\n    if (options.background) {\n        setBackground(options.background);\n    }\n\n    if (options.fullScreen !== undefined) {\n        setFullScreen(options.fullScreen);\n    }\n\n    if (options.loginUrl !== undefined) {\n        store.dispatch(authSlice.actions.setLoginUrl(options.loginUrl));\n    }\n\n    if (options.autoStart !== undefined) {\n        setAutoStart(options.autoStart);\n    }\n\n    if (options.kiosk !== undefined) {\n        setKiosk(options.kiosk);\n    }\n\n    if (options.imageRendering !== undefined) {\n        setImageRendering(options.imageRendering);\n    }\n\n    if (options.renderBackend !== undefined) {\n        setRenderBackend(options.renderBackend);\n    }\n\n    if (options.renderAspect !== undefined) {\n        setRenderAspect(options.renderAspect);\n    }\n\n    if (options.noNetworking !== undefined) {\n        setNoNetworking(options.noNetworking);\n    }\n\n    if (options.noCloud !== undefined) {\n        setNoCloud(options.noCloud);\n    }\n\n    if (options.scaleControls !== undefined) {\n        setScaleControls(options.scaleControls);\n    }\n\n    if (options.mouseSensitivity !== undefined) {\n        setMouseSensitivity(options.mouseSensitivity);\n    }\n\n    if (options.noCursor !== undefined) {\n        setNoCursor(options.noCursor);\n    }\n\n    render(\n        <Provider store={store}>\n            {<Ui /> as any}\n        </Provider>,\n        element,\n    );\n\n    return {\n        setTheme,\n        setLang,\n        setBackend,\n        setBackendLocked,\n        setWorkerThread,\n        setMouseCapture,\n        setServer,\n        setRoom,\n        setFrame,\n        setBackground,\n        setFullScreen,\n        setAutoStart,\n        setKiosk,\n        setImageRendering,\n        setRenderBackend,\n        setRenderAspect,\n        setNoNetworking,\n        setNoCloud,\n        setPaused,\n        setScaleControls,\n        setMouseSensitivity,\n        setNoCursor,\n\n        stop: async () => {\n            store.dispatch(uiSlice.actions.hidden(true));\n            const nonSerializableStore = getNonSerializableStore(store);\n            if (nonSerializableStore.ci) {\n                return nonSerializableStore.ci.exit();\n            }\n        },\n    };\n};\n\nfunction setupRootElement(root: HTMLDivElement, nonSerializableStore: NonSerializableStore, store: Store) {\n    nonSerializableStore.root = root;\n    root.classList.add(\"jsdos-rso\");\n    root.addEventListener(\"contextmenu\", (e) => {\n        if (e.target !== null &&\n            (e.target as HTMLElement).classList?.contains(\"contextmenu\")) {\n            return;\n        }\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n    });\n    document.addEventListener(\"fullscreenchange\", () => {\n        const fullscreen = document.fullscreenElement === root;\n        store.dispatch(uiSlice.actions.setFullScreen(fullscreen));\n    });\n    function listen() {\n        store.dispatch(uiSlice.actions.documentHidden(document.hidden));\n    };\n    document.addEventListener(\"visibilitychange\", listen);\n}\n\n(window as any).Dos = Dos;\n"],"names":["n","l","u","i","o","r","f","e","c","s","a","h","Array","isArray","v","p","parentNode","removeChild","y","t","arguments","length","children","call","defaultProps","d","type","props","key","ref","__k","__","__b","__e","__d","__c","constructor","__v","__i","__u","vnode","_","current","g","b","this","context","m","k","base","w","push","x","__r","debounceRendering","sort","shift","__P","L","__n","ownerSVGElement","M","C","String","H","N","P","z","S","nextSibling","insertBefore","$","some","I","setProperty","test","T","style","cssText","replace","toLowerCase","slice","Date","now","addEventListener","D","A","removeEventListener","removeAttribute","setAttribute","event","contextType","value","__E","prototype","render","O","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","indexOf","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","attributes","name","__html","innerHTML","j","diffed","l$5","unmount","componentWillUnmount","q","firstChild","B","E","F","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","__H","__V","__N","filter","every","o$1","concat","useDebugValue","V","__m","r$4","requestAnimationFrame","clearTimeout","cancelAnimationFrame","displayName","isReactComponent","__f","isPureReactComponent","R","Symbol","for","$$typeof","map","count","only","toArray","appendChild","U","__a","default","__R","__O","pop","fallback","delete","revealOrder","size","W","q$7","containerInfo","get","Map","reverse","set","Z","Y","textContent","G","Object","defineProperty","configurable","writable","J","K","Q","cancelBubble","X","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","nn","tn","enumerable","class","en","multiple","selected","defaultValue","className","rn","un","on","ReactCurrentDispatcher","readContext","cn","fn","an","sn","apply","hn","vn","dn","pn","mn","yn","_n","bn","Sn","gn","Cn","En","wn","useState","useId","useReducer","useEffect","useLayoutEffect","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useRef","useImperativeHandle","useMemo","useCallback","useContext","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","createRef","Fragment","isValidElement","isElement","isFragment","findDOMNode","Component","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","require$$0","getSnapshot","window","inst","useSyncExternalStoreShim_production_min","shimModule","exports","require$$1","withSelector_production_min","useSyncExternalStoreWithSelector","hasValue","withSelectorModule","batch","callback","getBatch","ContextKey","gT","globalThis","getContext","_gT$ContextKey","React.createContext","contextMap","realContext","ReactReduxContext","createReduxContextHook","useReduxContext","Error","refEquality","createSelectorHook","useDefaultReduxContext","selector","equalityFnOrOptions","equalityFn","stabilityCheck","noopCheck","store","subscription","getServerState","globalStabilityCheck","globalNoopCheck","wrappedSelector","selectedState","addNestedSub","getState","useSelector","reactIs_production_min","AsyncMode","ConcurrentMode","ContextProvider","Element","ForwardRef","Memo","Portal","Profiler","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isLazy","isMemo","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","reactIsModule","reactIs","TYPE_STATICS","propTypes","compare","ContextConsumer","Lazy","isPortal","isSuspenseList","getModuleId","nullListeners","notify","createSubscription","parentSub","unsubscribe","listeners","subscriptionsAmount","selfSubscribed","handleChangeWrapper","onStateChange","trySubscribe","subscribe","first","last","clear","listener","next","isSubscribed","prev","createListenerCollection","tryUnsubscribe","cleanupListener","removed","notifyNestedSubs","getListeners","useIsomorphicLayoutEffect","React.useLayoutEffect","React.useEffect","serverState","contextValue","React.useMemo","previousState","React.createElement","createStoreHook","useStore","createDispatchHook","useDefaultStore","dispatch","useDispatch","join","getPrototypeOf","hasOwnProperty","Function","toString","keys","t2","has","add","Set","create","freeze","isFrozen","n2","e2","getOwnPropertyDescriptor","Proxy","revocable","revoke","proxy","u2","e3","from","Reflect","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","getOwnPropertyDescriptors","Number","isNaN","deleteProperty","setPrototypeOf","produce","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","path","op","_typeof","obj","iterator","_toPropertyKey","arg","input","hint","prim","toPrimitive","res","TypeError","_defineProperty","toPropertyKey","object","enumerableOnly","symbols","sym","_objectSpread2","target","source","defineProperties","formatProdErrorMessage","code","$$observable","observable","randomString","Math","random","substring","split","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","index","action","proto","isPlainObject","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","combineReducers","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","compose","_len","funcs","reduce","applyMiddleware","middlewares","_dispatch","middlewareAPI","chain","middleware","_objectSpread","createThunkMiddleware","extraArgument","thunk","withExtraArgument","thunkMiddleware","__extends","extendStatics","__proto__","__generator","thisArg","body","label","sent","trys","ops","verb","throw","return","done","step","__spreadArray","to","il","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","__spreadValues","prop","_c","__spreadProps","composeWithDevTools","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createAction","prepareAction","actionCreator","args","prepared","payload","meta","error","match","MiddlewareArray","_super","_this","species","MiddlewareArray2","arr","prepend","EnhancerArray","EnhancerArray2","freezeDraftable","val","isDraftable","createNextState","curryGetDefaultMiddleware","options","immutableCheck","serializableCheck","actionCreatorCheck","middlewareArray","getDefaultMiddleware","IS_PRODUCTION","configureStore","rootReducer","curriedGetDefaultMiddleware","_d","_e","_f","devTools","_g","_h","enhancers","baseProto","finalMiddleware","middlewareEnhancer","finalCompose","compose2","trace","defaultEnhancers","storeEnhancers","executeReducerBuilderCallback","builderCallback","defaultCaseReducer","actionsMap","actionMatchers","builder","addCase","typeOrActionCreator","addMatcher","matcher","addDefaultCase","createSlice","initialState","_reducer","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","actionCreators","buildReducer","extraReducers","finalCaseReducers","mapOrBuilderCallback","getInitialState","finalActionMatchers","finalDefaultCaseReducer","frozenInitialState_1","caseReducers","cr","caseReducer","result","isDraft2","isDraftable2","createNextState2","draft","createReducer","actionMatchers_1","reducerName","prepareCallback","maybeReducerWithPrepare","prepare","actions","commonProperties","RejectWithValue","FulfillWithMeta","miniSerializeError","simpleError","commonProperties_1","property","message","unwrapResult","rejectedWithValue","createAsyncThunk2","typePrefix","payloadCreator","fulfilled","requestId","requestStatus","pending","rejected","serializeError","aborted","condition","AC","AbortController","class_1","signal","dispatchEvent","onabort","reason","throwIfAborted","abort","assign","extra","abortReason","idGenerator","id","nanoid","abortController","promise2","__this","__arguments","generator","_a","_b","finalAction","conditionResult","abortedPromise","err_1","reject","getPendingMeta","race","rejectWithValue","fulfillWithValue","dispatchConditionRejection","unwrap","withTypes","alm","queueMicrotask","global","r3","min","enableES5","MemStorage","__publicField","storage","setItem","getItem","undefined","removeItem","lStorage","backend","prefix","localStorage","testBackend","sync","testKey","readedValue","setLocalStoragePrefix","toRemove","startsWith","writeStringToKey","offset","substr","NEXT_PART_SYMBOL","NEXT_PART_SYFFIX","readStringFromKey","CacheNoop","close","put","del","each","LCache","owner","onready","onerror","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","openRequest","open","onsuccess","db","onupgradeneeded","createObjectStore","storeName","createIndex","unique","multiEntry","request","transaction","objectStore","buffer","rejectOrResolve","Uint8Array","getAllKeys","openCursor","cursor","continue","getCache","msg","cachedAccount","initAccount","refreshToken","URLSearchParams","location","search","setRefreshToken","history","replaceState","href","json","account","JSON","parse","token","validUntilMs","authSlice","loginUrl","ready","login","refresh_token","premium","email","stringify","asyncStore","dosSlice","setSockdriveWrite","getNonSerializableStore","cache","catch","console","finally","logout","setLoginUrl","clearRefreshToken","translations","ru","mobile_controls","mirrored_controls","scale_controls","enter_name_of_drive","ws_outdated","update","preloading_sockdrive","please_login","features","buy","experimental_features","cloud_saves","writeable_fat32","net_no_limits","unlock_options","consult_logs","bundle_loading","bundle_config","try_free","upload_file","emulation_backend","render_backend","render_aspect","worker","mouse_sensitivity","mouse_lock","volume","pause","dosboxconf_template","preview","skip","loading","extract_loading","extract_long_time","theme","create_empty","uploading_file","fs_restart","please_wait","making_bundle","room","server","load_by_url","enter_url","load","stored","editor","download","changes","account_not_ready","loading_saves","success","unable_to_save","not_premium","copy_net_link","copied","image_rendering","read_only_access","fix","cancle","manage","unable_to_cancle_subscription","subscription_cancelled","hardware","net_drives","fat_write","play","prerun_line","system_cursor","initialLang","navigator","language","i18nSlice","lang","setLang","useT","i18n","storageSlice","recived","total","reset","progress","dosboxconf","contents","editorSlice","configChanged","bundleConfig","errorMessage","fs","init","dosboxConf","jsdosConf","sockdriveBackendNames","sockdriveBackend","sockdriveEndpoint","sockdriveWssEndpoint","localhost","storeUid","createInitSlice","uid","sockdriveBackendName","setSockdriveBackendName","initSlice","dosMiddleware","actionWithAsyncDispatch","nonSerializableStoreMap","storeOrState","useNonSerializableStore","postJsDosEvent","nonSerializableStore","ci","onEvent","alphabet","BackendValues","RenderBackendValues","RenderAspectValues","FitConstant","ImageRenderingValues","emuVersion","bundle","config","backendLocked","backendHardware","renderBackend","renderAspect","parseFloat","mobileControls","mirroredControls","scaleControls","mouseSensitivity","mouseCapture","paused","stats","cyclesPerMs","nonSkippableSleepPreSec","sleepPerSec","sleepTimePerSec","framePerSec","soundPerSec","msgSentPerSec","msgRecvPerSec","netRecv","netSent","driveSent","driveRecv","driveRecvTime","driveCacheHit","driveCacheMiss","driveCacheUsed","driveIo","network","randomSymbol","ipx","ciStartedAt","imageRendering","sockdriveWrite","softKeyboard","softKeyboardLayout","softKeyboardSymbols","softKeyboardActiveSymbols","noCursor","emuReady","emuError","bndLoad","bndError","bndConfig","bndReady","bndPlay","dosWorker","dosBackend","dosBackendLocked","dosBackendHardware","connectIpx","address","canonicalAddress","endsWith","networkConnect","replaceAll","statusIpx","disconnectIpx","networkDisconnect","setRoom","setServer","emulatorsReady","initEmulators","pathPrefix","async","querySelector","script","src","onload","emulators","err","head","initEmulatorsJs","round","ThemeValues","uiSlice","hidden","modal","frame","frameXs","wideScreen","fullScreen","toast","toastIntent","toastTimeoutId","background","readOnlyWarning","updateWsWarning","cloudSaves","autoStart","kiosk","documentHidden","noNetworking","noCloud","modalLogin","modalNone","frameNone","frameAccount","newFrame","toggleFrameIfNeeded","frameSettings","frameNetwork","frameStats","frameConf","frameFs","frameFatDrives","frameQuickSave","frameImageRendering","framePreRun","windowSelect","setEditor","setWideScreen","setFullScreen","showToast","clearInterval","intent","hideToast","long","dispatchLoginAction","__source","__self","CloseButton","_jsx","onClick","onClose","xmlns","fill","viewBox","stroke","authentificator","endpoint","uploadsS3Bucket","uploadsS3Url","uploadNamspace","presignPut","apiEndpoint","xsollaSubscriptons","xsollaPremiumId","brCdn","cancelSubscriptionPage","actualWsVersion","Login","iframeRef","activeAccount","auth","visible","ui","iframe","onAuthMessage","postAuthMessage","response","fetch","method","headers","Authorization","items","plan_external_id","havePremium","access_token","_jsxs","url","contentWindow","postMessage","AccountFrame","picture","openPremiumPage","PremiumPlan","locked","setLocked","PremiumCheck","openPage","cancelSubscription","_Fragment","host","link_to_ps","link","imgmount","cleanup","EditorConf","dos","myDrives","setMyDrives","parseSockDrives","conf","drives","re","RegExp","exec","num","drive","sockdrives","setSockdrives","setSockdrivesAndUpdateConf","parts","values","start","footer","trim","updateDosboxConf","changeConfig","newConf","onChange","newSockdrives","currentTarget","tabIndex","role","parentElement","blur","self","__data__","toStringTag","valueOf","byteLength","byteOffset","ArrayBuffer","IE_PROTO","hash","string","nmd","process","require","types","binding","Buffer","isBuffer","isTypedArray","Cache","resetWarningCache","isRequired","array","bigint","bool","func","number","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","loaded","__esModule","paths","xe","expandNodesToLevel","me","crypto","getRandomValues","toUpperCase","construct","sham","Boolean","ReferenceError","title","ALL","PARENT","LEAF","stack","flatNodes","disabled","noCascade","nodeHasChildren","parent","isChild","isParent","isLeaf","showCheckbox","getDisabledState","treeDepth","flattenNodes","expanded","toggleNode","toggleChecked","toggleParentStatus","isEveryChildChecked","getNode","checked","updateDeterminateProperty","indeterminate","checkbox","check","uncheck","halfCheck","expandClose","expandOpen","expandAll","collapseAll","parentClose","parentOpen","leaf","toggle","onCheck","onCheckboxKeyPress","onCheckboxKeyUp","onExpand","getCheckState","which","preventDefault","keyCode","includes","expandOnClick","optimisticToggle","expandDisabled","renderCollapseIcon","icons","icon","onKeyPress","treeId","htmlFor","onKeyUp","renderCheckboxIcon","showNodeIcon","renderNodeIcon","renderCheckboxLabel","renderBareLabel","renderCollapseButton","renderLabel","renderChildren","ee","te","ne","oe","ie","ae","ce","se","le","ye","ue","pe","de","he","be","fe","nodes","deserializeLists","model","prevProps","onNodeClick","onExpandAll","onCollapseAll","combineMemorized","checkModel","clone","serializeList","expandAllNodes","isSomeChildChecked","checkState","onlyLeafCheckboxes","showNodeTitle","renderTreeNodes","determineShallowCheckState","showExpandAll","nameAsArray","renderArrayHiddenInput","renderJoinedHiddenInput","direction","iconsClass","nativeCheckboxes","renderExpandAll","renderHiddenInput","setProps","ve","ge","getChangesUrl","bundleUrl","personalBundleKey","lastIndexOf","basename","getPersonalBundleKey","putChanges","encodeURIComponent","post","formData","FormData","entries","fields","append","Blob","status","statusText","loadBundleFromFile","file","doLoadBundle","bundleFromFile","reader","FileReader","readAsArrayBuffer","loadBundleFromUrl","changesUrl","bundleFromUrl","lenHeader","parseInt","getReader","received","chunks","read","bytes","complete","unsubscirbe","updateFn","bundleFromChanges","arrayBuffer","changesProducer","bundleName","bundlePromise","bundleChangesPromise","loadedBundle","bundleChanges","syncWithConfig","bundleChangesUrl","downloadArrayToFs","fileName","blob","targetBlank","display","click","remove","downloadUrlToFs","URL","createObjectURL","EditorFsFrame","haveCi","fsSize","setFsSize","fsTree","_setFsTree","setExpanded","setChecked","uploadingFile","setUploadingFile","makingBundle","setMakingBundle","setFsTree","calcFsSize","cancled","tree","toNodes","Actions","onRefresh","onUploadingFile","onMakingBundle","CheckboxTree","FolderOpened","FolderClosed","nodeSorter","toNode","fsNode","fullPath","nodeExt","uploadDirRef","uploadFileRef","onUploadClick","onUpload","files","webkitRelativePath","relPath","fsWriteFile","stream","confirm","loadBundle","openConfig","localeCompare","Select","multiline","selectClass","onSelect","BackendSelect","OptionSelect","newValue","RenderSelect","RenderAspectSelect","ImageRenderingSelect","ThemeSelect","SockdriveBackend","LockBadge","FatDrivesFrame","setFilter","busy","setBusy","forkDialogRef","deleteDialogRef","forkName","setForkName","deleteConfirm","setDeleteConfirm","dialogError","setDialogError","dialogIndex","setDialogIndex","sockdrivePremium","setSockdrivePremium","reloadDrives","fork_of","template","placeholder","showModal","newDrives","Checkbox","intermediate","toggleClass","NetworkFrame","ipxLink","searchSeparator","newServer","text","clipboard","writeText","DisketteIcon","CloudSaveButton","all","QuickSaveFrame","SaveButton","bgcolor","textcolor","LoadButton","sendBackendEvent","Editor","MouseCapture","lock","SystemCursor","MobileControls","MirroredControls","PauseCheckbox","WorkerCheckbox","HardwareCheckbox","SockdriveWrite","Slider","sliderRef","pointRef","sliderEl","pressed","updatePercent","boundingRect","getBoundingClientRect","percent","max","clientX","left","width","onPointerDown","onPointerMove","onPointerUp","MouseSensitiviySlider","sensitivity","ScaleControlsSlider","VolumeSlider","SettingsFrame","StatsFrame","startedAt","cycles","driveRecvMb","driveSpeedMb","io","write","ImageRenderingFrame","PreRunWindow","Play","JSDOS_VERSION","onPlay","isView","bundleUpdateConfig","button","PreRunFrame","Frame","AccountButton","loggedIn","hightlight","browserSetFullScreen","root","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitEnterFullscreen","classList","contains","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","FullscreenButton","NetworkButton","inactive","ImageRenderingButton","SidebarButton","QuickSaveButton","FatDrivesButton","DosboxConfButton","FsButton","CyclesButton","HddLed","recv","enabled","delayLedTo","el","setInterval","newRecv","newEnabled","setOn","off","setOff","timeoutId","statsRecv","SettingsButton","SoftKeyboardButton","PreRunButton","getPointerState","evt","rect","targetTouches","clientY","mX","mY","offsetX","offsetY","movementX","movementY","pointer","isMobile","appVersion","userAgent","platform","maxTouchPoints","isTouch","isPointer","PointerEvent","isMSPointer","MSPointerEvent","canLock","starters","changers","enders","leavers","prevents","mobile","initBind","SideBar","networking","cloud","KBD_NONE","KBD_0","KBD_esc","KBD_tab","KBD_backspace","KBD_enter","KBD_space","KBD_leftalt","KBD_leftctrl","KBD_leftshift","KBD_capslock","KBD_leftbracket","KBD_rightbracket","KBD_semicolon","KBD_quote","KBD_period","KBD_comma","KBD_left","KBD_up","KBD_down","KBD_right","domToKeyCodes","namedKeyCodes","KBD_1","KBD_2","KBD_3","KBD_4","KBD_5","KBD_6","KBD_7","KBD_8","KBD_9","KBD_a","KBD_b","KBD_c","KBD_d","KBD_e","KBD_f","KBD_g","KBD_h","KBD_i","KBD_j","KBD_k","KBD_l","KBD_m","KBD_n","KBD_o","KBD_p","KBD_q","KBD_r","KBD_s","KBD_t","KBD_u","KBD_v","KBD_w","KBD_x","KBD_y","KBD_z","KBD_f1","KBD_f2","KBD_f3","KBD_f4","KBD_f5","KBD_f6","KBD_f7","KBD_f8","KBD_f9","KBD_f10","KBD_f11","KBD_f12","KBD_kp0","KBD_kp1","KBD_kp2","KBD_kp3","KBD_kp4","KBD_kp5","KBD_kp6","KBD_kp7","KBD_kp8","KBD_kp9","KBD_kpperiod","KBD_kpdivide","KBD_kpmultiply","KBD_kpminus","KBD_kpplus","KBD_kpenter","KBD_rightalt","KBD_rightctrl","KBD_rightshift","KBD_scrolllock","KBD_numlock","KBD_grave","KBD_minus","KBD_equals","KBD_backslash","KBD_slash","KBD_printscreen","KBD_pause","KBD_insert","KBD_home","KBD_pageup","KBD_delete","KBD_end","KBD_pagedown","KBD_extra_lt_gt","domToKeyCode","domCode","resizeCanvas","canvas","frameWidth","frameHeight","forceAspect","containerWidth","containerHeight","height","aspect","position","top","vsSource","fsSource","webGl","gl","shaderProgram","vertexShader","loadShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","initShaderProgram","vertexPosition","getAttribLocation","textureCoord","uSampler","getUniformLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","positions","bufferData","Float32Array","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","textureCoordBuffer","textureCoordinates","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","pixel","texImage2D","RGB","UNSIGNED_BYTE","useProgram","activeTexture","TEXTURE0","uniform1i","requestAnimationFrameId","frameFormat","updateTexture","drawArrays","TRIANGLES","onResize","onResizeFrame","viewport","events","onFrameSize","onFrame","rgb","rgba","RGBA","resizeObserver","ResizeObserver","observe","disconnect","shaderType","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","info","getShaderInfoLog","deleteShader","Uint8ClampedArray","frameRgb","frameRgba","frameOffset","rgbaOffset","putImageData","ImageData","SamplesQueue","samplesQueue","samples","writeTo","dst","bufferSize","writeIt","toRead","mount","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onStart","stopPropagation","onEnd","onLeave","onPrevent","capture","insensitivePadding","mouseDefault","pointerButton","mapXY","eX","eY","doMapXY","pointerLockElement","exitPointerLock","xy","sendMouseMotion","sendMouseButton","clickDelay","clickThreshold","mouseSwipe","acc","prevX","prevY","mouseButton","abs","sendMouseRelativeMotion","delay","noop","mouse","unlock","requestLock","requestPointerLock","mozRequestPointerLock","webkitRequestPointerLock","mousePointerLock","umount","createDiv","innerHtml","Layers","toggleKeyboard","mouseOverlay","onKeyDown","onKeysPress","offsetWidth","offsetHeight","contentRect","addOnResize","handler","removeOnResize","setOnKeyDown","fireKeyDown","setOnKeyUp","fireKeyUp","setOnKeyPress","fireKeyPress","setOnKeysPress","fireKeysPress","keyCodes","extractLayersConfig","layersConfig","layer","layers","control","controls","keyControl","mapTo","migrateV1ToV2","keyCodeToName","initKeyCodeToName","createButton","innerSize","innerTextSize","borderWidth","backgroundImage","symbolToUrl","innerButton","innerText","fontSize","widthPx","heightPx","onDown","onUp","mapToSymbol","deprecatedCreateHandler","down","right","enter","fullscreen","save","keyboard","up","do","dw","dwn","lft","ri","rght","rgh","enr","ent","entr","mouseNotLocked","pressedButton","pointerDisabled","autolock","mouseLocked","isNotLocked","distance","p1","p2","dx","dy","sqrt","radians","PI","degrees","timers","throttle","cb","bindEvt","attachEvent","unbindEvt","detachEvent","prepareEvent","changedTouches","getScroll","pageXOffset","documentElement","scrollLeft","pageYOffset","scrollTop","applyPosition","pos","bottom","getTransitionStyle","time","configStylePropertyObject","st","vendor","charAt","extend","objA","objB","ar","toBind","move","end","secondBind","Super","Nipple","collection","identifier","frontPosition","defaults","threshold","color","fadeTime","dataOnly","restJoystick","restOpacity","mode","zone","lockX","lockY","buildEl","stylize","instance","show","hide","addToDom","removeFromDom","destroy","setPosition","resetDirection","computeDirection","trigger","Collection","manager","nipples","idles","actives","ids","pressureIntervals","multitouch","maxNumberOfNipples","catchDistance","dynamicPage","follow","computedStyle","getComputedStyle","parentIsFlex","updateBox","prepareNipples","bindings","begin","Manager","collections","scroll","u.getScroll","prepareCollections","resizeHandler","nipple","u.throttle","scrollHandler","_handlers_","u.safeExtend","_domHandlers_","warn","u.bindEvt","u.unbindEvt","back","front","animTime","borderStyle","u.getVendorStyle","transitStyle","u.getTransitionStyle","styles","opacity","zIndex","marginLeft","marginTop","transform","applyStyles","removeTimeout","showTimeout","restTimeout","restCallback","rest","newPosition","angle","directionX","directionY","rAngle","radian","angle45","angle90","force","oldDirection","same","nips","processOnMove","processOnEnd","touchAction","msTouchAction","opts","createNipple","getIdentifier","toPutOn","box","dumb","dumbBox","u.applyPosition","bindNipple","onDestroyed","pressureFn","touch","previousPressure","pressure","webkitForce","onstart","origEvt","u.prepareEvent","u.map","processOnStart","touches","findIndex","bindDocument","indexInIdles","pageX","pageY","getOrCreate","removeIdentifier","nip","u.distance","buttons","u.isPressed","elBox","clamped_dist","clamped_pos","dist","atan2","u.angle","u.radians","raw","cos","sin","u.findCoord","nipplePos","u.clamp","delta_x","delta_y","xPosition","yPosition","toSend","degree","vector","removedIdentifier","unbindDocument","createCollection","bindCollection","binded","pointerId","latest","onmove","onAny","onend","oncancel","processFn","processColl","coll","_found_","factory","nipplejs","layersNames","onLayerChange","ident","controlsVisbile","updateVisibility","createSelectForLayers","toggleOptions","container","marginRight","marginBottom","select","option","onchange","onStop","mapperOpt","mapper","sendKeyEvent","simulateKeyPress","initLegacyLayersControl","dosInstance","unbind","gestures","changeControlLayer","layerName","mapping","press","release","releaseOnEnd","tapJoysticks","usedTimes","joystickId","startTimes","cssStyle","deprecatedButton","unbindOptions","optionControls","getGrid","gridType","SquareGrid","getConfiguration","scale","cols","getCols","rows","getRows","middleCol","floor","middleRow","columnsPadding","rowsPadding","columnWidth","rowHeight","cells","row","cellRow","col","centerX","centerY","getSquareGrid","cellCols","padding","getHoneyCombGrid","initLayersControl","mirrored","selectedLayer","layerConfig","unbindKeyboard","unbindMouse","unbindControls","rebuild","grid","gridConfig","sensors","ControlSensors","column","doOffsetColumnInRow","mirroredInfo","columnsCount","middleColumn","leftStart","leftEnd","rightStart","rightEnd","factoryMapping","copy","leftSide","initLayerConfig","activate","sensor","deactivate","register","Key","isHidden","Options","optionControl","createKeyboardControl","Keyboard","Switch","switchControl","setActiveConfig","getActiveConfig","ScreenMove","screenMoveControl","PointerButton","pointerButtonControl","PointerMove","pointerMoveControl","PointerReset","pointerResetControl","sendMouseSync","PointerToggle","pointerToggleControl","NippleActivator","nippleActivatorControl","nippleContainer","cellSize","activeColumn","activeRow","targetColumn","targetRow","half","started","keyboardControl","setHiddenAround","centralRow","centralColumn","setHiddenIfValid","rowCells","useDosRuntime","preloadProgress","onMessage","msgType","log","toFixed","useLog","rendering","useRenderImage","prevCycles","prevNonSkippableSleepCount","prevSleepCount","prevSleepTime","prevFrame","prevSound","prevMsgSent","prevMsgRecv","intervalStartedAt","intervalId","asyncifyStats","dtMs","dtSec","dStats","nonSkippableSleepCount","sleepCount","sleepTime","messageFrame","messageSound","messageSent","messageReceived","useStats","resume","usePause","useKeyboard","useMouse","nsStore","activeLayer","useLayers","canvasRender","webglRender","useRenderBackend","audioNode","bindVolumeFn","sampleRate","soundFrequency","audioContext","AudioContext","latencyHint","webkitAudioContext","onSoundPush","createScriptProcessor","onaudioprocess","numFrames","outputBuffer","numChannels","numberOfChannels","samplesCount","channel","channelData","getChannelData","gainNode","createGain","unbindVolumeFn","connect","destination","gain","resumeWebAudio","once","setVolume","updateVolumeIfNeeded","newVolume","useAudioBackend","dhry2Bundle","Dhry2Results","results","setResults","runs","vax","pc","setStats","onStdout","oldStdoutFn","dt","runsStr","deltaStr","vaxRatingStr","delta","vaxRating","getComparablePc","NEWER","OLDER","LRUMap","limit","oldest","newest","_keymap","_markEntryAsUsed","entry","MAX_VALUE","it","itv","Entry","BlockCache","sectorSize","aheadRange","memoryLimit","lru","sector","originReadMode","origin","getOrigin","cached","memUsed","MEMORY_LIMIT","Drive","module","preloadSectors","aheadSize","maxRead","readBuffer","readAheadBuffer","readAheadPos","readAheadCompressed","readStartedAt","decodeBuffer","openFn","preloadQueue","preloadProgressFn","restBytes","errorFn","readOnly","pendingRequest","writeBuffer","retries","reconnect","onError","onOpen","onPreloadProgress","progressFn","socket","WebSocket","binaryType","onInit","aheadRangeStr","sizeStr","decodeBufferSize","preloadLength","preloadPos","preload","onPreloadMessage","makeReadRequest","executeRequest","send","sectors","cacheHit","HEAPU8","cacheMiss","bufferedAmount","restLength","expectedSize","decodeResult","output","sIdx","eIdx","literalsLength","matchLength","decodeLz4","aheadOffset","cacheUsed","readTotalTime","textDecoder","TextDecoder","textEncoder","TextEncoder","fMultiplier","clientMessageEnum","serverMessageEnum","WsTransportLayer","sockdrive","createSockdrive","seq","templates","memory","heads","cylinders","sector_size","imageSize","handle","ptr","onSockdriveOpen","onSockdriveError","onSockdrivePreloadProgress","tag","ev","sendMessageToSocket","writeUint32","readUint32","readUint64","encoded","readMessage","out","decode","chunk","freq","lines","heapu8","networkType","lookupNode","dir","find","sizes","protocol","hostname","networkId","packet","sendMessageToServer","sessionId","messageId","encode","timeMs","relative","onlyChanges","initMessageHandler","exit","SoftKeyboard","layout","activeSymbols","charCodeAt","buttonToCode","onPointerCancel","DosWindow","canvasRef","setCi","accessToken","bundles","ws","inervalId","onSuccess","createWsTransportLayer","DosRuntime","onSkip","ErrorWindow","Loading","formatSize","LoadingWindow","AccountNotReady","fileInput","SelectWindow","useUrl","setUseUrl","Load","Upload","toUint8Array","loadEmptyBundle","setUrl","setError","validUrl","onFileChange","Window","frameOpened","windowComponent","currentWideScreen","Ui","rootRef","wide","Toast","ReadOnlyWarning","UpdateWsWarning","Dos","makeNonSerializableStore","makeStore","getDefault","listen","fullscreenElement","pollStep","setTheme","setBackend","setBackendLocked","setWorkerThread","workerThread","setMouseCapture","setBackground","setAutoStart","setKiosk","setImageRendering","setRenderBackend","setRenderAspect","setNoNetworking","setNoCloud","setScaleControls","setMouseSensitivity","setNoCursor","cachedEmail","loadBundleFromConfg","setFrame","setPaused","stop"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,42,49,98,99,100,101,102,103]}